import{c as ps,f as te,b as se,u as ge,d as Ce,j as n,B as me,g as ke,ad as aa,h as na,Z as ra,r as V,m as oa,l as ia,e as mt,ab as at,v as It,w as nt,M as Vt,Q as Ee,x as gs,ae as la,af as ca,z as zt,W as vs,a6 as bs,U as Re,q as ua,a as rt,ag as os,ac as Rt,ah as da,a9 as ha,S as ve,C as Ds,V as _s,y as yt,F as xs,P as is,A as fa,D as ma,E as ya,G as pa}from"./index-6rUOVMd_.js";import{T as pe,a as ga,b as va,u as Ss,P as ba}from"./use-get-all-categories-C3tAPBu6.js";import{Q as Bt}from"./query-error-Dpts8aQS.js";import{E as Da,a as ls}from"./empty-query-Dw7WXztS.js";import{P as _a,a as dt,M as ks,C as xa}from"./modal-loader-CGYcxKTD.js";import{B as Sa}from"./Badge-CrdZXu2G.js";import{A as cs,T as ka}from"./TextInput-CftAEscy.js";import{u as Ca,aT as Cs,a as Gt,aU as wa,I as ut,A as Ma,b as Ta,c as La,ax as we,aL as Xe,aa as ja,a2 as Oa,ao as Ne,a5 as tt,ac as Ya}from"./types-B57NCHjY.js";import{N as Ea,u as ws}from"./use-get-all-resources-B92QOAyM.js";import{i as Na,g as $a,b as Aa,u as Fa,c as Oe,O as Ra,S as Ye}from"./Select-cQbc82uT.js";import{D as Pa}from"./Divider-lLQ21JGp.js";import{c as Wa}from"./clamp-DTmYCdls.js";import{h as Ms,A as Ia}from"./handle-api-errors-DUQrwbry.js";import{S as Pt}from"./Skeleton-D1aZ1InM.js";import{B as Va}from"./Breadcrumbs-D38d1Y_B.js";const[za,Ht]=ps(),[Ba,Ga]=ps();var gt={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const Ha=Ce((e,{gap:t},{size:s})=>({group:{"--pg-gap":t!==void 0?ke(t):ke(s,"pg-gap")}})),Kt=te((e,t)=>{const s=se("PillGroup",null,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,size:f,disabled:u,attributes:v,...x}=s,p=Ht(),h=(p==null?void 0:p.size)||f||void 0,O=ge({name:"PillGroup",classes:gt,props:s,className:r,style:o,classNames:a,styles:i,unstyled:l,attributes:v,vars:c,varsResolver:Ha,stylesCtx:{size:h},rootSelector:"group"});return n.jsx(Ba,{value:{size:h,disabled:u},children:n.jsx(me,{ref:t,size:h,...O("group"),...x})})});Kt.classes=gt;Kt.displayName="@mantine/core/PillGroup";const Ka={variant:"default"},Ua=Ce((e,{radius:t},{size:s})=>({root:{"--pill-fz":ke(s,"pill-fz"),"--pill-height":ke(s,"pill-height"),"--pill-radius":t===void 0?void 0:na(t)}})),st=te((e,t)=>{const s=se("Pill",Ka,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,variant:f,children:u,withRemoveButton:v,onRemove:x,removeButtonProps:p,radius:h,size:O,disabled:L,mod:Y,attributes:R,...E}=s,P=Ga(),S=Ht(),$=O||(P==null?void 0:P.size)||void 0,W=(S==null?void 0:S.variant)==="filled"?"contrast":f||"default",A=ge({name:"Pill",classes:gt,props:s,className:r,style:o,classNames:a,styles:i,unstyled:l,attributes:R,vars:c,varsResolver:Ua,stylesCtx:{size:$}});return n.jsxs(me,{component:"span",ref:t,variant:W,size:$,...A("root",{variant:W}),mod:[{"with-remove":v&&!L,disabled:L||(P==null?void 0:P.disabled)},Y],...E,children:[n.jsx("span",{...A("label"),children:u}),v&&n.jsx(aa,{variant:"transparent",radius:h,tabIndex:-1,"aria-hidden":!0,unstyled:l,...p,...A("remove",{className:p==null?void 0:p.className,style:p==null?void 0:p.style}),onMouseDown:I=>{var T;I.preventDefault(),I.stopPropagation(),(T=p==null?void 0:p.onMouseDown)==null||T.call(p,I)},onClick:I=>{var T;I.stopPropagation(),x==null||x(),(T=p==null?void 0:p.onClick)==null||T.call(p,I)}})]})});st.classes=gt;st.displayName="@mantine/core/Pill";st.Group=Kt;var Ts={field:"m_45c4369d"};const qa={type:"visible"},Ut=te((e,t)=>{const s=se("PillsInputField",qa,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,type:f,disabled:u,id:v,pointer:x,mod:p,attributes:h,...O}=s,L=Ht(),Y=Ca(),R=ge({name:"PillsInputField",classes:Ts,props:s,className:r,style:o,classNames:a,styles:i,unstyled:l,attributes:h,rootSelector:"field"}),E=u||(L==null?void 0:L.disabled);return n.jsx(me,{component:"input",ref:ra(t,L==null?void 0:L.fieldRef),"data-type":f,disabled:E,mod:[{disabled:E,pointer:x},p],...R("field"),...O,id:(Y==null?void 0:Y.inputId)||v,"aria-invalid":L==null?void 0:L.hasError,"aria-describedby":Y==null?void 0:Y.describedBy,type:"text",onMouseDown:P=>!x&&P.stopPropagation()})});Ut.classes=Ts;Ut.displayName="@mantine/core/PillsInputField";const Qa={size:"sm"},pt=te((e,t)=>{const s=se("PillsInput",Qa,e),{children:a,onMouseDown:r,onClick:o,size:i,disabled:l,__staticSelector:c,error:f,variant:u,...v}=s,x=V.useRef(null);return n.jsx(za,{value:{fieldRef:x,size:i,disabled:l,hasError:!!f,variant:u},children:n.jsx(Cs,{size:i,error:f,variant:u,component:"div",ref:t,"data-no-overflow":!0,onMouseDown:p=>{var h;p.preventDefault(),r==null||r(p),(h=x.current)==null||h.focus()},onClick:p=>{var O;p.preventDefault();const h=p.currentTarget.closest("fieldset");h!=null&&h.disabled||((O=x.current)==null||O.focus(),o==null||o(p))},...v,multiline:!0,disabled:l,__staticSelector:c||"PillsInput",withAria:!1,children:a})})});pt.displayName="@mantine/core/PillsInput";pt.Field=Ut;function Za({data:e,value:t}){const s=t.map(r=>r.trim().toLowerCase());return e.reduce((r,o)=>(Na(o)?r.push({group:o.group,items:o.items.filter(i=>s.indexOf(i.value.toLowerCase().trim())===-1)}):s.indexOf(o.value.toLowerCase().trim())===-1&&r.push(o),r),[])}const Ja={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:",",clearSearchOnChange:!0,size:"sm"},qt=te((e,t)=>{const s=se("MultiSelect",Ja,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,size:f,value:u,defaultValue:v,onChange:x,onKeyDown:p,variant:h,data:O,dropdownOpened:L,defaultDropdownOpened:Y,onDropdownOpen:R,onDropdownClose:E,selectFirstOptionOnChange:P,onOptionSubmit:S,comboboxProps:$,filter:W,limit:A,withScrollArea:I,maxDropdownHeight:T,searchValue:j,defaultSearchValue:B,onSearchChange:G,readOnly:_,disabled:g,onFocus:m,onBlur:b,radius:y,rightSection:C,rightSectionWidth:d,rightSectionPointerEvents:M,rightSectionProps:w,leftSection:k,leftSectionWidth:N,leftSectionPointerEvents:F,leftSectionProps:U,inputContainer:J,inputWrapperOrder:ee,withAsterisk:oe,labelProps:z,descriptionProps:ae,errorProps:le,wrapperProps:X,description:K,label:ce,error:q,maxValues:ne,searchable:he,nothingFoundMessage:$e,withCheckIcon:ot,checkIconPosition:Pe,hidePickedOptions:We,withErrorStyles:Ie,name:Ve,form:ze,id:Be,clearable:Ge,clearButtonProps:He,hiddenInputProps:Ke,placeholder:Ue,hiddenInputValuesDivider:Ot,required:Yt,mod:Et,renderOption:Nt,onRemove:fe,onClear:_e,scrollAreaProps:$t,chevronColor:be,attributes:xe,clearSearchOnChange:Se,...qe}=s,Qe=oa(Be),ye=$a(O),De=Aa(ye),it=V.useRef({}),ue=Fa({opened:L,defaultOpened:Y,onDropdownOpen:R,onDropdownClose:()=>{E==null||E(),ue.resetSelectedOption()}}),{styleProps:Ze,rest:{type:lt,autoComplete:Je,...ct}}=ia(qe),[ie,H]=mt({value:u,defaultValue:v,finalValue:[],onChange:x}),[re,Ae]=mt({value:j,defaultValue:B,finalValue:"",onChange:G}),je=Q=>{Ae(Q),ue.resetSelectedOption()},Fe=ge({name:"MultiSelect",classes:{},props:s,classNames:a,styles:i,unstyled:l,attributes:xe}),{resolvedClassNames:ss,resolvedStyles:as}=at({props:s,styles:i,classNames:a}),Js=Q=>{p==null||p(Q),Q.key===" "&&!he&&(Q.preventDefault(),ue.toggleDropdown()),Q.key==="Backspace"&&re.length===0&&ie.length>0&&(fe==null||fe(ie[ie.length-1]),H(ie.slice(0,ie.length-1)))},Xs=ie.map((Q,At)=>{var rs;const Ft=De[Q]||it.current[Q];return n.jsx(st,{withRemoveButton:!_&&!((rs=De[Q])!=null&&rs.disabled),onRemove:()=>{H(ie.filter(sa=>Q!==sa)),fe==null||fe(Q)},unstyled:l,disabled:g,...Fe("pill"),children:(Ft==null?void 0:Ft.label)||Q},`${Q}-${At}`)});V.useEffect(()=>{P&&ue.selectFirstOption()},[P,re]),V.useEffect(()=>{ie.forEach(Q=>{Q in De&&(it.current[Q]=De[Q])})},[De,ie]);const ea=n.jsx(Oe.ClearButton,{...He,onClear:()=>{_e==null||_e(),H([]),je("")}}),ta=Za({data:ye,value:ie}),ns=Ge&&ie.length>0&&!g&&!_;return n.jsxs(n.Fragment,{children:[n.jsxs(Oe,{store:ue,classNames:ss,styles:as,unstyled:l,size:f,readOnly:_,__staticSelector:"MultiSelect",attributes:xe,onOptionSubmit:Q=>{S==null||S(Q),Se&&je(""),ue.updateSelectedOptionIndex("selected"),ie.includes(De[Q].value)?(H(ie.filter(At=>At!==De[Q].value)),fe==null||fe(De[Q].value)):ie.length<ne&&H([...ie,De[Q].value])},...$,children:[n.jsx(Oe.DropdownTarget,{children:n.jsx(pt,{...Ze,__staticSelector:"MultiSelect",classNames:ss,styles:as,unstyled:l,size:f,className:r,style:o,variant:h,disabled:g,radius:y,__defaultRightSection:n.jsx(Oe.Chevron,{size:f,error:q,unstyled:l,color:be}),__clearSection:ea,__clearable:ns,rightSection:C,rightSectionPointerEvents:M||"none",rightSectionWidth:d,rightSectionProps:w,leftSection:k,leftSectionWidth:N,leftSectionPointerEvents:F,leftSectionProps:U,inputContainer:J,inputWrapperOrder:ee,withAsterisk:oe,labelProps:z,descriptionProps:ae,errorProps:le,wrapperProps:X,description:K,label:ce,error:q,withErrorStyles:Ie,__stylesApiProps:{...s,rightSectionPointerEvents:M||(ns?"all":"none"),multiline:!0},pointer:!he,onClick:()=>he?ue.openDropdown():ue.toggleDropdown(),"data-expanded":ue.dropdownOpened||void 0,id:Qe,required:Yt,mod:Et,attributes:xe,children:n.jsxs(st.Group,{attributes:xe,disabled:g,unstyled:l,...Fe("pillsList"),children:[Xs,n.jsx(Oe.EventsTarget,{autoComplete:Je,children:n.jsx(pt.Field,{...ct,ref:t,id:Qe,placeholder:Ue,type:!he&&!Ue?"hidden":"visible",...Fe("inputField"),unstyled:l,onFocus:Q=>{m==null||m(Q),he&&ue.openDropdown()},onBlur:Q=>{b==null||b(Q),ue.closeDropdown(),je("")},onKeyDown:Js,value:re,onChange:Q=>{je(Q.currentTarget.value),he&&ue.openDropdown(),P&&ue.selectFirstOption()},disabled:g,readOnly:_||!he,pointer:!he})})]})})}),n.jsx(Ra,{data:We?ta:ye,hidden:_||g,filter:W,search:re,limit:A,hiddenWhenEmpty:!$e,withScrollArea:I,maxDropdownHeight:T,filterOptions:he,value:ie,checkIconPosition:Pe,withCheckIcon:ot,nothingFoundMessage:$e,unstyled:l,labelId:ce?`${Qe}-label`:void 0,"aria-label":ce?void 0:qe["aria-label"],renderOption:Nt,scrollAreaProps:$t})]}),n.jsx(Oe.HiddenInput,{name:Ve,valuesDivider:Ot,value:ie,form:ze,disabled:g,...Ke})]})});qt.classes={...Cs.classes,...Oe.classes};qt.displayName="@mantine/core/MultiSelect";function Xa(){const e=It(),{fetch:t}=nt();return Gt({mutationKey:[Vt.DELETE_DELETE_TASK],mutationFn:s=>t({endpoint:`/task/${s.id}`,method:"DELETE"}),onSettled:(s,a,{id:r})=>{e.invalidateQueries({queryKey:[Ee.GET_ALL_TASKS]}),e.invalidateQueries({queryKey:[Ee.GET_TASK_BY_ID,r]})}})}function en(){const{fetch:e}=nt();return gs({queryKey:[Ee.GET_ALL_TASKS],queryFn:()=>e({endpoint:"/task",method:"GET"})})}function tn({id:e}){const{fetch:t}=nt();return gs({queryKey:[Ee.GET_TASK_BY_ID,e],queryFn:()=>t({endpoint:`/task/${e}`,method:"GET"})})}function sn(){const e=It(),{fetch:t}=nt();return Gt({mutationKey:[Vt.POST_CREATE_TASK],mutationFn:s=>t({endpoint:"/task",method:"POST",body:s}),onSettled:()=>e.invalidateQueries({queryKey:[Ee.GET_ALL_TASKS]})})}function an(){const e=It(),{fetch:t}=nt();return Gt({mutationKey:[Vt.PUT_UPDATE_TASK],mutationFn:s=>t({endpoint:`/task/${s.id}`,method:"PUT",body:s}),onSettled:(s,a,{id:r})=>{e.invalidateQueries({queryKey:[Ee.GET_ALL_TASKS]}),e.invalidateQueries({queryKey:[Ee.GET_TASK_BY_ID,r]})}})}const Ls=V.createContext(null);var Z=(e=>(e.BROWSE="browse",e.CREATE="create",e.DELETE="delete",e.EDIT="edit",e))(Z||{});function nn(){const[e]=la(),t=ca(),s=e.get("type"),a=V.useMemo(()=>Object.values(Z).find(c=>c===s)??Z.BROWSE,[s]),r=e.get("id"),o=V.useCallback(l=>{const c=new URL(window.location.href),f=u=>{c.searchParams.set("id",u.id),c.searchParams.set("type",u.type)};switch(l.type){case Z.BROWSE:{f({id:"",type:Z.BROWSE});break}case Z.CREATE:{f({id:"",type:Z.CREATE});break}case Z.DELETE:{f({id:l.id,type:Z.DELETE});break}case Z.EDIT:f({id:l.id,type:Z.EDIT})}t({hash:c.hash,search:c.search})},[t]),i=V.useMemo(()=>{switch(a){case Z.BROWSE:return{type:Z.BROWSE};case Z.CREATE:return{type:Z.CREATE};case Z.DELETE:{if(r)return{id:r,type:Z.DELETE};break}case Z.EDIT:{if(r)return{id:r,type:Z.EDIT};break}}return{type:Z.BROWSE}},[r,a]);return V.useMemo(()=>({mode:i,setMode:o}),[i,o])}function js(){return V.useContext(Ls)}function rn({children:e}){return n.jsx(Ls.Provider,{value:nn(),children:e})}function on(){const{setMode:e}=js(),t=en(),s=V.useCallback(()=>{e({type:Z.CREATE})},[e]),a=V.useCallback(o=>{e({id:o,type:Z.DELETE})},[e]),r=V.useCallback(o=>{e({id:o,type:Z.EDIT})},[e]);return V.useMemo(()=>t.isLoading?{status:"loading"}:t.isSuccess?{status:"success",tableEntries:t.data.map(ln),onCreate:s,onDelete:a,onEdit:r}:{status:"error",retry:{onClick:t.refetch,isPending:t.isFetching}},[t.data,t.isFetching,t.isLoading,t.isSuccess,t.refetch,s,a,r])}function ln(e){var t;return{id:e.id,name:e.name,categoryName:((t=e.category)==null?void 0:t.name)??null,recurrenceType:e.cadence.type}}const Os={prettifyKebabCase:e=>e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")};function cn({tableEntries:e,onDelete:t,onEdit:s}){return e.length===0?n.jsx(Da,{title:"No Tasks Yet"}):n.jsxs(pe,{children:[n.jsx(pe.Thead,{children:n.jsxs(pe.Tr,{children:[n.jsx(pe.Th,{style:{minWidth:"20%"},children:"Name"}),n.jsx(pe.Th,{style:{minWidth:"15%"},children:"Category"}),n.jsx(pe.Th,{visibleFrom:"xs",children:"Recurrence Type"}),n.jsx(pe.Th,{style:{minWidth:"20%",textAlign:"end"},children:"Actions"})]})}),n.jsx(pe.Tbody,{children:e.map(a=>n.jsxs(pe.Tr,{children:[n.jsx(pe.Td,{children:a.name}),n.jsx(pe.Td,{children:a.categoryName!==null?n.jsx(Sa,{size:"sm",children:a.categoryName}):n.jsx(zt,{c:"gray",size:"sm",children:"-"})}),n.jsx(pe.Td,{visibleFrom:"xs",children:Os.prettifyKebabCase(a.recurrenceType)}),n.jsx(pe.Td,{children:n.jsx(un,{onDelete:()=>{t(a.id)},onEdit:()=>{s(a.id)}})})]},a.id))})]})}function un({onDelete:e,onEdit:t}){return n.jsxs(vs,{gap:"xs",justify:"end",children:[n.jsx(ls,{label:"Edit Task",children:n.jsx(cs,{size:"sm",variant:"light",onClick:t,children:n.jsx(_a,{style:{width:"80%",height:"80%"}})})}),n.jsx(ls,{label:"Delete Task",children:n.jsx(cs,{size:"sm",variant:"light",onClick:e,children:n.jsx(ga,{style:{width:"80%",height:"80%"}})})})]})}const dn={today(){const e=new Date,t=e.getFullYear(),s=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0");return`${String(t)}-${s}-${a}`}};var ht={exports:{}},hn=ht.exports,us;function fn(){return us||(us=1,(function(e,t){(function(s,a){e.exports=a()})(hn,(function(){var s=1e3,a=6e4,r=36e5,o="millisecond",i="second",l="minute",c="hour",f="day",u="week",v="month",x="quarter",p="year",h="date",O="Invalid Date",L=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,R={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var g=["th","st","nd","rd"],m=_%100;return"["+_+(g[(m-20)%10]||g[m]||g[0])+"]"}},E=function(_,g,m){var b=String(_);return!b||b.length>=g?_:""+Array(g+1-b.length).join(m)+_},P={s:E,z:function(_){var g=-_.utcOffset(),m=Math.abs(g),b=Math.floor(m/60),y=m%60;return(g<=0?"+":"-")+E(b,2,"0")+":"+E(y,2,"0")},m:function _(g,m){if(g.date()<m.date())return-_(m,g);var b=12*(m.year()-g.year())+(m.month()-g.month()),y=g.clone().add(b,v),C=m-y<0,d=g.clone().add(b+(C?-1:1),v);return+(-(b+(m-y)/(C?y-d:d-y))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:v,y:p,w:u,d:f,D:h,h:c,m:l,s:i,ms:o,Q:x}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},S="en",$={};$[S]=R;var W="$isDayjsObject",A=function(_){return _ instanceof B||!(!_||!_[W])},I=function _(g,m,b){var y;if(!g)return S;if(typeof g=="string"){var C=g.toLowerCase();$[C]&&(y=C),m&&($[C]=m,y=C);var d=g.split("-");if(!y&&d.length>1)return _(d[0])}else{var M=g.name;$[M]=g,y=M}return!b&&y&&(S=y),y||!b&&S},T=function(_,g){if(A(_))return _.clone();var m=typeof g=="object"?g:{};return m.date=_,m.args=arguments,new B(m)},j=P;j.l=I,j.i=A,j.w=function(_,g){return T(_,{locale:g.$L,utc:g.$u,x:g.$x,$offset:g.$offset})};var B=(function(){function _(m){this.$L=I(m.locale,null,!0),this.parse(m),this.$x=this.$x||m.x||{},this[W]=!0}var g=_.prototype;return g.parse=function(m){this.$d=(function(b){var y=b.date,C=b.utc;if(y===null)return new Date(NaN);if(j.u(y))return new Date;if(y instanceof Date)return new Date(y);if(typeof y=="string"&&!/Z$/i.test(y)){var d=y.match(L);if(d){var M=d[2]-1||0,w=(d[7]||"0").substring(0,3);return C?new Date(Date.UTC(d[1],M,d[3]||1,d[4]||0,d[5]||0,d[6]||0,w)):new Date(d[1],M,d[3]||1,d[4]||0,d[5]||0,d[6]||0,w)}}return new Date(y)})(m),this.init()},g.init=function(){var m=this.$d;this.$y=m.getFullYear(),this.$M=m.getMonth(),this.$D=m.getDate(),this.$W=m.getDay(),this.$H=m.getHours(),this.$m=m.getMinutes(),this.$s=m.getSeconds(),this.$ms=m.getMilliseconds()},g.$utils=function(){return j},g.isValid=function(){return this.$d.toString()!==O},g.isSame=function(m,b){var y=T(m);return this.startOf(b)<=y&&y<=this.endOf(b)},g.isAfter=function(m,b){return T(m)<this.startOf(b)},g.isBefore=function(m,b){return this.endOf(b)<T(m)},g.$g=function(m,b,y){return j.u(m)?this[b]:this.set(y,m)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(m,b){var y=this,C=!!j.u(b)||b,d=j.p(m),M=function(oe,z){var ae=j.w(y.$u?Date.UTC(y.$y,z,oe):new Date(y.$y,z,oe),y);return C?ae:ae.endOf(f)},w=function(oe,z){return j.w(y.toDate()[oe].apply(y.toDate("s"),(C?[0,0,0,0]:[23,59,59,999]).slice(z)),y)},k=this.$W,N=this.$M,F=this.$D,U="set"+(this.$u?"UTC":"");switch(d){case p:return C?M(1,0):M(31,11);case v:return C?M(1,N):M(0,N+1);case u:var J=this.$locale().weekStart||0,ee=(k<J?k+7:k)-J;return M(C?F-ee:F+(6-ee),N);case f:case h:return w(U+"Hours",0);case c:return w(U+"Minutes",1);case l:return w(U+"Seconds",2);case i:return w(U+"Milliseconds",3);default:return this.clone()}},g.endOf=function(m){return this.startOf(m,!1)},g.$set=function(m,b){var y,C=j.p(m),d="set"+(this.$u?"UTC":""),M=(y={},y[f]=d+"Date",y[h]=d+"Date",y[v]=d+"Month",y[p]=d+"FullYear",y[c]=d+"Hours",y[l]=d+"Minutes",y[i]=d+"Seconds",y[o]=d+"Milliseconds",y)[C],w=C===f?this.$D+(b-this.$W):b;if(C===v||C===p){var k=this.clone().set(h,1);k.$d[M](w),k.init(),this.$d=k.set(h,Math.min(this.$D,k.daysInMonth())).$d}else M&&this.$d[M](w);return this.init(),this},g.set=function(m,b){return this.clone().$set(m,b)},g.get=function(m){return this[j.p(m)]()},g.add=function(m,b){var y,C=this;m=Number(m);var d=j.p(b),M=function(N){var F=T(C);return j.w(F.date(F.date()+Math.round(N*m)),C)};if(d===v)return this.set(v,this.$M+m);if(d===p)return this.set(p,this.$y+m);if(d===f)return M(1);if(d===u)return M(7);var w=(y={},y[l]=a,y[c]=r,y[i]=s,y)[d]||1,k=this.$d.getTime()+m*w;return j.w(k,this)},g.subtract=function(m,b){return this.add(-1*m,b)},g.format=function(m){var b=this,y=this.$locale();if(!this.isValid())return y.invalidDate||O;var C=m||"YYYY-MM-DDTHH:mm:ssZ",d=j.z(this),M=this.$H,w=this.$m,k=this.$M,N=y.weekdays,F=y.months,U=y.meridiem,J=function(z,ae,le,X){return z&&(z[ae]||z(b,C))||le[ae].slice(0,X)},ee=function(z){return j.s(M%12||12,z,"0")},oe=U||function(z,ae,le){var X=z<12?"AM":"PM";return le?X.toLowerCase():X};return C.replace(Y,(function(z,ae){return ae||(function(le){switch(le){case"YY":return String(b.$y).slice(-2);case"YYYY":return j.s(b.$y,4,"0");case"M":return k+1;case"MM":return j.s(k+1,2,"0");case"MMM":return J(y.monthsShort,k,F,3);case"MMMM":return J(F,k);case"D":return b.$D;case"DD":return j.s(b.$D,2,"0");case"d":return String(b.$W);case"dd":return J(y.weekdaysMin,b.$W,N,2);case"ddd":return J(y.weekdaysShort,b.$W,N,3);case"dddd":return N[b.$W];case"H":return String(M);case"HH":return j.s(M,2,"0");case"h":return ee(1);case"hh":return ee(2);case"a":return oe(M,w,!0);case"A":return oe(M,w,!1);case"m":return String(w);case"mm":return j.s(w,2,"0");case"s":return String(b.$s);case"ss":return j.s(b.$s,2,"0");case"SSS":return j.s(b.$ms,3,"0");case"Z":return d}return null})(z)||d.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(m,b,y){var C,d=this,M=j.p(b),w=T(m),k=(w.utcOffset()-this.utcOffset())*a,N=this-w,F=function(){return j.m(d,w)};switch(M){case p:C=F()/12;break;case v:C=F();break;case x:C=F()/3;break;case u:C=(N-k)/6048e5;break;case f:C=(N-k)/864e5;break;case c:C=N/r;break;case l:C=N/a;break;case i:C=N/s;break;default:C=N}return y?C:j.a(C)},g.daysInMonth=function(){return this.endOf(v).$D},g.$locale=function(){return $[this.$L]},g.locale=function(m,b){if(!m)return this.$L;var y=this.clone(),C=I(m,b,!0);return C&&(y.$L=C),y},g.clone=function(){return j.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},_})(),G=B.prototype;return T.prototype=G,[["$ms",o],["$s",i],["$m",l],["$H",c],["$W",f],["$M",v],["$y",p],["$D",h]].forEach((function(_){G[_[1]]=function(g){return this.$g(g,_[0],_[1])}})),T.extend=function(_,g){return _.$i||(_(g,B,T),_.$i=!0),T},T.locale=I,T.isDayjs=A,T.unix=function(_){return T(1e3*_)},T.en=$[S],T.Ls=$,T.p={},T}))})(ht)),ht.exports}var mn=fn();const D=bs(mn);function yn({type:e,date:t,locale:s,format:a,labelSeparator:r}){const o=i=>D(i).locale(s).format(a);return e==="default"?t===null?"":o(t):e==="multiple"?t.map(o).join(", "):e==="range"&&Array.isArray(t)?t[0]&&t[1]?`${o(t[0])} ${r} ${o(t[1])}`:t[0]?`${o(t[0])} ${r} `:"":""}function pn({formatter:e,...t}){return(e||yn)(t)}function gn({direction:e,levelIndex:t,rowIndex:s,cellIndex:a,size:r}){switch(e){case"up":return t===0&&s===0?null:s===0?{levelIndex:t-1,rowIndex:a<=r[t-1][r[t-1].length-1]-1?r[t-1].length-1:r[t-1].length-2,cellIndex:a}:{levelIndex:t,rowIndex:s-1,cellIndex:a};case"down":return s===r[t].length-1?{levelIndex:t+1,rowIndex:0,cellIndex:a}:s===r[t].length-2&&a>=r[t][r[t].length-1]?{levelIndex:t+1,rowIndex:0,cellIndex:a}:{levelIndex:t,rowIndex:s+1,cellIndex:a};case"left":return t===0&&s===0&&a===0?null:s===0&&a===0?{levelIndex:t-1,rowIndex:r[t-1].length-1,cellIndex:r[t-1][r[t-1].length-1]-1}:a===0?{levelIndex:t,rowIndex:s-1,cellIndex:r[t][s-1]-1}:{levelIndex:t,rowIndex:s,cellIndex:a-1};case"right":return s===r[t].length-1&&a===r[t][s]-1?{levelIndex:t+1,rowIndex:0,cellIndex:0}:a===r[t][s]-1?{levelIndex:t,rowIndex:s+1,cellIndex:0}:{levelIndex:t,rowIndex:s,cellIndex:a+1};default:return{levelIndex:t,rowIndex:s,cellIndex:a}}}function Ys({controlsRef:e,direction:t,levelIndex:s,rowIndex:a,cellIndex:r,size:o}){var c,f,u;const i=gn({direction:t,size:o,rowIndex:a,cellIndex:r,levelIndex:s});if(!i)return;const l=(u=(f=(c=e.current)==null?void 0:c[i.levelIndex])==null?void 0:f[i.rowIndex])==null?void 0:u[i.cellIndex];l&&(l.disabled||l.getAttribute("data-hidden")||l.getAttribute("data-outside")?Ys({controlsRef:e,direction:t,levelIndex:i.levelIndex,cellIndex:i.cellIndex,rowIndex:i.rowIndex,size:o}):l.focus())}function vn(e){switch(e){case"ArrowDown":return"down";case"ArrowUp":return"up";case"ArrowRight":return"right";case"ArrowLeft":return"left";default:return null}}function bn(e){var t;return(t=e.current)==null?void 0:t.map(s=>s.map(a=>a.length))}function Qt({controlsRef:e,levelIndex:t,rowIndex:s,cellIndex:a,event:r}){const o=vn(r.key);if(o){r.preventDefault();const i=bn(e);Ys({controlsRef:e,direction:o,levelIndex:t,rowIndex:s,cellIndex:a,size:i})}}function de(e){return e==null||e===""?e:D(e).format("YYYY-MM-DD")}function Es(e){return e==null||e===""?e:D(e).format("YYYY-MM-DD HH:mm:ss")}function Dn({minDate:e,maxDate:t}){const s=D();return!e&&!t?de(s):e&&D(s).isBefore(e)?de(e):t&&D(s).isAfter(t)?de(t):de(s)}const _n={locale:"en",firstDayOfWeek:1,weekendDays:[0,6],labelSeparator:"–",consistentWeeks:!1},xn=V.createContext(_n);function Me(){const e=V.useContext(xn),t=V.useCallback(o=>o||e.locale,[e.locale]),s=V.useCallback(o=>typeof o=="number"?o:e.firstDayOfWeek,[e.firstDayOfWeek]),a=V.useCallback(o=>Array.isArray(o)?o:e.weekendDays,[e.weekendDays]),r=V.useCallback(o=>typeof o=="string"?o:e.labelSeparator,[e.labelSeparator]);return{...e,getLocale:t,getFirstDayOfWeek:s,getWeekendDays:a,getLabelSeparator:r}}function Sn({value:e,type:t,withTime:s}){const a=s?Es:de;if(t==="range"&&Array.isArray(e)){const r=a(e[0]),o=a(e[1]);return r?o?`${r} – ${o}`:`${r} –`:""}return t==="multiple"&&Array.isArray(e)?e.filter(Boolean).join(", "):!Array.isArray(e)&&e?a(e):""}function Ns({value:e,type:t,name:s,form:a,withTime:r=!1}){return n.jsx("input",{type:"hidden",value:Sn({value:e,type:t,withTime:r}),name:s,form:a})}Ns.displayName="@mantine/dates/HiddenDatesInput";var $s={day:"m_396ce5cb"};const kn=Ce((e,{size:t})=>({day:{"--day-size":ke(t,"day-size")}})),Zt=te((e,t)=>{const s=se("Day",null,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,date:f,disabled:u,__staticSelector:v,weekend:x,outside:p,selected:h,renderDay:O,inRange:L,firstInRange:Y,lastInRange:R,hidden:E,static:P,highlightToday:S,attributes:$,...W}=s,A=ge({name:v||"Day",classes:$s,props:s,className:r,style:o,classNames:a,styles:i,unstyled:l,attributes:$,vars:c,varsResolver:kn,rootSelector:"day"});return n.jsx(Re,{...A("day",{style:E?{display:"none"}:void 0}),component:P?"div":"button",ref:t,disabled:u,"data-today":D(f).isSame(new Date,"day")||void 0,"data-hidden":E||void 0,"data-highlight-today":S||void 0,"data-disabled":u||void 0,"data-weekend":!u&&!p&&x||void 0,"data-outside":!u&&p||void 0,"data-selected":!u&&h||void 0,"data-in-range":L&&!u||void 0,"data-first-in-range":Y&&!u||void 0,"data-last-in-range":R&&!u||void 0,"data-static":P||void 0,unstyled:l,...W,children:(O==null?void 0:O(f))||D(f).date()})});Zt.classes=$s;Zt.displayName="@mantine/dates/Day";function Cn({locale:e,format:t="dd",firstDayOfWeek:s=1}){const a=D().day(s),r=[];for(let o=0;o<7;o+=1)typeof t=="string"?r.push(D(a).add(o,"days").locale(e).format(t)):r.push(t(D(a).add(o,"days").format("YYYY-MM-DD")));return r}var As={weekday:"m_18a3eca"};const wn=Ce((e,{size:t})=>({weekdaysRow:{"--wr-fz":rt(t),"--wr-spacing":ua(t)}})),Jt=te((e,t)=>{const s=se("WeekdaysRow",null,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,locale:f,firstDayOfWeek:u,weekdayFormat:v,cellComponent:x="th",__staticSelector:p,withWeekNumbers:h,attributes:O,...L}=s,Y=ge({name:p||"WeekdaysRow",classes:As,props:s,className:r,style:o,classNames:a,styles:i,unstyled:l,attributes:O,vars:c,varsResolver:wn,rootSelector:"weekdaysRow"}),R=Me(),E=Cn({locale:R.getLocale(f),format:v,firstDayOfWeek:R.getFirstDayOfWeek(u)}).map((P,S)=>n.jsx(x,{...Y("weekday"),children:P},S));return n.jsxs(me,{component:"tr",ref:t,...Y("weekdaysRow"),...L,children:[h&&n.jsx(x,{...Y("weekday"),children:"#"}),E]})});Jt.classes=As;Jt.displayName="@mantine/dates/WeekdaysRow";function Mn(e,t=1){let s=D(e);const a=t===0?6:t-1;for(;s.day()!==a;)s=s.add(1,"day");return s.format("YYYY-MM-DD")}function Tn(e,t=1){let s=D(e);for(;s.day()!==t;)s=s.subtract(1,"day");return s.format("YYYY-MM-DD")}function Ln({month:e,firstDayOfWeek:t=1,consistentWeeks:s}){const a=D(e).subtract(D(e).date()-1,"day"),r=D(a.format("YYYY-M-D")),o=r.format("YYYY-MM-DD"),i=r.add(+r.daysInMonth()-1,"day").format("YYYY-MM-DD"),l=Mn(i,t),c=[];let f=D(Tn(o,t));for(;D(f).isBefore(l,"day");){const u=[];for(let v=0;v<7;v+=1)u.push(f.format("YYYY-MM-DD")),f=f.add(1,"day");c.push(u)}if(s&&c.length<6){const u=c[c.length-1],v=u[u.length-1];let x=D(v).add(1,"day");for(;c.length<6;){const p=[];for(let h=0;h<7;h+=1)p.push(x.format("YYYY-MM-DD")),x=x.add(1,"day");c.push(p)}}return c}function Xt(e,t){return D(e).format("YYYY-MM")===D(t).format("YYYY-MM")}function Fs(e,t){return t?D(e).isAfter(D(t).subtract(1,"day"),"day"):!0}function Rs(e,t){return t?D(e).isBefore(D(t).add(1,"day"),"day"):!0}function jn({dates:e,minDate:t,maxDate:s,getDayProps:a,excludeDate:r,hideOutsideDates:o,month:i}){const l=e.flat().filter(u=>{var v;return Rs(u,s)&&Fs(u,t)&&!(r!=null&&r(u))&&!((v=a==null?void 0:a(u))!=null&&v.disabled)&&(!o||Xt(u,i))}),c=l.find(u=>{var v;return(v=a==null?void 0:a(u))==null?void 0:v.selected});if(c)return c;const f=l.find(u=>D().isSame(u,"date"));return f||l[0]}var ft={exports:{}},On=ft.exports,ds;function Yn(){return ds||(ds=1,(function(e,t){(function(s,a){e.exports=a()})(On,(function(){var s="day";return function(a,r,o){var i=function(f){return f.add(4-f.isoWeekday(),s)},l=r.prototype;l.isoWeekYear=function(){return i(this).year()},l.isoWeek=function(f){if(!this.$utils().u(f))return this.add(7*(f-this.isoWeek()),s);var u,v,x,p,h=i(this),O=(u=this.isoWeekYear(),v=this.$u,x=(v?o.utc:o)().year(u).startOf("year"),p=4-x.isoWeekday(),x.isoWeekday()>4&&(p+=7),x.add(p,s));return h.diff(O,"week")+1},l.isoWeekday=function(f){return this.$utils().u(f)?this.day()||7:this.day(this.day()%7?f:f-7)};var c=l.startOf;l.startOf=function(f,u){var v=this.$utils(),x=!!v.u(u)||u;return v.p(f)==="isoweek"?x?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):c.bind(this)(f,u)}}}))})(ft)),ft.exports}var En=Yn();const Nn=bs(En);D.extend(Nn);function $n(e){const t=e.find(s=>D(s).day()===1);return D(t).isoWeek()}var Ps={month:"m_cc9820d3",monthCell:"m_8f457cd5",weekNumber:"m_6cff9dea"};const An={withCellSpacing:!0},Fn=Ce((e,{size:t})=>({weekNumber:{"--wn-fz":rt(t),"--wn-size":ke(t,"wn-size")}})),vt=te((e,t)=>{const s=se("Month",An,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,__staticSelector:f,locale:u,firstDayOfWeek:v,weekdayFormat:x,month:p,weekendDays:h,getDayProps:O,excludeDate:L,minDate:Y,maxDate:R,renderDay:E,hideOutsideDates:P,hideWeekdays:S,getDayAriaLabel:$,static:W,__getDayRef:A,__onDayKeyDown:I,__onDayClick:T,__onDayMouseEnter:j,__preventFocus:B,__stopPropagation:G,withCellSpacing:_,size:g,highlightToday:m,withWeekNumbers:b,attributes:y,...C}=s,d=ge({name:f||"Month",classes:Ps,props:s,className:r,style:o,classNames:a,styles:i,unstyled:l,attributes:y,vars:c,varsResolver:Fn,rootSelector:"month"}),M=Me(),w=Ln({month:p,firstDayOfWeek:M.getFirstDayOfWeek(v),consistentWeeks:M.consistentWeeks}),k=jn({dates:w,minDate:de(Y),maxDate:de(R),getDayProps:O,excludeDate:L,hideOutsideDates:P,month:p}),{resolvedClassNames:N,resolvedStyles:F}=at({classNames:a,styles:i,props:s}),U=w.map((J,ee)=>{const oe=J.map((z,ae)=>{const le=!Xt(z,p),X=($==null?void 0:$(z))||D(z).locale(u||M.locale).format("D MMMM YYYY"),K=O==null?void 0:O(z),ce=D(z).isSame(k,"date");return n.jsx("td",{...d("monthCell"),"data-with-spacing":_||void 0,children:n.jsx(Zt,{__staticSelector:f||"Month",classNames:N,styles:F,unstyled:l,"data-mantine-stop-propagation":G||void 0,highlightToday:m,renderDay:E,date:z,size:g,weekend:M.getWeekendDays(h).includes(D(z).get("day")),outside:le,hidden:P?le:!1,"aria-label":X,static:W,disabled:(L==null?void 0:L(z))||!Rs(z,de(R))||!Fs(z,de(Y)),ref:q=>{q&&(A==null||A(ee,ae,q))},...K,onKeyDown:q=>{var ne;(ne=K==null?void 0:K.onKeyDown)==null||ne.call(K,q),I==null||I(q,{rowIndex:ee,cellIndex:ae,date:z})},onMouseEnter:q=>{var ne;(ne=K==null?void 0:K.onMouseEnter)==null||ne.call(K,q),j==null||j(q,z)},onClick:q=>{var ne;(ne=K==null?void 0:K.onClick)==null||ne.call(K,q),T==null||T(q,z)},onMouseDown:q=>{var ne;(ne=K==null?void 0:K.onMouseDown)==null||ne.call(K,q),B&&q.preventDefault()},tabIndex:B||!ce?-1:0})},z.toString())});return n.jsxs("tr",{...d("monthRow"),children:[b&&n.jsx("td",{...d("weekNumber"),children:$n(J)}),oe]},ee)});return n.jsxs(me,{component:"table",...d("month"),size:g,ref:t,...C,children:[!S&&n.jsx("thead",{...d("monthThead"),children:n.jsx(Jt,{__staticSelector:f||"Month",locale:u,firstDayOfWeek:v,weekdayFormat:x,size:g,classNames:N,styles:F,unstyled:l,withWeekNumbers:b})}),n.jsx("tbody",{...d("monthTbody"),children:U})]})});vt.classes=Ps;vt.displayName="@mantine/dates/Month";var Ws={pickerControl:"m_dc6a3c71"};const Rn=Ce((e,{size:t})=>({pickerControl:{"--dpc-fz":rt(t),"--dpc-size":ke(t,"dpc-size")}})),bt=te((e,t)=>{const s=se("PickerControl",null,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,firstInRange:f,lastInRange:u,inRange:v,__staticSelector:x,selected:p,disabled:h,attributes:O,...L}=s,Y=ge({name:x||"PickerControl",classes:Ws,props:s,className:r,style:o,classNames:a,styles:i,unstyled:l,attributes:O,vars:c,varsResolver:Rn,rootSelector:"pickerControl"});return n.jsx(Re,{...Y("pickerControl"),ref:t,unstyled:l,"data-picker-control":!0,"data-selected":p&&!h||void 0,"data-disabled":h||void 0,"data-in-range":v&&!h&&!p||void 0,"data-first-in-range":f&&!h||void 0,"data-last-in-range":u&&!h||void 0,disabled:h,...L})});bt.classes=Ws;bt.displayName="@mantine/dates/PickerControl";function Is({year:e,minDate:t,maxDate:s}){return!t&&!s?!1:!!(t&&D(e).isBefore(t,"year")||s&&D(e).isAfter(s,"year"))}function Pn({years:e,minDate:t,maxDate:s,getYearControlProps:a}){const r=e.flat().filter(l=>{var c;return!Is({year:l,minDate:t,maxDate:s})&&!((c=a==null?void 0:a(l))!=null&&c.disabled)}),o=r.find(l=>{var c;return(c=a==null?void 0:a(l))==null?void 0:c.selected});if(o)return o;const i=r.find(l=>D().isSame(l,"year"));return i||r[0]}function Vs(e){const t=D(e).year(),s=t-t%10;let a=0;const r=[[],[],[],[]];for(let o=0;o<4;o+=1){const i=o===3?1:3;for(let l=0;l<i;l+=1)r[o].push(D(new Date(s+a,0)).format("YYYY-MM-DD")),a+=1}return r}var zs={yearsList:"m_9206547b",yearsListCell:"m_c5a19c7d"};const Wn={yearsListFormat:"YYYY",withCellSpacing:!0},Dt=te((e,t)=>{const s=se("YearsList",Wn,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,decade:f,yearsListFormat:u,locale:v,minDate:x,maxDate:p,getYearControlProps:h,__staticSelector:O,__getControlRef:L,__onControlKeyDown:Y,__onControlClick:R,__onControlMouseEnter:E,__preventFocus:P,__stopPropagation:S,withCellSpacing:$,size:W,attributes:A,...I}=s,T=ge({name:O||"YearsList",classes:zs,props:s,className:r,style:o,classNames:a,styles:i,unstyled:l,attributes:A,vars:c,rootSelector:"yearsList"}),j=Me(),B=Vs(f),G=Pn({years:B,minDate:x,maxDate:p,getYearControlProps:h}),_=B.map((g,m)=>{const b=g.map((y,C)=>{const d=h==null?void 0:h(y),M=D(y).isSame(G,"year");return n.jsx("td",{...T("yearsListCell"),"data-with-spacing":$||void 0,children:n.jsx(bt,{...T("yearsListControl"),size:W,unstyled:l,"data-mantine-stop-propagation":S||void 0,disabled:Is({year:y,minDate:x,maxDate:p}),ref:w=>{w&&(L==null||L(m,C,w))},...d,onKeyDown:w=>{var k;(k=d==null?void 0:d.onKeyDown)==null||k.call(d,w),Y==null||Y(w,{rowIndex:m,cellIndex:C,date:y})},onClick:w=>{var k;(k=d==null?void 0:d.onClick)==null||k.call(d,w),R==null||R(w,y)},onMouseEnter:w=>{var k;(k=d==null?void 0:d.onMouseEnter)==null||k.call(d,w),E==null||E(w,y)},onMouseDown:w=>{var k;(k=d==null?void 0:d.onMouseDown)==null||k.call(d,w),P&&w.preventDefault()},tabIndex:P||!M?-1:0,children:D(y).locale(j.getLocale(v)).format(u)})},C)});return n.jsx("tr",{...T("yearsListRow"),children:b},m)});return n.jsx(me,{component:"table",ref:t,size:W,...T("yearsList"),...I,children:n.jsx("tbody",{children:_})})});Dt.classes=zs;Dt.displayName="@mantine/dates/YearsList";function Bs({month:e,minDate:t,maxDate:s}){return!t&&!s?!1:!!(t&&D(e).isBefore(t,"month")||s&&D(e).isAfter(s,"month"))}function In({months:e,minDate:t,maxDate:s,getMonthControlProps:a}){const r=e.flat().filter(l=>{var c;return!Bs({month:l,minDate:t,maxDate:s})&&!((c=a==null?void 0:a(l))!=null&&c.disabled)}),o=r.find(l=>{var c;return(c=a==null?void 0:a(l))==null?void 0:c.selected});if(o)return o;const i=r.find(l=>D().isSame(l,"month"));return i||r[0]}function Vn(e){const t=D(e).startOf("year").toDate(),s=[[],[],[],[]];let a=0;for(let r=0;r<4;r+=1)for(let o=0;o<3;o+=1)s[r].push(D(t).add(a,"months").format("YYYY-MM-DD")),a+=1;return s}var Gs={monthsList:"m_2a6c32d",monthsListCell:"m_fe27622f"};const zn={monthsListFormat:"MMM",withCellSpacing:!0},_t=te((e,t)=>{const s=se("MonthsList",zn,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,__staticSelector:f,year:u,monthsListFormat:v,locale:x,minDate:p,maxDate:h,getMonthControlProps:O,__getControlRef:L,__onControlKeyDown:Y,__onControlClick:R,__onControlMouseEnter:E,__preventFocus:P,__stopPropagation:S,withCellSpacing:$,size:W,attributes:A,...I}=s,T=ge({name:f||"MonthsList",classes:Gs,props:s,className:r,style:o,classNames:a,styles:i,unstyled:l,attributes:A,vars:c,rootSelector:"monthsList"}),j=Me(),B=Vn(u),G=In({months:B,minDate:de(p),maxDate:de(h),getMonthControlProps:O}),_=B.map((g,m)=>{const b=g.map((y,C)=>{const d=O==null?void 0:O(y),M=D(y).isSame(G,"month");return n.jsx("td",{...T("monthsListCell"),"data-with-spacing":$||void 0,children:n.jsx(bt,{...T("monthsListControl"),size:W,unstyled:l,__staticSelector:f||"MonthsList","data-mantine-stop-propagation":S||void 0,disabled:Bs({month:y,minDate:de(p),maxDate:de(h)}),ref:w=>{w&&(L==null||L(m,C,w))},...d,onKeyDown:w=>{var k;(k=d==null?void 0:d.onKeyDown)==null||k.call(d,w),Y==null||Y(w,{rowIndex:m,cellIndex:C,date:y})},onClick:w=>{var k;(k=d==null?void 0:d.onClick)==null||k.call(d,w),R==null||R(w,y)},onMouseEnter:w=>{var k;(k=d==null?void 0:d.onMouseEnter)==null||k.call(d,w),E==null||E(w,y)},onMouseDown:w=>{var k;(k=d==null?void 0:d.onMouseDown)==null||k.call(d,w),P&&w.preventDefault()},tabIndex:P||!M?-1:0,children:D(y).locale(j.getLocale(x)).format(v)})},C)});return n.jsx("tr",{...T("monthsListRow"),children:b},m)});return n.jsx(me,{component:"table",ref:t,size:W,...T("monthsList"),...I,children:n.jsx("tbody",{children:_})})});_t.classes=Gs;_t.displayName="@mantine/dates/MonthsList";var Hs={calendarHeader:"m_730a79ed",calendarHeaderLevel:"m_f6645d97",calendarHeaderControl:"m_2351eeb0",calendarHeaderControlIcon:"m_367dc749"};const Bn={hasNextLevel:!0,withNext:!0,withPrevious:!0,headerControlsOrder:["previous","level","next"]},Gn=Ce((e,{size:t})=>({calendarHeader:{"--dch-control-size":ke(t,"dch-control-size"),"--dch-fz":rt(t)}})),Te=te((e,t)=>{const s=se("CalendarHeader",Bn,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,nextIcon:f,previousIcon:u,nextLabel:v,previousLabel:x,onNext:p,onPrevious:h,onLevelClick:O,label:L,nextDisabled:Y,previousDisabled:R,hasNextLevel:E,levelControlAriaLabel:P,withNext:S,withPrevious:$,headerControlsOrder:W,__staticSelector:A,__preventFocus:I,__stopPropagation:T,attributes:j,...B}=s,G=ge({name:A||"CalendarHeader",classes:Hs,props:s,className:r,style:o,classNames:a,styles:i,unstyled:l,attributes:j,vars:c,varsResolver:Gn,rootSelector:"calendarHeader"}),_=I?C=>C.preventDefault():void 0,g=$&&V.createElement(Re,{...G("calendarHeaderControl"),key:"previous","data-direction":"previous","aria-label":x,onClick:h,unstyled:l,onMouseDown:_,disabled:R,"data-disabled":R||void 0,tabIndex:I||R?-1:0,"data-mantine-stop-propagation":T||void 0},u||n.jsx(os,{...G("calendarHeaderControlIcon"),"data-direction":"previous",size:"45%"})),m=V.createElement(Re,{component:E?"button":"div",...G("calendarHeaderLevel"),key:"level",onClick:E?O:void 0,unstyled:l,onMouseDown:E?_:void 0,disabled:!E,"data-static":!E||void 0,"aria-label":P,tabIndex:I||!E?-1:0,"data-mantine-stop-propagation":T||void 0},L),b=S&&V.createElement(Re,{...G("calendarHeaderControl"),key:"next","data-direction":"next","aria-label":v,onClick:p,unstyled:l,onMouseDown:_,disabled:Y,"data-disabled":Y||void 0,tabIndex:I||Y?-1:0,"data-mantine-stop-propagation":T||void 0},f||n.jsx(os,{...G("calendarHeaderControlIcon"),"data-direction":"next",size:"45%"})),y=W.map(C=>C==="previous"?g:C==="level"?m:C==="next"?b:null);return n.jsx(me,{...G("calendarHeader"),ref:t,...B,children:y})});Te.classes=Hs;Te.displayName="@mantine/dates/CalendarHeader";function Hn(e){const t=Vs(e);return[t[0][0],t[3][0]]}const Kn={decadeLabelFormat:"YYYY"},xt=te((e,t)=>{const s=se("DecadeLevel",Kn,e),{decade:a,locale:r,minDate:o,maxDate:i,yearsListFormat:l,getYearControlProps:c,__getControlRef:f,__onControlKeyDown:u,__onControlClick:v,__onControlMouseEnter:x,withCellSpacing:p,__preventFocus:h,nextIcon:O,previousIcon:L,nextLabel:Y,previousLabel:R,onNext:E,onPrevious:P,nextDisabled:S,previousDisabled:$,levelControlAriaLabel:W,withNext:A,withPrevious:I,headerControlsOrder:T,decadeLabelFormat:j,classNames:B,styles:G,unstyled:_,__staticSelector:g,__stopPropagation:m,size:b,attributes:y,...C}=s,d=Me(),[M,w]=Hn(a),k={__staticSelector:g||"DecadeLevel",classNames:B,styles:G,unstyled:_,size:b,attributes:y},N=typeof S=="boolean"?S:i?!D(w).endOf("year").isBefore(i):!1,F=typeof $=="boolean"?$:o?!D(M).startOf("year").isAfter(o):!1,U=(J,ee)=>D(J).locale(r||d.locale).format(ee);return n.jsxs(me,{"data-decade-level":!0,size:b,ref:t,...C,children:[n.jsx(Te,{label:typeof j=="function"?j(M,w):`${U(M,j)} – ${U(w,j)}`,__preventFocus:h,__stopPropagation:m,nextIcon:O,previousIcon:L,nextLabel:Y,previousLabel:R,onNext:E,onPrevious:P,nextDisabled:N,previousDisabled:F,hasNextLevel:!1,levelControlAriaLabel:W,withNext:A,withPrevious:I,headerControlsOrder:T,...k}),n.jsx(Dt,{decade:a,locale:r,minDate:o,maxDate:i,yearsListFormat:l,getYearControlProps:c,__getControlRef:f,__onControlKeyDown:u,__onControlClick:v,__onControlMouseEnter:x,__preventFocus:h,__stopPropagation:m,withCellSpacing:p,...k})]})});xt.classes={...Dt.classes,...Te.classes};xt.displayName="@mantine/dates/DecadeLevel";const Un={yearLabelFormat:"YYYY"},St=te((e,t)=>{const s=se("YearLevel",Un,e),{year:a,locale:r,minDate:o,maxDate:i,monthsListFormat:l,getMonthControlProps:c,__getControlRef:f,__onControlKeyDown:u,__onControlClick:v,__onControlMouseEnter:x,withCellSpacing:p,__preventFocus:h,nextIcon:O,previousIcon:L,nextLabel:Y,previousLabel:R,onNext:E,onPrevious:P,onLevelClick:S,nextDisabled:$,previousDisabled:W,hasNextLevel:A,levelControlAriaLabel:I,withNext:T,withPrevious:j,headerControlsOrder:B,yearLabelFormat:G,__staticSelector:_,__stopPropagation:g,size:m,classNames:b,styles:y,unstyled:C,attributes:d,...M}=s,w=Me(),k={__staticSelector:_||"YearLevel",classNames:b,styles:y,unstyled:C,size:m,attributes:d},N=typeof $=="boolean"?$:i?!D(a).endOf("year").isBefore(i):!1,F=typeof W=="boolean"?W:o?!D(a).startOf("year").isAfter(o):!1;return n.jsxs(me,{"data-year-level":!0,size:m,ref:t,...M,children:[n.jsx(Te,{label:typeof G=="function"?G(a):D(a).locale(r||w.locale).format(G),__preventFocus:h,__stopPropagation:g,nextIcon:O,previousIcon:L,nextLabel:Y,previousLabel:R,onNext:E,onPrevious:P,onLevelClick:S,nextDisabled:N,previousDisabled:F,hasNextLevel:A,levelControlAriaLabel:I,withNext:T,withPrevious:j,headerControlsOrder:B,...k}),n.jsx(_t,{year:a,locale:r,minDate:o,maxDate:i,monthsListFormat:l,getMonthControlProps:c,__getControlRef:f,__onControlKeyDown:u,__onControlClick:v,__onControlMouseEnter:x,__preventFocus:h,__stopPropagation:g,withCellSpacing:p,...k})]})});St.classes={...Te.classes,..._t.classes};St.displayName="@mantine/dates/YearLevel";const qn={monthLabelFormat:"MMMM YYYY"},kt=te((e,t)=>{const s=se("MonthLevel",qn,e),{month:a,locale:r,firstDayOfWeek:o,weekdayFormat:i,weekendDays:l,getDayProps:c,excludeDate:f,minDate:u,maxDate:v,renderDay:x,hideOutsideDates:p,hideWeekdays:h,getDayAriaLabel:O,__getDayRef:L,__onDayKeyDown:Y,__onDayClick:R,__onDayMouseEnter:E,withCellSpacing:P,highlightToday:S,withWeekNumbers:$,__preventFocus:W,__stopPropagation:A,nextIcon:I,previousIcon:T,nextLabel:j,previousLabel:B,onNext:G,onPrevious:_,onLevelClick:g,nextDisabled:m,previousDisabled:b,hasNextLevel:y,levelControlAriaLabel:C,withNext:d,withPrevious:M,headerControlsOrder:w,monthLabelFormat:k,classNames:N,styles:F,unstyled:U,__staticSelector:J,size:ee,static:oe,attributes:z,...ae}=s,le=Me(),X={__staticSelector:J||"MonthLevel",classNames:N,styles:F,unstyled:U,size:ee,attributes:z},K=typeof m=="boolean"?m:v?!D(a).endOf("month").isBefore(v):!1,ce=typeof b=="boolean"?b:u?!D(a).startOf("month").isAfter(u):!1;return n.jsxs(me,{"data-month-level":!0,size:ee,ref:t,...ae,children:[n.jsx(Te,{label:typeof k=="function"?k(a):D(a).locale(r||le.locale).format(k),__preventFocus:W,__stopPropagation:A,nextIcon:I,previousIcon:T,nextLabel:j,previousLabel:B,onNext:G,onPrevious:_,onLevelClick:g,nextDisabled:K,previousDisabled:ce,hasNextLevel:y,levelControlAriaLabel:C,withNext:d,withPrevious:M,headerControlsOrder:w,...X}),n.jsx(vt,{month:a,locale:r,firstDayOfWeek:o,weekdayFormat:i,weekendDays:l,getDayProps:c,excludeDate:f,minDate:u,maxDate:v,renderDay:x,hideOutsideDates:p,hideWeekdays:h,getDayAriaLabel:O,__getDayRef:L,__onDayKeyDown:Y,__onDayClick:R,__onDayMouseEnter:E,__preventFocus:W,__stopPropagation:A,static:oe,withCellSpacing:P,highlightToday:S,withWeekNumbers:$,...X})]})});kt.classes={...vt.classes,...Te.classes};kt.displayName="@mantine/dates/MonthLevel";var Ks={levelsGroup:"m_30b26e33"};const Le=te((e,t)=>{const s=se("LevelsGroup",null,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,__staticSelector:f,attributes:u,...v}=s,x=ge({name:f||"LevelsGroup",classes:Ks,props:s,className:r,style:o,classNames:a,styles:i,unstyled:l,attributes:u,vars:c,rootSelector:"levelsGroup"});return n.jsx(me,{ref:t,...x("levelsGroup"),...v})});Le.classes=Ks;Le.displayName="@mantine/dates/LevelsGroup";const Qn={numberOfColumns:1},Ct=te((e,t)=>{const s=se("DecadeLevelGroup",Qn,e),{decade:a,locale:r,minDate:o,maxDate:i,yearsListFormat:l,getYearControlProps:c,__onControlClick:f,__onControlMouseEnter:u,withCellSpacing:v,__preventFocus:x,nextIcon:p,previousIcon:h,nextLabel:O,previousLabel:L,onNext:Y,onPrevious:R,nextDisabled:E,previousDisabled:P,headerControlsOrder:S,classNames:$,styles:W,unstyled:A,__staticSelector:I,__stopPropagation:T,numberOfColumns:j,levelControlAriaLabel:B,decadeLabelFormat:G,size:_,vars:g,attributes:m,...b}=s,y=V.useRef([]),C=Array(j).fill(0).map((d,M)=>{const w=D(a).add(M*10,"years").format("YYYY-MM-DD");return n.jsx(xt,{size:_,yearsListFormat:l,decade:w,withNext:M===j-1,withPrevious:M===0,decadeLabelFormat:G,__onControlClick:f,__onControlMouseEnter:u,__onControlKeyDown:(k,N)=>Qt({levelIndex:M,rowIndex:N.rowIndex,cellIndex:N.cellIndex,event:k,controlsRef:y}),__getControlRef:(k,N,F)=>{Array.isArray(y.current[M])||(y.current[M]=[]),Array.isArray(y.current[M][k])||(y.current[M][k]=[]),y.current[M][k][N]=F},levelControlAriaLabel:typeof B=="function"?B(w):B,locale:r,minDate:o,maxDate:i,__preventFocus:x,__stopPropagation:T,nextIcon:p,previousIcon:h,nextLabel:O,previousLabel:L,onNext:Y,onPrevious:R,nextDisabled:E,previousDisabled:P,getYearControlProps:c,__staticSelector:I||"DecadeLevelGroup",classNames:$,styles:W,unstyled:A,withCellSpacing:v,headerControlsOrder:S,attributes:m},M)});return n.jsx(Le,{classNames:$,styles:W,__staticSelector:I||"DecadeLevelGroup",ref:t,size:_,unstyled:A,attributes:m,...b,children:C})});Ct.classes={...Le.classes,...xt.classes};Ct.displayName="@mantine/dates/DecadeLevelGroup";const Zn={numberOfColumns:1},wt=te((e,t)=>{const s=se("YearLevelGroup",Zn,e),{year:a,locale:r,minDate:o,maxDate:i,monthsListFormat:l,getMonthControlProps:c,__onControlClick:f,__onControlMouseEnter:u,withCellSpacing:v,__preventFocus:x,nextIcon:p,previousIcon:h,nextLabel:O,previousLabel:L,onNext:Y,onPrevious:R,onLevelClick:E,nextDisabled:P,previousDisabled:S,hasNextLevel:$,headerControlsOrder:W,classNames:A,styles:I,unstyled:T,__staticSelector:j,__stopPropagation:B,numberOfColumns:G,levelControlAriaLabel:_,yearLabelFormat:g,size:m,vars:b,attributes:y,...C}=s,d=V.useRef([]),M=Array(G).fill(0).map((w,k)=>{const N=D(a).add(k,"years").format("YYYY-MM-DD");return n.jsx(St,{size:m,monthsListFormat:l,year:N,withNext:k===G-1,withPrevious:k===0,yearLabelFormat:g,__stopPropagation:B,__onControlClick:f,__onControlMouseEnter:u,__onControlKeyDown:(F,U)=>Qt({levelIndex:k,rowIndex:U.rowIndex,cellIndex:U.cellIndex,event:F,controlsRef:d}),__getControlRef:(F,U,J)=>{Array.isArray(d.current[k])||(d.current[k]=[]),Array.isArray(d.current[k][F])||(d.current[k][F]=[]),d.current[k][F][U]=J},levelControlAriaLabel:typeof _=="function"?_(N):_,locale:r,minDate:o,maxDate:i,__preventFocus:x,nextIcon:p,previousIcon:h,nextLabel:O,previousLabel:L,onNext:Y,onPrevious:R,onLevelClick:E,nextDisabled:P,previousDisabled:S,hasNextLevel:$,getMonthControlProps:c,classNames:A,styles:I,unstyled:T,__staticSelector:j||"YearLevelGroup",withCellSpacing:v,headerControlsOrder:W,attributes:y},k)});return n.jsx(Le,{classNames:A,styles:I,__staticSelector:j||"YearLevelGroup",ref:t,size:m,unstyled:T,attributes:y,...C,children:M})});wt.classes={...St.classes,...Le.classes};wt.displayName="@mantine/dates/YearLevelGroup";const Jn={numberOfColumns:1},Mt=te((e,t)=>{const s=se("MonthLevelGroup",Jn,e),{month:a,locale:r,firstDayOfWeek:o,weekdayFormat:i,weekendDays:l,getDayProps:c,excludeDate:f,minDate:u,maxDate:v,renderDay:x,hideOutsideDates:p,hideWeekdays:h,getDayAriaLabel:O,__onDayClick:L,__onDayMouseEnter:Y,withCellSpacing:R,highlightToday:E,withWeekNumbers:P,__preventFocus:S,nextIcon:$,previousIcon:W,nextLabel:A,previousLabel:I,onNext:T,onPrevious:j,onLevelClick:B,nextDisabled:G,previousDisabled:_,hasNextLevel:g,headerControlsOrder:m,classNames:b,styles:y,unstyled:C,numberOfColumns:d,levelControlAriaLabel:M,monthLabelFormat:w,__staticSelector:k,__stopPropagation:N,size:F,static:U,vars:J,attributes:ee,...oe}=s,z=V.useRef([]),ae=Array(d).fill(0).map((le,X)=>{const K=D(a).add(X,"months").format("YYYY-MM-DD");return n.jsx(kt,{month:K,withNext:X===d-1,withPrevious:X===0,monthLabelFormat:w,__stopPropagation:N,__onDayClick:L,__onDayMouseEnter:Y,__onDayKeyDown:(ce,q)=>Qt({levelIndex:X,rowIndex:q.rowIndex,cellIndex:q.cellIndex,event:ce,controlsRef:z}),__getDayRef:(ce,q,ne)=>{Array.isArray(z.current[X])||(z.current[X]=[]),Array.isArray(z.current[X][ce])||(z.current[X][ce]=[]),z.current[X][ce][q]=ne},levelControlAriaLabel:typeof M=="function"?M(K):M,locale:r,firstDayOfWeek:o,weekdayFormat:i,weekendDays:l,getDayProps:c,excludeDate:f,minDate:u,maxDate:v,renderDay:x,hideOutsideDates:p,hideWeekdays:h,getDayAriaLabel:O,__preventFocus:S,nextIcon:$,previousIcon:W,nextLabel:A,previousLabel:I,onNext:T,onPrevious:j,onLevelClick:B,nextDisabled:G,previousDisabled:_,hasNextLevel:g,classNames:b,styles:y,unstyled:C,__staticSelector:k||"MonthLevelGroup",size:F,static:U,withCellSpacing:R,highlightToday:E,withWeekNumbers:P,headerControlsOrder:m,attributes:ee},X)});return n.jsx(Le,{classNames:b,styles:y,__staticSelector:k||"MonthLevelGroup",ref:t,size:F,attributes:ee,...oe,children:ae})});Mt.classes={...Le.classes,...kt.classes};Mt.displayName="@mantine/dates/MonthLevelGroup";var Us={input:"m_6fa5e2aa"};const Tt=te((e,t)=>{const{inputProps:s,wrapperProps:a,placeholder:r,classNames:o,styles:i,unstyled:l,popoverProps:c,modalProps:f,dropdownType:u,children:v,formattedValue:x,dropdownHandlers:p,dropdownOpened:h,onClick:O,clearable:L,onClear:Y,clearButtonProps:R,rightSection:E,shouldClear:P,readOnly:S,disabled:$,value:W,name:A,form:I,type:T,onDropdownClose:j,withTime:B,...G}=wa("PickerInputBase",{size:"sm"},e),_=n.jsx(ut.ClearButton,{onClick:Y,unstyled:l,...R}),g=()=>{T==="range"&&Array.isArray(W)&&W[0]&&!W[1]&&Y(),p.close()};return n.jsxs(n.Fragment,{children:[u==="modal"&&!S&&n.jsx(dt,{opened:h,onClose:g,withCloseButton:!1,size:"auto","data-dates-modal":!0,unstyled:l,...f,children:v}),n.jsx(ut.Wrapper,{...a,children:n.jsxs(Rt,{position:"bottom-start",opened:h,trapFocus:!0,returnFocus:!1,unstyled:l,onClose:j,...c,disabled:(c==null?void 0:c.disabled)||u==="modal"||S,onChange:m=>{var b;m||((b=c==null?void 0:c.onClose)==null||b.call(c),g())},children:[n.jsx(Rt.Target,{children:n.jsx(ut,{"data-dates-input":!0,"data-read-only":S||void 0,disabled:$,component:"button",type:"button",multiline:!0,onClick:m=>{O==null||O(m),p.toggle()},__clearSection:_,__clearable:L&&P&&!S&&!$,rightSection:E,...s,ref:t,classNames:{...o,input:da(Us.input,o==null?void 0:o.input)},...G,children:x||n.jsx(ut.Placeholder,{error:s.error,unstyled:l,className:o==null?void 0:o.placeholder,style:i==null?void 0:i.placeholder,children:r})})}),n.jsx(Rt.Dropdown,{"data-dates-dropdown":!0,children:v})]})}),n.jsx(Ns,{value:W,name:A,form:I,type:T,withTime:B})]})});Tt.classes=Us;Tt.displayName="@mantine/dates/PickerInputBase";const hs=e=>e==="range"?[null,null]:e==="multiple"?[]:null,fs=(e,t)=>{const s=t?Es:de;return Array.isArray(e)?e.map(s):s(e)};function es({type:e,value:t,defaultValue:s,onChange:a,withTime:r=!1}){const o=V.useRef(e),[i,l,c]=mt({value:fs(t,r),defaultValue:fs(s,r),finalValue:hs(e),onChange:a});let f=i;return o.current!==e&&(o.current=e,t===void 0&&(f=s!==void 0?s:hs(e),l(f))),[f,l,c]}function Wt(e,t){return e?e==="month"?0:e==="year"?1:2:t||0}function Xn(e){return e===0?"month":e===1?"year":"decade"}function et(e,t,s){return Xn(Wa(Wt(e,0),Wt(t,0),Wt(s,2)))}const er={maxLevel:"decade",minLevel:"month",__updateDateOnYearSelect:!0,__updateDateOnMonthSelect:!0,enableKeyboardNavigation:!0},Lt=te((e,t)=>{const s=se("Calendar",er,e),{vars:a,maxLevel:r,minLevel:o,defaultLevel:i,level:l,onLevelChange:c,date:f,defaultDate:u,onDateChange:v,numberOfColumns:x,columnsToScroll:p,ariaLabels:h,nextLabel:O,previousLabel:L,onYearSelect:Y,onMonthSelect:R,onYearMouseEnter:E,onMonthMouseEnter:P,headerControlsOrder:S,__updateDateOnYearSelect:$,__updateDateOnMonthSelect:W,__setDateRef:A,__setLevelRef:I,firstDayOfWeek:T,weekdayFormat:j,weekendDays:B,getDayProps:G,excludeDate:_,renderDay:g,hideOutsideDates:m,hideWeekdays:b,getDayAriaLabel:y,monthLabelFormat:C,nextIcon:d,previousIcon:M,__onDayClick:w,__onDayMouseEnter:k,withCellSpacing:N,highlightToday:F,withWeekNumbers:U,monthsListFormat:J,getMonthControlProps:ee,yearLabelFormat:oe,yearsListFormat:z,getYearControlProps:ae,decadeLabelFormat:le,classNames:X,styles:K,unstyled:ce,minDate:q,maxDate:ne,locale:he,__staticSelector:$e,size:ot,__preventFocus:Pe,__stopPropagation:We,onNextDecade:Ie,onPreviousDecade:Ve,onNextYear:ze,onPreviousYear:Be,onNextMonth:Ge,onPreviousMonth:He,static:Ke,enableKeyboardNavigation:Ue,attributes:Ot,...Yt}=s,{resolvedClassNames:Et,resolvedStyles:Nt}=at({classNames:X,styles:K,props:s}),[fe,_e]=mt({value:l?et(l,o,r):void 0,defaultValue:i?et(i,o,r):void 0,finalValue:et(void 0,o,r),onChange:c}),[$t,be]=es({type:"default",value:de(f),defaultValue:de(u),onChange:v});V.useImperativeHandle(A,()=>H=>{be(H)}),V.useImperativeHandle(I,()=>H=>{_e(H)});const xe={__staticSelector:$e||"Calendar",styles:Nt,classNames:Et,unstyled:ce,size:ot,attributes:Ot},Se=p||x||1,qe=new Date,Qe=q&&D(qe).isAfter(q)?q:D(qe).format("YYYY-MM-DD"),ye=$t||Qe,De=()=>{const H=D(ye).add(Se,"month").format("YYYY-MM-DD");Ge==null||Ge(H),be(H)},it=()=>{const H=D(ye).subtract(Se,"month").format("YYYY-MM-DD");He==null||He(H),be(H)},ue=()=>{const H=D(ye).add(Se,"year").format("YYYY-MM-DD");ze==null||ze(H),be(H)},Ze=()=>{const H=D(ye).subtract(Se,"year").format("YYYY-MM-DD");Be==null||Be(H),be(H)},lt=()=>{const H=D(ye).add(10*Se,"year").format("YYYY-MM-DD");Ie==null||Ie(H),be(H)},Je=()=>{const H=D(ye).subtract(10*Se,"year").format("YYYY-MM-DD");Ve==null||Ve(H),be(H)},ct=V.useRef(null);V.useEffect(()=>{if(!Ue||Ke)return;const H=re=>{var Fe;if(!((Fe=ct.current)!=null&&Fe.contains(document.activeElement)))return;const Ae=re.ctrlKey||re.metaKey,je=re.shiftKey;switch(re.key){case"ArrowUp":Ae&&je?(re.preventDefault(),Je()):Ae&&(re.preventDefault(),Ze());break;case"ArrowDown":Ae&&je?(re.preventDefault(),lt()):Ae&&(re.preventDefault(),ue());break;case"y":case"Y":fe==="month"&&(re.preventDefault(),_e("year"));break}};return document.addEventListener("keydown",H),()=>{document.removeEventListener("keydown",H)}},[Ue,Ke,fe,ue,Ze,lt,Je]);const ie=H=>{ct.current=H,typeof t=="function"?t(H):t&&(t.current=H)};return n.jsxs(me,{ref:ie,size:ot,"data-calendar":!0,...Yt,children:[fe==="month"&&n.jsx(Mt,{month:ye,minDate:q,maxDate:ne,firstDayOfWeek:T,weekdayFormat:j,weekendDays:B,getDayProps:G,excludeDate:_,renderDay:g,hideOutsideDates:m,hideWeekdays:b,getDayAriaLabel:y,onNext:De,onPrevious:it,hasNextLevel:r!=="month",onLevelClick:()=>_e("year"),numberOfColumns:x,locale:he,levelControlAriaLabel:h==null?void 0:h.monthLevelControl,nextLabel:(h==null?void 0:h.nextMonth)??O,nextIcon:d,previousLabel:(h==null?void 0:h.previousMonth)??L,previousIcon:M,monthLabelFormat:C,__onDayClick:w,__onDayMouseEnter:k,__preventFocus:Pe,__stopPropagation:We,static:Ke,withCellSpacing:N,highlightToday:F,withWeekNumbers:U,headerControlsOrder:S,...xe}),fe==="year"&&n.jsx(wt,{year:ye,numberOfColumns:x,minDate:q,maxDate:ne,monthsListFormat:J,getMonthControlProps:ee,locale:he,onNext:ue,onPrevious:Ze,hasNextLevel:r!=="month"&&r!=="year",onLevelClick:()=>_e("decade"),levelControlAriaLabel:h==null?void 0:h.yearLevelControl,nextLabel:(h==null?void 0:h.nextYear)??O,nextIcon:d,previousLabel:(h==null?void 0:h.previousYear)??L,previousIcon:M,yearLabelFormat:oe,__onControlMouseEnter:P,__onControlClick:(H,re)=>{W&&be(re),_e(et("month",o,r)),R==null||R(re)},__preventFocus:Pe,__stopPropagation:We,withCellSpacing:N,headerControlsOrder:S,...xe}),fe==="decade"&&n.jsx(Ct,{decade:ye,minDate:q,maxDate:ne,yearsListFormat:z,getYearControlProps:ae,locale:he,onNext:lt,onPrevious:Je,numberOfColumns:x,nextLabel:(h==null?void 0:h.nextDecade)??O,nextIcon:d,previousLabel:(h==null?void 0:h.previousDecade)??L,previousIcon:M,decadeLabelFormat:le,__onControlMouseEnter:E,__onControlClick:(H,re)=>{$&&be(re),_e(et("year",o,r)),Y==null||Y(re)},__preventFocus:Pe,__stopPropagation:We,withCellSpacing:N,headerControlsOrder:S,...xe})]})});Lt.classes={...Ct.classes,...wt.classes,...Mt.classes};Lt.displayName="@mantine/dates/Calendar";function qs(e){const{maxLevel:t,minLevel:s,defaultLevel:a,level:r,onLevelChange:o,nextIcon:i,previousIcon:l,date:c,defaultDate:f,onDateChange:u,numberOfColumns:v,columnsToScroll:x,ariaLabels:p,nextLabel:h,previousLabel:O,onYearSelect:L,onMonthSelect:Y,onYearMouseEnter:R,onMonthMouseEnter:E,onNextMonth:P,onPreviousMonth:S,onNextYear:$,onPreviousYear:W,onNextDecade:A,onPreviousDecade:I,withCellSpacing:T,highlightToday:j,__updateDateOnYearSelect:B,__updateDateOnMonthSelect:G,__setDateRef:_,__setLevelRef:g,withWeekNumbers:m,headerControlsOrder:b,firstDayOfWeek:y,weekdayFormat:C,weekendDays:d,getDayProps:M,excludeDate:w,renderDay:k,hideOutsideDates:N,hideWeekdays:F,getDayAriaLabel:U,monthLabelFormat:J,monthsListFormat:ee,getMonthControlProps:oe,yearLabelFormat:z,yearsListFormat:ae,getYearControlProps:le,decadeLabelFormat:X,allowSingleDateInRange:K,allowDeselect:ce,minDate:q,maxDate:ne,locale:he,...$e}=e;return{calendarProps:{maxLevel:t,minLevel:s,defaultLevel:a,level:r,onLevelChange:o,nextIcon:i,previousIcon:l,date:c,defaultDate:f,onDateChange:u,numberOfColumns:v,columnsToScroll:x,ariaLabels:p,nextLabel:h,previousLabel:O,onYearSelect:L,onMonthSelect:Y,onYearMouseEnter:R,onMonthMouseEnter:E,onNextMonth:P,onPreviousMonth:S,onNextYear:$,onPreviousYear:W,onNextDecade:A,onPreviousDecade:I,withCellSpacing:T,highlightToday:j,__updateDateOnYearSelect:B,__updateDateOnMonthSelect:G,__setDateRef:_,withWeekNumbers:m,headerControlsOrder:b,firstDayOfWeek:y,weekdayFormat:C,weekendDays:d,getDayProps:M,excludeDate:w,renderDay:k,hideOutsideDates:N,hideWeekdays:F,getDayAriaLabel:U,monthLabelFormat:J,monthsListFormat:ee,getMonthControlProps:oe,yearLabelFormat:z,yearsListFormat:ae,getYearControlProps:le,decadeLabelFormat:X,allowSingleDateInRange:K,allowDeselect:ce,minDate:q,maxDate:ne,locale:he},others:$e}}function ms(e,t){const s=[...t].sort((a,r)=>D(a).isAfter(D(r))?1:-1);return D(s[0]).startOf("day").subtract(1,"ms").isBefore(e)&&D(s[1]).endOf("day").add(1,"ms").isAfter(e)}function tr({type:e,level:t,value:s,defaultValue:a,onChange:r,allowSingleDateInRange:o,allowDeselect:i,onMouseLeave:l}){const[c,f]=es({type:e,value:s,defaultValue:a,onChange:r}),[u,v]=V.useState(e==="range"&&c[0]&&!c[1]?c[0]:null),[x,p]=V.useState(null),h=S=>{if(e==="range"){if(u&&!c[1]){if(D(S).isSame(u,t)&&!o){v(null),p(null),f([null,null]);return}const $=[S,u];$.sort((W,A)=>D(W).isAfter(D(A))?1:-1),f($),p(null),v(null);return}if(c[0]&&!c[1]&&D(S).isSame(c[0],t)&&!o){v(null),p(null),f([null,null]);return}f([S,null]),p(null),v(S);return}if(e==="multiple"){c.some($=>D($).isSame(S,t))?f(c.filter($=>!D($).isSame(S,t))):f([...c,S]);return}c&&i&&D(S).isSame(c,t)?f(null):f(S)},O=S=>u&&x?ms(S,[x,u]):c[0]&&c[1]?ms(S,c):!1,L=e==="range"?S=>{l==null||l(S),p(null)}:l,Y=S=>c[0]&&D(S).isSame(c[0],t)?!(x&&D(x).isBefore(c[0])):!1,R=S=>c[1]?D(S).isSame(c[1],t):!c[0]||!x?!1:D(x).isBefore(c[0])&&D(S).isSame(c[0],t),E=S=>{if(e==="range")return{selected:c.some(W=>W&&D(W).isSame(S,t)),inRange:O(S),firstInRange:Y(S),lastInRange:R(S),"data-autofocus":!!c[0]&&D(c[0]).isSame(S,t)||void 0};if(e==="multiple")return{selected:c.some(W=>W&&D(W).isSame(S,t)),"data-autofocus":!!c[0]&&D(c[0]).isSame(S,t)||void 0};const $=D(c).isSame(S,t);return{selected:$,"data-autofocus":$||void 0}},P=e==="range"&&u?p:()=>{};return V.useEffect(()=>{if(e==="range")if(c[0]&&!c[1])v(c[0]);else{const S=c[0]==null&&c[1]==null,$=c[0]!=null&&c[1]!=null;(S||$)&&(v(null),p(null))}},[c]),{onDateChange:h,onRootMouseLeave:L,onHoveredDateChange:P,getControlProps:E,_value:c,setValue:f}}var sr={datePickerRoot:"m_765a40cf",presetsList:"m_d6a681e1",presetButton:"m_acd30b22"};const ar=Ce((e,{size:t})=>({datePickerRoot:{"--preset-font-size":rt(t)}})),nr={type:"default",defaultLevel:"month",numberOfColumns:1,size:"sm"},jt=te((e,t)=>{const s=se("DatePicker",nr,e),{allowDeselect:a,allowSingleDateInRange:r,value:o,defaultValue:i,onChange:l,onMouseLeave:c,classNames:f,styles:u,__staticSelector:v,__onDayClick:x,__onDayMouseEnter:p,__onPresetSelect:h,__stopPropagation:O,presets:L,className:Y,style:R,unstyled:E,size:P,vars:S,attributes:$,...W}=s,{calendarProps:A,others:I}=qs(W),T=V.useRef(null),j=V.useRef(null),B=ge({name:v||"DatePicker",classes:sr,props:s,className:Y,style:R,classNames:f,styles:u,unstyled:E,attributes:$,rootSelector:L?"datePickerRoot":void 0,varsResolver:ar,vars:S}),{onDateChange:G,onRootMouseLeave:_,onHoveredDateChange:g,getControlProps:m,_value:b,setValue:y}=tr({type:I.type,level:"day",allowDeselect:a,allowSingleDateInRange:r,value:o,defaultValue:i,onChange:l,onMouseLeave:c}),{resolvedClassNames:C,resolvedStyles:d}=at({classNames:f,styles:u,props:s}),M=n.jsx(Lt,{ref:t,classNames:C,styles:d,__staticSelector:v||"DatePicker",onMouseLeave:_,size:P,...A,...L?{}:I,__stopPropagation:O,__setDateRef:T,__setLevelRef:j,minLevel:A.minLevel||"month",__onDayMouseEnter:(N,F)=>{g(F),p==null||p(N,F)},__onDayClick:(N,F)=>{G(F),x==null||x(N,F)},getDayProps:N=>{var F;return{...m(N),...(F=A.getDayProps)==null?void 0:F.call(A,N)}},getMonthControlProps:N=>{var F;return{selected:typeof b=="string"?Xt(N,b):!1,...(F=A.getMonthControlProps)==null?void 0:F.call(A,N)}},getYearControlProps:N=>{var F;return{selected:typeof b=="string"?D(N).isSame(b,"year"):!1,...(F=A.getYearControlProps)==null?void 0:F.call(A,N)}},hideOutsideDates:A.hideOutsideDates??A.numberOfColumns!==1,...L?{}:{className:Y,style:R,attributes:$}});if(!L)return M;const w=N=>{var U,J;const F=Array.isArray(N)?N[0]:N;F!==void 0&&((U=T.current)==null||U.call(T,F),(J=j.current)==null||J.call(j,"month"),h?h(F):y(N))},k=L.map((N,F)=>n.jsx(Re,{...B("presetButton"),onClick:()=>w(N.value),onMouseDown:U=>U.preventDefault(),"data-mantine-stop-propagation":O||void 0,children:N.label},F));return n.jsxs(me,{...B("datePickerRoot"),size:P,...I,children:[n.jsx("div",{...B("presetsList"),children:k}),M]})});jt.classes=Lt.classes;jt.displayName="@mantine/dates/DatePicker";function rr({type:e,value:t,defaultValue:s,onChange:a,locale:r,format:o,closeOnChange:i,sortDates:l,labelSeparator:c,valueFormatter:f}){const u=Me(),[v,x]=ha(!1),[p,h]=es({type:e,value:t,defaultValue:s,onChange:a}),O=pn({type:e,date:p,locale:u.getLocale(r),format:o,labelSeparator:u.getLabelSeparator(c),formatter:f}),L=E=>{i&&(e==="default"&&x.close(),e==="range"&&E[0]&&E[1]&&x.close()),h(l&&e==="multiple"?[...E].sort((P,S)=>D(P).isAfter(D(S))?1:-1):E)},Y=()=>L(e==="range"?[null,null]:e==="multiple"?[]:null),R=e==="range"?!!p[0]:e==="multiple"?p.length>0:p!==null;return{_value:p,setValue:L,onClear:Y,shouldClear:R,formattedValue:O,dropdownOpened:v,dropdownHandlers:x}}const or={type:"default",valueFormat:"MMMM D, YYYY",closeOnChange:!0,sortDates:!0,dropdownType:"popover"},ts=te((e,t)=>{const s=se("DatePickerInput",or,e),{type:a,value:r,defaultValue:o,onChange:i,valueFormat:l,labelSeparator:c,locale:f,classNames:u,styles:v,unstyled:x,closeOnChange:p,size:h,variant:O,dropdownType:L,sortDates:Y,minDate:R,maxDate:E,vars:P,defaultDate:S,valueFormatter:$,presets:W,attributes:A,...I}=s,{resolvedClassNames:T,resolvedStyles:j}=at({classNames:u,styles:v,props:s}),{calendarProps:B,others:G}=qs(I),{_value:_,setValue:g,formattedValue:m,dropdownHandlers:b,dropdownOpened:y,onClear:C,shouldClear:d}=rr({type:a,value:r,defaultValue:o,onChange:i,locale:f,format:l,labelSeparator:c,closeOnChange:p,sortDates:Y,valueFormatter:$}),M=Array.isArray(_)?_[0]||S:_||S;return n.jsx(Tt,{formattedValue:m,dropdownOpened:y,dropdownHandlers:b,classNames:T,styles:j,unstyled:x,ref:t,onClear:C,shouldClear:d,value:_,size:h,variant:O,dropdownType:L,...G,type:a,__staticSelector:"DatePickerInput",attributes:A,children:n.jsx(jt,{...B,size:h,variant:O,type:a,value:_,defaultDate:M||Dn({maxDate:E,minDate:R}),onChange:g,locale:f,classNames:T,styles:j,unstyled:x,__staticSelector:"DatePickerInput",__stopPropagation:L==="popover",minDate:R,maxDate:E,presets:W,attributes:A})})});ts.classes={...Tt.classes,...jt.classes};ts.displayName="@mantine/dates/DatePickerInput";const ir={getOrdinalSuffix(e){if(e%100>=11&&e%100<=13)return`${String(e)}th`;switch(e%10){case 1:return`${String(e)}st`;case 2:return`${String(e)}nd`;case 3:return`${String(e)}rd`;default:return`${String(e)}th`}}},lr=["daily","monthly-by-day","monthly-by-weekday","one-time","time-based-recurrence","weekly","yearly-by-day"],cr={daily:e=>{e.setValue("cadence",{type:"daily"})},"monthly-by-day":e=>{e.setValue("cadence",{type:"monthly-by-day",dayOfTheMonth:1})},"monthly-by-weekday":e=>{e.setValue("cadence",{type:"monthly-by-weekday",dayOfTheWeek:0,weekOfTheMonth:1})},"one-time":e=>{e.setValue("cadence",{type:"one-time"})},"time-based-recurrence":e=>{e.setValue("cadence",{type:"time-based-recurrence",timeFrame:"day",amount:1})},weekly:e=>{e.setValue("cadence",{type:"weekly",dayOfTheWeek:0})},"yearly-by-day":e=>{e.setValue("cadence",{type:"yearly-by-day"})}},ys=[{value:"0",label:"Mon"},{value:"1",label:"Tue"},{value:"2",label:"Wed"},{value:"3",label:"Thu"},{value:"4",label:"Fri"},{value:"5",label:"Sat"},{value:"6",label:"Sun"}],ur=[{value:"1",label:"First"},{value:"2",label:"Second"},{value:"3",label:"Third"},{value:"4",label:"Fourth"},{value:"5",label:"Last"}],dr=new Array(31).fill(null).map((e,t)=>({value:String(t+1),label:ir.getOrdinalSuffix(t+1)})),hr=["day","week","month"];function fr({form:e,cadence:t}){var o;const{type:s}=t,[a,r]=V.useState(s);return V.useEffect(()=>{if(a===t.type)return;const i=cr[a];i(e)},[t.type,e,a]),n.jsxs(n.Fragment,{children:[n.jsx(Ye,{size:"sm",label:"Cadence",placeholder:"Cadence",data:lr.map(i=>({value:i,label:Os.prettifyKebabCase(i)})),value:a,onChange:i=>{i&&r(i)},error:(o=e.formState.errors.cadence)==null?void 0:o.message,nothingFoundMessage:"Nothing found..."}),n.jsx(ve,{h:"sm"}),s==="daily"&&null,s==="monthly-by-day"&&n.jsxs(n.Fragment,{children:[n.jsx(Ye,{size:"sm",label:"Day of the Month",placeholder:"Day of the Month",data:dr.map(i=>({value:i.value,label:i.label})),...e.register("cadence.dayOfTheMonth"),value:String(e.watch("cadence.dayOfTheMonth")),onChange:i=>{const l=Number(i);Number.isNaN(l)||e.setValue("cadence.dayOfTheMonth",l)},nothingFoundMessage:"Nothing found..."}),n.jsx(ve,{h:"sm"})]}),s==="monthly-by-weekday"&&n.jsxs(n.Fragment,{children:[n.jsx(Ye,{size:"sm",label:"Week of the Month",placeholder:"Week of the Month",data:ur.map(i=>({value:i.value,label:i.label})),...e.register("cadence.weekOfTheMonth"),value:String(e.watch("cadence.weekOfTheMonth")),onChange:i=>{const l=Number(i);Number.isNaN(l)||e.setValue("cadence.weekOfTheMonth",l)},nothingFoundMessage:"Nothing found..."}),n.jsx(ve,{h:"sm"}),n.jsx(Ye,{size:"sm",label:"Day of the Week",placeholder:"Day of the Week",data:ys.map(i=>({value:i.value,label:i.label})),...e.register("cadence.dayOfTheWeek"),value:String(e.watch("cadence.dayOfTheWeek")),onChange:i=>{const l=Number(i);Number.isNaN(l)||e.setValue("cadence.dayOfTheWeek",l)},nothingFoundMessage:"Nothing found..."}),n.jsx(ve,{h:"sm"})]}),s==="one-time"&&null,s==="time-based-recurrence"&&n.jsxs(n.Fragment,{children:[n.jsx(Ye,{size:"sm",label:"Time Frame",placeholder:"Time Frame",data:hr.map(i=>({value:i,label:i})),...e.register("cadence.timeFrame"),value:e.watch("cadence.timeFrame"),onChange:i=>{i&&e.setValue("cadence.timeFrame",i)},nothingFoundMessage:"Nothing found..."}),n.jsx(ve,{h:"sm"}),n.jsx(Ea,{size:"sm",label:"Amount",placeholder:"Amount",...e.register("cadence.amount"),value:e.watch("cadence.amount"),onChange:i=>{const l=Number(i);e.setValue("cadence.amount",Number.isNaN(l)?0:l)},min:1,max:100}),n.jsx(ve,{h:"sm"})]}),s==="weekly"&&n.jsxs(n.Fragment,{children:[n.jsx(Ye,{size:"sm",label:"Day of the Week",placeholder:"Day of the Week",data:ys.map(i=>({value:i.value,label:i.label})),...e.register("cadence.dayOfTheWeek"),value:String(e.watch("cadence.dayOfTheWeek")),onChange:i=>{const l=Number(i);Number.isNaN(l)||e.setValue("cadence.dayOfTheWeek",l)},nothingFoundMessage:"Nothing found..."}),n.jsx(ve,{h:"sm"})]}),s==="yearly-by-day"&&null]})}function Qs({action:e,categories:t,form:s,isPending:a,onSubmit:r,resources:o}){var c,f,u,v,x,p;const i=s.formState.errors,l=(c=i.root)==null?void 0:c.message;return n.jsxs("form",{onSubmit:s.handleSubmit(r),children:[n.jsx(ka,{size:"sm",label:"Name",placeholder:"Name",...s.register("name"),error:(f=i.name)==null?void 0:f.message}),n.jsx(ve,{h:"sm"}),n.jsx(va,{size:"sm",label:"Description",placeholder:"Description",...s.register("description"),error:(u=i.description)==null?void 0:u.message,autosize:!0,minRows:2,maxRows:5}),n.jsx(ve,{h:"sm"}),n.jsx(qt,{size:"sm",label:"Resources",placeholder:"Resources",data:o.map(h=>({value:h.id,label:h.name})),...s.register("resourcesIds"),value:s.watch("resourcesIds")??[],onChange:h=>{s.setValue("resourcesIds",h)},error:(v=i.resourcesIds)==null?void 0:v.message,nothingFoundMessage:"Nothing found..."}),n.jsx(ve,{h:"sm"}),n.jsx(Ye,{size:"sm",label:"Category",placeholder:"Category",data:t.map(h=>({value:h.id,label:h.name})),...s.register("categoryId"),value:s.watch("categoryId"),onChange:h=>{s.setValue("categoryId",h)},error:(x=i.categoryId)==null?void 0:x.message,nothingFoundMessage:"Nothing found..."}),n.jsx(Pa,{my:"sm"}),n.jsx(fr,{form:s,cadence:s.watch("cadence")}),n.jsx(ts,{label:"Starting Date",placeholder:"Pick Starting Date",...s.register("anchorDate"),value:s.watch("anchorDate"),onChange:h=>{h&&s.setValue("anchorDate",h)},error:(p=i.anchorDate)==null?void 0:p.message}),l&&n.jsxs(n.Fragment,{children:[n.jsx(ve,{h:"xl"}),n.jsx(Ma,{color:"pink",title:l})]}),n.jsx(ve,{h:"xl"}),n.jsxs(Ds,{type:"submit",w:"100%",loading:a,children:[e," Task"]})]})}const mr=we({type:Ne("one-time")}),yr=we({type:Ne("daily")}),pr=we({type:Ne("weekly"),dayOfTheWeek:tt.number().int().min(0).max(6)}),gr=we({type:Ne("monthly-by-day"),dayOfTheMonth:tt.number().int().min(1).max(31)}),vr=we({type:Ne("monthly-by-weekday"),weekOfTheMonth:tt.number().int().min(1).max(5),dayOfTheWeek:tt.number().int().min(0).max(6)}),br=we({type:Ne("yearly-by-day")}),Dr=we({type:Ne("time-based-recurrence"),timeFrame:Ya(["day","week","month"]),amount:tt.number().int().min(1)}),_r=ja("type",[mr,yr,pr,gr,vr,br,Dr]),xr=we({name:Xe().min(1).max(40),description:Xe().max(255).nullable(),resourcesIds:Oa(Xe()).nullable(),categoryId:Xe().nullable(),cadence:_r,anchorDate:Xe()});function Zs({defaultValues:e}){return Ta({defaultValues:e,resolver:La(xr)})}function Sr({onClose:e}){const t=Zs({defaultValues:{name:"",description:"",categoryId:null,resourcesIds:[],anchorDate:dn.today(),cadence:{type:"daily"}}}),{mutate:s,isPending:a}=sn(),r=V.useCallback(o=>{s({name:o.name,description:o.description===""?null:o.description,categoryId:o.categoryId,resourcesIds:o.resourcesIds,cadence:o.cadence,anchorDate:o.anchorDate},{onSuccess:()=>{e(),yt.show({color:"green",title:"Created",message:"Task created successfully"})},onError:i=>{if(!_s(i)){t.setError("root",{message:"Something went wrong!"});return}Ms({axiosError:i,setError:t.setError})}})},[t,e,s]);return V.useMemo(()=>({form:t,isPending:a,onSubmit:r}),[t,a,r])}function kr(){const e=Ss(),t=ws();return V.useMemo(()=>e.isLoading||t.isLoading?{status:"loading"}:e.isSuccess&&t.isSuccess?{status:"success",categories:e.data,resources:t.data}:{status:"error",retry:{onClick:()=>{e.refetch(),t.refetch()},isPending:e.isFetching||t.isFetching}},[e,t])}function Cr({categories:e,onClose:t,resources:s}){const{form:a,isPending:r,onSubmit:o}=Sr({onClose:t});return n.jsx(Qs,{action:"Create",categories:e,form:a,isPending:r,onSubmit:o,resources:s})}function wr({onClose:e}){const{status:t,categories:s,resources:a,retry:r}=kr();return t==="error"?n.jsx(Bt,{title:"Couldn't fetch your categories or resources.",retry:r}):t==="success"?n.jsx(Cr,{categories:s,onClose:e,resources:a}):n.jsx(ks,{})}function Mr({id:e,onClose:t}){const s=Xa(),a=V.useCallback(()=>{t()},[t]),r=V.useCallback(()=>{s.mutate({id:e},{onSuccess:()=>{yt.show({color:"green",title:"Deleted",message:"Task deleted successfully"})},onError:()=>{yt.show({color:"red",title:"Failed",message:"Couldn't delete task. Please try again shortly."})},onSettled:()=>{t()}})},[s,e,t]);return V.useMemo(()=>({isPending:s.isPending,onCancel:a,onDelete:r}),[s.isPending,a,r])}function Tr({id:e,onClose:t}){const{isPending:s,onCancel:a,onDelete:r}=Mr({id:e,onClose:t});return n.jsx(xa,{isCancelationPrimary:!0,isPending:s,mainLabel:"Delete",onCancel:a,onClickMain:r,verb:"delete this task"})}function Lr({id:e,categories:t,onClose:s,resources:a,task:r}){var f;const o=Zs({defaultValues:{name:r.name,description:r.description,resourcesIds:(r.resources??[]).filter(u=>!!a.find(v=>v.id===u.id)).map(({id:u})=>u),categoryId:(f=r.category)!=null&&f.id&&t.find(u=>{var v;return u.id===((v=r.category)==null?void 0:v.id)})?r.category.id:"",cadence:r.cadence,anchorDate:r.anchorDate}}),{mutate:i,isPending:l}=an(),c=V.useCallback(u=>{i({id:e,name:u.name,description:u.description===""?null:u.description,categoryId:u.categoryId,resourcesIds:u.resourcesIds,cadence:u.cadence,anchorDate:u.anchorDate},{onSuccess:()=>{s(),yt.show({color:"green",title:"Edited",message:"Task edited successfully"})},onError:v=>{if(!_s(v)){o.setError("root",{message:"Something went wrong!"});return}Ms({axiosError:v,setError:o.setError})}})},[e,o,s,i]);return V.useMemo(()=>({form:o,isPending:l,onSubmit:c}),[o,l,c])}function jr({id:e}){const t=Ss(),s=ws(),a=tn({id:e});return V.useMemo(()=>a.isLoading||t.isLoading||s.isLoading?{status:"loading"}:a.isSuccess&&t.isSuccess&&s.isSuccess?{status:"success",categories:t.data,resources:s.data,task:a.data}:{status:"error",retry:{onClick:()=>{t.refetch(),s.refetch(),a.refetch()},isPending:t.isFetching||s.isFetching||a.isFetching}},[t,s,a])}function Or({id:e,categories:t,resources:s,task:a,onClose:r}){const{form:o,isPending:i,onSubmit:l}=Lr({id:e,categories:t,resources:s,task:a,onClose:r});return n.jsx(Qs,{action:"Edit",categories:t,form:o,isPending:i,onSubmit:l,resources:s})}function Yr({id:e,onClose:t}){const{status:s,categories:a,resources:r,retry:o,task:i}=jr({id:e});return s==="error"?n.jsx(Bt,{title:"Couldn't fetch task, categories and resources.",retry:o}):s==="success"?n.jsx(Or,{id:e,categories:a,resources:r,task:i,onClose:t}):n.jsx(ks,{})}function Er(){const{mode:e,setMode:t}=js(),s=V.useCallback(()=>{t({type:Z.BROWSE})},[t]);return n.jsxs(n.Fragment,{children:[n.jsx(dt,{centered:!0,opened:e.type===Z.CREATE,onClose:s,title:"Create Task",children:e.type===Z.CREATE&&n.jsx(wr,{onClose:s})}),n.jsx(dt,{centered:!0,opened:e.type===Z.DELETE,onClose:s,title:"Delete Task",children:e.type===Z.DELETE&&n.jsx(Tr,{id:e.id,onClose:s})}),n.jsx(dt,{centered:!0,opened:e.type===Z.EDIT,onClose:s,title:"Edit Task",children:e.type===Z.EDIT&&n.jsx(Yr,{id:e.id,onClose:s})})]})}function Nr(){const e=new Array(8).fill(null);return n.jsx(xs,{direction:"column",gap:"xs",children:e.map((t,s)=>n.jsxs(vs,{children:[n.jsx(Pt,{flex:1,height:20}),n.jsx(Pt,{flex:6,height:20}),n.jsx(Pt,{flex:2,height:20})]},s))})}function $r(){const{status:e,onCreate:t,onDelete:s,onEdit:a,retry:r,tableEntries:o}=on();return n.jsxs(n.Fragment,{children:[n.jsxs(xs,{py:"md",align:"start",justify:"space-between",direction:{base:"column",sm:"row"},gap:"sm",children:[n.jsxs(is,{children:[n.jsx(fa,{size:"h2",order:4,children:"Tasks"}),n.jsx(zt,{size:"sm",c:"gray",fw:500,children:"Used for planning and managing activities, chores, or maintenance related to your house."})]}),e==="success"&&n.jsx(Ds,{leftSection:n.jsx(ba,{style:{width:"1.3rem",height:"1.3rem"}}),size:"sm",onClick:t,children:"Add Task"})]}),n.jsx(is,{p:"md",withBorder:!0,flex:1,children:e==="loading"?n.jsx(Nr,{}):e==="error"?n.jsx(Bt,{title:"Couldn't fetch tasks.",retry:r}):n.jsx(cn,{tableEntries:o,onDelete:s,onEdit:a})}),e==="success"&&n.jsx(Er,{})]})}function Ar(){return n.jsx(rn,{children:n.jsx($r,{})})}function Jr(){return n.jsxs(n.Fragment,{children:[n.jsxs(Va,{children:[n.jsx(Ia,{component:ya,to:ma({type:pa.DASHBOARD}),children:"Dashboard"}),n.jsx(zt,{c:"violet",children:"Tasks"})]}),n.jsx(Ar,{})]})}export{Jr as default};
