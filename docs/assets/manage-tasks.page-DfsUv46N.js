import{c as hs,f as te,b as se,u as ge,d as ke,j as n,B as me,g as Ce,aw as Xs,h as ea,a8 as ta,r as z,m as sa,l as aa,e as ut,aq as Xe,q as Ft,Y as et,t as Rt,M as Pt,Q as Ee,v as fs,ax as na,ay as ra,az as ms,y as Wt,_ as ps,aj as ys,U as Ae,aa as oa,a as tt,aA as ss,ar as Ot,aB as ia,a4 as la,ao as ca,aC as ua,aD as da,S as De,aE as ha,aF as fa,aG as as,aH as ma,D as gs,aI as Ds,W as vs,X as bs,w as dt,F as _s,P as ns,A as pa,E as ya,G as ga,H as Da}from"./index-Dph-KdTA.js";import{T as ye,a as va,b as ba,u as xs,P as _a}from"./use-get-all-categories-Y6Ykp13U.js";import{Q as It}from"./query-error-CNsdQYee.js";import{E as xa,T as rs}from"./empty-query-nxbbEOvb.js";import{P as Sa,a as it,M as Ss,C as Ca}from"./modal-loader-Y6RIr5VN.js";import{B as ka}from"./Badge-DS68auwQ.js";import{A as os,T as wa}from"./TextInput-D4lYxEtG.js";import{N as Ma,u as Cs}from"./use-get-all-resources-DZu-C1Vr.js";import{i as La,g as ja,b as Ta,u as Ya,c as Te,O as Ea,S as Ye}from"./Select-B0HnI243.js";import{u as Na,a as ks,b as Oa,I as ot,A as $a}from"./Alert-DxgmFpR2.js";import{D as Aa}from"./Divider-Cdus7bsp.js";import{S as $t}from"./Skeleton-CJ5-Kzcs.js";import{B as Fa}from"./Breadcrumbs-BwGdq7gf.js";import{A as Ra}from"./Anchor-C7SuYMB3.js";const[Pa,zt]=hs(),[Wa,Ia]=hs();var ft={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const za=ke((e,{gap:t},{size:s})=>({group:{"--pg-gap":t!==void 0?Ce(t):Ce(s,"pg-gap")}})),Vt=te((e,t)=>{const s=se("PillGroup",null,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,size:f,disabled:u,attributes:D,...x}=s,y=zt(),h=(y==null?void 0:y.size)||f||void 0,Y=ge({name:"PillGroup",classes:ft,props:s,className:r,style:o,classNames:a,styles:i,unstyled:l,attributes:D,vars:c,varsResolver:za,stylesCtx:{size:h},rootSelector:"group"});return n.jsx(Wa,{value:{size:h,disabled:u},children:n.jsx(me,{ref:t,size:h,...Y("group"),...x})})});Vt.classes=ft;Vt.displayName="@mantine/core/PillGroup";const Va={variant:"default"},Ha=ke((e,{radius:t},{size:s})=>({root:{"--pill-fz":Ce(s,"pill-fz"),"--pill-height":Ce(s,"pill-height"),"--pill-radius":t===void 0?void 0:ea(t)}})),Ze=te((e,t)=>{const s=se("Pill",Va,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,variant:f,children:u,withRemoveButton:D,onRemove:x,removeButtonProps:y,radius:h,size:Y,disabled:j,mod:E,attributes:R,...N}=s,P=Ia(),S=zt(),$=Y||(P==null?void 0:P.size)||void 0,W=(S==null?void 0:S.variant)==="filled"?"contrast":f||"default",A=ge({name:"Pill",classes:ft,props:s,className:r,style:o,classNames:a,styles:i,unstyled:l,attributes:R,vars:c,varsResolver:Ha,stylesCtx:{size:$}});return n.jsxs(me,{component:"span",ref:t,variant:W,size:$,...A("root",{variant:W}),mod:[{"with-remove":D&&!j,disabled:j||(P==null?void 0:P.disabled)},E],...N,children:[n.jsx("span",{...A("label"),children:u}),D&&n.jsx(Xs,{variant:"transparent",radius:h,tabIndex:-1,"aria-hidden":!0,unstyled:l,...y,...A("remove",{className:y==null?void 0:y.className,style:y==null?void 0:y.style}),onMouseDown:I=>{var L;I.preventDefault(),I.stopPropagation(),(L=y==null?void 0:y.onMouseDown)==null||L.call(y,I)},onClick:I=>{var L;I.stopPropagation(),x==null||x(),(L=y==null?void 0:y.onClick)==null||L.call(y,I)}})]})});Ze.classes=ft;Ze.displayName="@mantine/core/Pill";Ze.Group=Vt;var ws={field:"m_45c4369d"};const Ga={type:"visible"},Ht=te((e,t)=>{const s=se("PillsInputField",Ga,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,type:f,disabled:u,id:D,pointer:x,mod:y,attributes:h,...Y}=s,j=zt(),E=Na(),R=ge({name:"PillsInputField",classes:ws,props:s,className:r,style:o,classNames:a,styles:i,unstyled:l,attributes:h,rootSelector:"field"}),N=u||(j==null?void 0:j.disabled);return n.jsx(me,{component:"input",ref:ta(t,j==null?void 0:j.fieldRef),"data-type":f,disabled:N,mod:[{disabled:N,pointer:x},y],...R("field"),...Y,id:(E==null?void 0:E.inputId)||D,"aria-invalid":j==null?void 0:j.hasError,"aria-describedby":E==null?void 0:E.describedBy,type:"text",onMouseDown:P=>!x&&P.stopPropagation()})});Ht.classes=ws;Ht.displayName="@mantine/core/PillsInputField";const Ba={size:"sm"},ht=te((e,t)=>{const s=se("PillsInput",Ba,e),{children:a,onMouseDown:r,onClick:o,size:i,disabled:l,__staticSelector:c,error:f,variant:u,...D}=s,x=z.useRef(null);return n.jsx(Pa,{value:{fieldRef:x,size:i,disabled:l,hasError:!!f,variant:u},children:n.jsx(ks,{size:i,error:f,variant:u,component:"div",ref:t,"data-no-overflow":!0,onMouseDown:y=>{var h;y.preventDefault(),r==null||r(y),(h=x.current)==null||h.focus()},onClick:y=>{var Y;y.preventDefault();const h=y.currentTarget.closest("fieldset");h!=null&&h.disabled||((Y=x.current)==null||Y.focus(),o==null||o(y))},...D,multiline:!0,disabled:l,__staticSelector:c||"PillsInput",withAria:!1,children:a})})});ht.displayName="@mantine/core/PillsInput";ht.Field=Ht;function Ka({data:e,value:t}){const s=t.map(r=>r.trim().toLowerCase());return e.reduce((r,o)=>(La(o)?r.push({group:o.group,items:o.items.filter(i=>s.indexOf(i.value.toLowerCase().trim())===-1)}):s.indexOf(o.value.toLowerCase().trim())===-1&&r.push(o),r),[])}const qa={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:",",clearSearchOnChange:!0,size:"sm"},Gt=te((e,t)=>{const s=se("MultiSelect",qa,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,size:f,value:u,defaultValue:D,onChange:x,onKeyDown:y,variant:h,data:Y,dropdownOpened:j,defaultDropdownOpened:E,onDropdownOpen:R,onDropdownClose:N,selectFirstOptionOnChange:P,onOptionSubmit:S,comboboxProps:$,filter:W,limit:A,withScrollArea:I,maxDropdownHeight:L,searchValue:T,defaultSearchValue:H,onSearchChange:G,readOnly:_,disabled:g,onFocus:m,onBlur:v,radius:p,rightSection:k,rightSectionWidth:d,rightSectionPointerEvents:M,rightSectionProps:w,leftSection:C,leftSectionWidth:O,leftSectionPointerEvents:F,leftSectionProps:q,inputContainer:Z,inputWrapperOrder:ee,withAsterisk:oe,labelProps:V,descriptionProps:ae,errorProps:le,wrapperProps:X,description:K,label:ce,error:U,maxValues:ne,searchable:he,nothingFoundMessage:Ne,withCheckIcon:st,checkIconPosition:Fe,hidePickedOptions:Re,withErrorStyles:Pe,name:We,form:Ie,id:ze,clearable:Ve,clearButtonProps:He,hiddenInputProps:Ge,placeholder:Be,hiddenInputValuesDivider:Mt,required:Lt,mod:jt,renderOption:Tt,onRemove:fe,onClear:_e,scrollAreaProps:Yt,chevronColor:ve,attributes:xe,clearSearchOnChange:Se,...Ke}=s,qe=sa(ze),pe=ja(Y),be=Ta(pe),at=z.useRef({}),ue=Ya({opened:j,defaultOpened:E,onDropdownOpen:R,onDropdownClose:()=>{N==null||N(),ue.resetSelectedOption()}}),{styleProps:Ue,rest:{type:nt,autoComplete:Qe,...rt}}=aa(Ke),[ie,B]=ut({value:u,defaultValue:D,finalValue:[],onChange:x}),[re,Oe]=ut({value:T,defaultValue:H,finalValue:"",onChange:G}),je=Q=>{Oe(Q),ue.resetSelectedOption()},$e=ge({name:"MultiSelect",classes:{},props:s,classNames:a,styles:i,unstyled:l,attributes:xe}),{resolvedClassNames:Zt,resolvedStyles:Xt}=Xe({props:s,styles:i,classNames:a}),qs=Q=>{y==null||y(Q),Q.key===" "&&!he&&(Q.preventDefault(),ue.toggleDropdown()),Q.key==="Backspace"&&re.length===0&&ie.length>0&&(fe==null||fe(ie[ie.length-1]),B(ie.slice(0,ie.length-1)))},Us=ie.map((Q,Et)=>{var ts;const Nt=be[Q]||at.current[Q];return n.jsx(Ze,{withRemoveButton:!_&&!((ts=be[Q])!=null&&ts.disabled),onRemove:()=>{B(ie.filter(Zs=>Q!==Zs)),fe==null||fe(Q)},unstyled:l,disabled:g,...$e("pill"),children:(Nt==null?void 0:Nt.label)||Q},`${Q}-${Et}`)});z.useEffect(()=>{P&&ue.selectFirstOption()},[P,re]),z.useEffect(()=>{ie.forEach(Q=>{Q in be&&(at.current[Q]=be[Q])})},[be,ie]);const Qs=n.jsx(Te.ClearButton,{...He,onClear:()=>{_e==null||_e(),B([]),je("")}}),Js=Ka({data:pe,value:ie}),es=Ve&&ie.length>0&&!g&&!_;return n.jsxs(n.Fragment,{children:[n.jsxs(Te,{store:ue,classNames:Zt,styles:Xt,unstyled:l,size:f,readOnly:_,__staticSelector:"MultiSelect",attributes:xe,onOptionSubmit:Q=>{S==null||S(Q),Se&&je(""),ue.updateSelectedOptionIndex("selected"),ie.includes(be[Q].value)?(B(ie.filter(Et=>Et!==be[Q].value)),fe==null||fe(be[Q].value)):ie.length<ne&&B([...ie,be[Q].value])},...$,children:[n.jsx(Te.DropdownTarget,{children:n.jsx(ht,{...Ue,__staticSelector:"MultiSelect",classNames:Zt,styles:Xt,unstyled:l,size:f,className:r,style:o,variant:h,disabled:g,radius:p,__defaultRightSection:n.jsx(Te.Chevron,{size:f,error:U,unstyled:l,color:ve}),__clearSection:Qs,__clearable:es,rightSection:k,rightSectionPointerEvents:M||"none",rightSectionWidth:d,rightSectionProps:w,leftSection:C,leftSectionWidth:O,leftSectionPointerEvents:F,leftSectionProps:q,inputContainer:Z,inputWrapperOrder:ee,withAsterisk:oe,labelProps:V,descriptionProps:ae,errorProps:le,wrapperProps:X,description:K,label:ce,error:U,withErrorStyles:Pe,__stylesApiProps:{...s,rightSectionPointerEvents:M||(es?"all":"none"),multiline:!0},pointer:!he,onClick:()=>he?ue.openDropdown():ue.toggleDropdown(),"data-expanded":ue.dropdownOpened||void 0,id:qe,required:Lt,mod:jt,attributes:xe,children:n.jsxs(Ze.Group,{attributes:xe,disabled:g,unstyled:l,...$e("pillsList"),children:[Us,n.jsx(Te.EventsTarget,{autoComplete:Qe,children:n.jsx(ht.Field,{...rt,ref:t,id:qe,placeholder:Be,type:!he&&!Be?"hidden":"visible",...$e("inputField"),unstyled:l,onFocus:Q=>{m==null||m(Q),he&&ue.openDropdown()},onBlur:Q=>{v==null||v(Q),ue.closeDropdown(),je("")},onKeyDown:qs,value:re,onChange:Q=>{je(Q.currentTarget.value),he&&ue.openDropdown(),P&&ue.selectFirstOption()},disabled:g,readOnly:_||!he,pointer:!he})})]})})}),n.jsx(Ea,{data:Re?Js:pe,hidden:_||g,filter:W,search:re,limit:A,hiddenWhenEmpty:!Ne,withScrollArea:I,maxDropdownHeight:L,filterOptions:he,value:ie,checkIconPosition:Fe,withCheckIcon:st,nothingFoundMessage:Ne,unstyled:l,labelId:ce?`${qe}-label`:void 0,"aria-label":ce?void 0:Ke["aria-label"],renderOption:Tt,scrollAreaProps:Yt})]}),n.jsx(Te.HiddenInput,{name:We,valuesDivider:Mt,value:ie,form:Ie,disabled:g,...Ge})]})});Gt.classes={...ks.classes,...Te.classes};Gt.displayName="@mantine/core/MultiSelect";function Ua(){const e=Ft(),{fetch:t}=et();return Rt({mutationKey:[Pt.DELETE_DELETE_TASK],mutationFn:s=>t({endpoint:`/task/${s.id}`,method:"DELETE"}),onSettled:(s,a,{id:r})=>{e.invalidateQueries({queryKey:[Ee.GET_ALL_TASKS]}),e.invalidateQueries({queryKey:[Ee.GET_TASK_BY_ID,r]})}})}function Qa(){const{fetch:e}=et();return fs({queryKey:[Ee.GET_ALL_TASKS],queryFn:()=>e({endpoint:"/task",method:"GET"})})}function Ja({id:e}){const{fetch:t}=et();return fs({queryKey:[Ee.GET_TASK_BY_ID,e],queryFn:()=>t({endpoint:`/task/${e}`,method:"GET"})})}function Za(){const e=Ft(),{fetch:t}=et();return Rt({mutationKey:[Pt.POST_CREATE_TASK],mutationFn:s=>t({endpoint:"/task",method:"POST",body:s}),onSettled:()=>e.invalidateQueries({queryKey:[Ee.GET_ALL_TASKS]})})}function Xa(){const e=Ft(),{fetch:t}=et();return Rt({mutationKey:[Pt.PUT_UPDATE_TASK],mutationFn:s=>t({endpoint:`/task/${s.id}`,method:"PUT",body:s}),onSettled:(s,a,{id:r})=>{e.invalidateQueries({queryKey:[Ee.GET_ALL_TASKS]}),e.invalidateQueries({queryKey:[Ee.GET_TASK_BY_ID,r]})}})}var J=(e=>(e.BROWSE="browse",e.CREATE="create",e.DELETE="delete",e.EDIT="edit",e))(J||{});function en(){const[e]=na(),t=ra(),s=e.get("type"),a=z.useMemo(()=>Object.values(J).find(c=>c===s)??J.BROWSE,[s]),r=e.get("id"),o=z.useCallback(l=>{const c=new URL(window.location.href),f=u=>{c.searchParams.set("id",u.id),c.searchParams.set("type",u.type)};switch(l.type){case J.BROWSE:{f({id:"",type:J.BROWSE});break}case J.CREATE:{f({id:"",type:J.CREATE});break}case J.DELETE:{f({id:l.id,type:J.DELETE});break}case J.EDIT:f({id:l.id,type:J.EDIT})}t({hash:c.hash,search:c.search})},[t]),i=z.useMemo(()=>{switch(a){case J.BROWSE:return{type:J.BROWSE};case J.CREATE:return{type:J.CREATE};case J.DELETE:{if(r)return{id:r,type:J.DELETE};break}case J.EDIT:{if(r)return{id:r,type:J.EDIT};break}}return{type:J.BROWSE}},[r,a]);return z.useMemo(()=>({mode:i,setMode:o}),[i,o])}function Ms(){return z.useContext(ms)}function tn({children:e}){return n.jsx(ms.Provider,{value:en(),children:e})}function sn(){const{setMode:e}=Ms(),t=Qa(),s=z.useCallback(()=>{e({type:J.CREATE})},[e]),a=z.useCallback(o=>{e({id:o,type:J.DELETE})},[e]),r=z.useCallback(o=>{e({id:o,type:J.EDIT})},[e]);return z.useMemo(()=>t.isLoading?{status:"loading"}:t.isSuccess?{status:"success",tableEntries:t.data.map(an),onCreate:s,onDelete:a,onEdit:r}:{status:"error",retry:{onClick:t.refetch,isPending:t.isFetching}},[t.data,t.isFetching,t.isLoading,t.isSuccess,t.refetch,s,a,r])}function an(e){var t;return{id:e.id,name:e.name,categoryName:((t=e.category)==null?void 0:t.name)??null,recurrenceType:e.cadence.type}}const Ls={prettifyKebabCase:e=>e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")};function nn({tableEntries:e,onDelete:t,onEdit:s}){return e.length===0?n.jsx(xa,{title:"No Tasks Yet"}):n.jsxs(ye,{children:[n.jsx(ye.Thead,{children:n.jsxs(ye.Tr,{children:[n.jsx(ye.Th,{style:{minWidth:"20%"},children:"Name"}),n.jsx(ye.Th,{style:{minWidth:"15%"},children:"Category"}),n.jsx(ye.Th,{visibleFrom:"xs",children:"Recurrence Type"}),n.jsx(ye.Th,{style:{minWidth:"20%",textAlign:"end"},children:"Actions"})]})}),n.jsx(ye.Tbody,{children:e.map(a=>n.jsxs(ye.Tr,{children:[n.jsx(ye.Td,{children:a.name}),n.jsx(ye.Td,{children:a.categoryName!==null?n.jsx(ka,{size:"sm",children:a.categoryName}):n.jsx(Wt,{c:"gray",size:"sm",children:"-"})}),n.jsx(ye.Td,{visibleFrom:"xs",children:Ls.prettifyKebabCase(a.recurrenceType)}),n.jsx(ye.Td,{children:n.jsx(rn,{onDelete:()=>{t(a.id)},onEdit:()=>{s(a.id)}})})]},a.id))})]})}function rn({onDelete:e,onEdit:t}){return n.jsxs(ps,{gap:"xs",justify:"end",children:[n.jsx(rs,{label:"Edit Task",children:n.jsx(os,{size:"sm",variant:"light",onClick:t,children:n.jsx(Sa,{style:{width:"80%",height:"80%"}})})}),n.jsx(rs,{label:"Delete Task",children:n.jsx(os,{size:"sm",variant:"light",onClick:e,children:n.jsx(va,{style:{width:"80%",height:"80%"}})})})]})}const on={today(){const e=new Date,t=e.getFullYear(),s=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0");return`${String(t)}-${s}-${a}`}};var lt={exports:{}},ln=lt.exports,is;function cn(){return is||(is=1,(function(e,t){(function(s,a){e.exports=a()})(ln,(function(){var s=1e3,a=6e4,r=36e5,o="millisecond",i="second",l="minute",c="hour",f="day",u="week",D="month",x="quarter",y="year",h="date",Y="Invalid Date",j=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,R={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var g=["th","st","nd","rd"],m=_%100;return"["+_+(g[(m-20)%10]||g[m]||g[0])+"]"}},N=function(_,g,m){var v=String(_);return!v||v.length>=g?_:""+Array(g+1-v.length).join(m)+_},P={s:N,z:function(_){var g=-_.utcOffset(),m=Math.abs(g),v=Math.floor(m/60),p=m%60;return(g<=0?"+":"-")+N(v,2,"0")+":"+N(p,2,"0")},m:function _(g,m){if(g.date()<m.date())return-_(m,g);var v=12*(m.year()-g.year())+(m.month()-g.month()),p=g.clone().add(v,D),k=m-p<0,d=g.clone().add(v+(k?-1:1),D);return+(-(v+(m-p)/(k?p-d:d-p))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:D,y,w:u,d:f,D:h,h:c,m:l,s:i,ms:o,Q:x}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},S="en",$={};$[S]=R;var W="$isDayjsObject",A=function(_){return _ instanceof H||!(!_||!_[W])},I=function _(g,m,v){var p;if(!g)return S;if(typeof g=="string"){var k=g.toLowerCase();$[k]&&(p=k),m&&($[k]=m,p=k);var d=g.split("-");if(!p&&d.length>1)return _(d[0])}else{var M=g.name;$[M]=g,p=M}return!v&&p&&(S=p),p||!v&&S},L=function(_,g){if(A(_))return _.clone();var m=typeof g=="object"?g:{};return m.date=_,m.args=arguments,new H(m)},T=P;T.l=I,T.i=A,T.w=function(_,g){return L(_,{locale:g.$L,utc:g.$u,x:g.$x,$offset:g.$offset})};var H=(function(){function _(m){this.$L=I(m.locale,null,!0),this.parse(m),this.$x=this.$x||m.x||{},this[W]=!0}var g=_.prototype;return g.parse=function(m){this.$d=(function(v){var p=v.date,k=v.utc;if(p===null)return new Date(NaN);if(T.u(p))return new Date;if(p instanceof Date)return new Date(p);if(typeof p=="string"&&!/Z$/i.test(p)){var d=p.match(j);if(d){var M=d[2]-1||0,w=(d[7]||"0").substring(0,3);return k?new Date(Date.UTC(d[1],M,d[3]||1,d[4]||0,d[5]||0,d[6]||0,w)):new Date(d[1],M,d[3]||1,d[4]||0,d[5]||0,d[6]||0,w)}}return new Date(p)})(m),this.init()},g.init=function(){var m=this.$d;this.$y=m.getFullYear(),this.$M=m.getMonth(),this.$D=m.getDate(),this.$W=m.getDay(),this.$H=m.getHours(),this.$m=m.getMinutes(),this.$s=m.getSeconds(),this.$ms=m.getMilliseconds()},g.$utils=function(){return T},g.isValid=function(){return this.$d.toString()!==Y},g.isSame=function(m,v){var p=L(m);return this.startOf(v)<=p&&p<=this.endOf(v)},g.isAfter=function(m,v){return L(m)<this.startOf(v)},g.isBefore=function(m,v){return this.endOf(v)<L(m)},g.$g=function(m,v,p){return T.u(m)?this[v]:this.set(p,m)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(m,v){var p=this,k=!!T.u(v)||v,d=T.p(m),M=function(oe,V){var ae=T.w(p.$u?Date.UTC(p.$y,V,oe):new Date(p.$y,V,oe),p);return k?ae:ae.endOf(f)},w=function(oe,V){return T.w(p.toDate()[oe].apply(p.toDate("s"),(k?[0,0,0,0]:[23,59,59,999]).slice(V)),p)},C=this.$W,O=this.$M,F=this.$D,q="set"+(this.$u?"UTC":"");switch(d){case y:return k?M(1,0):M(31,11);case D:return k?M(1,O):M(0,O+1);case u:var Z=this.$locale().weekStart||0,ee=(C<Z?C+7:C)-Z;return M(k?F-ee:F+(6-ee),O);case f:case h:return w(q+"Hours",0);case c:return w(q+"Minutes",1);case l:return w(q+"Seconds",2);case i:return w(q+"Milliseconds",3);default:return this.clone()}},g.endOf=function(m){return this.startOf(m,!1)},g.$set=function(m,v){var p,k=T.p(m),d="set"+(this.$u?"UTC":""),M=(p={},p[f]=d+"Date",p[h]=d+"Date",p[D]=d+"Month",p[y]=d+"FullYear",p[c]=d+"Hours",p[l]=d+"Minutes",p[i]=d+"Seconds",p[o]=d+"Milliseconds",p)[k],w=k===f?this.$D+(v-this.$W):v;if(k===D||k===y){var C=this.clone().set(h,1);C.$d[M](w),C.init(),this.$d=C.set(h,Math.min(this.$D,C.daysInMonth())).$d}else M&&this.$d[M](w);return this.init(),this},g.set=function(m,v){return this.clone().$set(m,v)},g.get=function(m){return this[T.p(m)]()},g.add=function(m,v){var p,k=this;m=Number(m);var d=T.p(v),M=function(O){var F=L(k);return T.w(F.date(F.date()+Math.round(O*m)),k)};if(d===D)return this.set(D,this.$M+m);if(d===y)return this.set(y,this.$y+m);if(d===f)return M(1);if(d===u)return M(7);var w=(p={},p[l]=a,p[c]=r,p[i]=s,p)[d]||1,C=this.$d.getTime()+m*w;return T.w(C,this)},g.subtract=function(m,v){return this.add(-1*m,v)},g.format=function(m){var v=this,p=this.$locale();if(!this.isValid())return p.invalidDate||Y;var k=m||"YYYY-MM-DDTHH:mm:ssZ",d=T.z(this),M=this.$H,w=this.$m,C=this.$M,O=p.weekdays,F=p.months,q=p.meridiem,Z=function(V,ae,le,X){return V&&(V[ae]||V(v,k))||le[ae].slice(0,X)},ee=function(V){return T.s(M%12||12,V,"0")},oe=q||function(V,ae,le){var X=V<12?"AM":"PM";return le?X.toLowerCase():X};return k.replace(E,(function(V,ae){return ae||(function(le){switch(le){case"YY":return String(v.$y).slice(-2);case"YYYY":return T.s(v.$y,4,"0");case"M":return C+1;case"MM":return T.s(C+1,2,"0");case"MMM":return Z(p.monthsShort,C,F,3);case"MMMM":return Z(F,C);case"D":return v.$D;case"DD":return T.s(v.$D,2,"0");case"d":return String(v.$W);case"dd":return Z(p.weekdaysMin,v.$W,O,2);case"ddd":return Z(p.weekdaysShort,v.$W,O,3);case"dddd":return O[v.$W];case"H":return String(M);case"HH":return T.s(M,2,"0");case"h":return ee(1);case"hh":return ee(2);case"a":return oe(M,w,!0);case"A":return oe(M,w,!1);case"m":return String(w);case"mm":return T.s(w,2,"0");case"s":return String(v.$s);case"ss":return T.s(v.$s,2,"0");case"SSS":return T.s(v.$ms,3,"0");case"Z":return d}return null})(V)||d.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(m,v,p){var k,d=this,M=T.p(v),w=L(m),C=(w.utcOffset()-this.utcOffset())*a,O=this-w,F=function(){return T.m(d,w)};switch(M){case y:k=F()/12;break;case D:k=F();break;case x:k=F()/3;break;case u:k=(O-C)/6048e5;break;case f:k=(O-C)/864e5;break;case c:k=O/r;break;case l:k=O/a;break;case i:k=O/s;break;default:k=O}return p?k:T.a(k)},g.daysInMonth=function(){return this.endOf(D).$D},g.$locale=function(){return $[this.$L]},g.locale=function(m,v){if(!m)return this.$L;var p=this.clone(),k=I(m,v,!0);return k&&(p.$L=k),p},g.clone=function(){return T.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},_})(),G=H.prototype;return L.prototype=G,[["$ms",o],["$s",i],["$m",l],["$H",c],["$W",f],["$M",D],["$y",y],["$D",h]].forEach((function(_){G[_[1]]=function(g){return this.$g(g,_[0],_[1])}})),L.extend=function(_,g){return _.$i||(_(g,H,L),_.$i=!0),L},L.locale=I,L.isDayjs=A,L.unix=function(_){return L(1e3*_)},L.en=$[S],L.Ls=$,L.p={},L}))})(lt)),lt.exports}var un=cn();const b=ys(un);function dn({type:e,date:t,locale:s,format:a,labelSeparator:r}){const o=i=>b(i).locale(s).format(a);return e==="default"?t===null?"":o(t):e==="multiple"?t.map(o).join(", "):e==="range"&&Array.isArray(t)?t[0]&&t[1]?`${o(t[0])} ${r} ${o(t[1])}`:t[0]?`${o(t[0])} ${r} `:"":""}function hn({formatter:e,...t}){return(e||dn)(t)}function fn({direction:e,levelIndex:t,rowIndex:s,cellIndex:a,size:r}){switch(e){case"up":return t===0&&s===0?null:s===0?{levelIndex:t-1,rowIndex:a<=r[t-1][r[t-1].length-1]-1?r[t-1].length-1:r[t-1].length-2,cellIndex:a}:{levelIndex:t,rowIndex:s-1,cellIndex:a};case"down":return s===r[t].length-1?{levelIndex:t+1,rowIndex:0,cellIndex:a}:s===r[t].length-2&&a>=r[t][r[t].length-1]?{levelIndex:t+1,rowIndex:0,cellIndex:a}:{levelIndex:t,rowIndex:s+1,cellIndex:a};case"left":return t===0&&s===0&&a===0?null:s===0&&a===0?{levelIndex:t-1,rowIndex:r[t-1].length-1,cellIndex:r[t-1][r[t-1].length-1]-1}:a===0?{levelIndex:t,rowIndex:s-1,cellIndex:r[t][s-1]-1}:{levelIndex:t,rowIndex:s,cellIndex:a-1};case"right":return s===r[t].length-1&&a===r[t][s]-1?{levelIndex:t+1,rowIndex:0,cellIndex:0}:a===r[t][s]-1?{levelIndex:t,rowIndex:s+1,cellIndex:0}:{levelIndex:t,rowIndex:s,cellIndex:a+1};default:return{levelIndex:t,rowIndex:s,cellIndex:a}}}function js({controlsRef:e,direction:t,levelIndex:s,rowIndex:a,cellIndex:r,size:o}){var c,f,u;const i=fn({direction:t,size:o,rowIndex:a,cellIndex:r,levelIndex:s});if(!i)return;const l=(u=(f=(c=e.current)==null?void 0:c[i.levelIndex])==null?void 0:f[i.rowIndex])==null?void 0:u[i.cellIndex];l&&(l.disabled||l.getAttribute("data-hidden")||l.getAttribute("data-outside")?js({controlsRef:e,direction:t,levelIndex:i.levelIndex,cellIndex:i.cellIndex,rowIndex:i.rowIndex,size:o}):l.focus())}function mn(e){switch(e){case"ArrowDown":return"down";case"ArrowUp":return"up";case"ArrowRight":return"right";case"ArrowLeft":return"left";default:return null}}function pn(e){var t;return(t=e.current)==null?void 0:t.map(s=>s.map(a=>a.length))}function Bt({controlsRef:e,levelIndex:t,rowIndex:s,cellIndex:a,event:r}){const o=mn(r.key);if(o){r.preventDefault();const i=pn(e);js({controlsRef:e,direction:o,levelIndex:t,rowIndex:s,cellIndex:a,size:i})}}function de(e){return e==null||e===""?e:b(e).format("YYYY-MM-DD")}function Ts(e){return e==null||e===""?e:b(e).format("YYYY-MM-DD HH:mm:ss")}function yn({minDate:e,maxDate:t}){const s=b();return!e&&!t?de(s):e&&b(s).isBefore(e)?de(e):t&&b(s).isAfter(t)?de(t):de(s)}const gn={locale:"en",firstDayOfWeek:1,weekendDays:[0,6],labelSeparator:"–",consistentWeeks:!1},Dn=z.createContext(gn);function we(){const e=z.useContext(Dn),t=z.useCallback(o=>o||e.locale,[e.locale]),s=z.useCallback(o=>typeof o=="number"?o:e.firstDayOfWeek,[e.firstDayOfWeek]),a=z.useCallback(o=>Array.isArray(o)?o:e.weekendDays,[e.weekendDays]),r=z.useCallback(o=>typeof o=="string"?o:e.labelSeparator,[e.labelSeparator]);return{...e,getLocale:t,getFirstDayOfWeek:s,getWeekendDays:a,getLabelSeparator:r}}function vn({value:e,type:t,withTime:s}){const a=s?Ts:de;if(t==="range"&&Array.isArray(e)){const r=a(e[0]),o=a(e[1]);return r?o?`${r} – ${o}`:`${r} –`:""}return t==="multiple"&&Array.isArray(e)?e.filter(Boolean).join(", "):!Array.isArray(e)&&e?a(e):""}function Ys({value:e,type:t,name:s,form:a,withTime:r=!1}){return n.jsx("input",{type:"hidden",value:vn({value:e,type:t,withTime:r}),name:s,form:a})}Ys.displayName="@mantine/dates/HiddenDatesInput";var Es={day:"m_396ce5cb"};const bn=ke((e,{size:t})=>({day:{"--day-size":Ce(t,"day-size")}})),Kt=te((e,t)=>{const s=se("Day",null,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,date:f,disabled:u,__staticSelector:D,weekend:x,outside:y,selected:h,renderDay:Y,inRange:j,firstInRange:E,lastInRange:R,hidden:N,static:P,highlightToday:S,attributes:$,...W}=s,A=ge({name:D||"Day",classes:Es,props:s,className:r,style:o,classNames:a,styles:i,unstyled:l,attributes:$,vars:c,varsResolver:bn,rootSelector:"day"});return n.jsx(Ae,{...A("day",{style:N?{display:"none"}:void 0}),component:P?"div":"button",ref:t,disabled:u,"data-today":b(f).isSame(new Date,"day")||void 0,"data-hidden":N||void 0,"data-highlight-today":S||void 0,"data-disabled":u||void 0,"data-weekend":!u&&!y&&x||void 0,"data-outside":!u&&y||void 0,"data-selected":!u&&h||void 0,"data-in-range":j&&!u||void 0,"data-first-in-range":E&&!u||void 0,"data-last-in-range":R&&!u||void 0,"data-static":P||void 0,unstyled:l,...W,children:(Y==null?void 0:Y(f))||b(f).date()})});Kt.classes=Es;Kt.displayName="@mantine/dates/Day";function _n({locale:e,format:t="dd",firstDayOfWeek:s=1}){const a=b().day(s),r=[];for(let o=0;o<7;o+=1)typeof t=="string"?r.push(b(a).add(o,"days").locale(e).format(t)):r.push(t(b(a).add(o,"days").format("YYYY-MM-DD")));return r}var Ns={weekday:"m_18a3eca"};const xn=ke((e,{size:t})=>({weekdaysRow:{"--wr-fz":tt(t),"--wr-spacing":oa(t)}})),qt=te((e,t)=>{const s=se("WeekdaysRow",null,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,locale:f,firstDayOfWeek:u,weekdayFormat:D,cellComponent:x="th",__staticSelector:y,withWeekNumbers:h,attributes:Y,...j}=s,E=ge({name:y||"WeekdaysRow",classes:Ns,props:s,className:r,style:o,classNames:a,styles:i,unstyled:l,attributes:Y,vars:c,varsResolver:xn,rootSelector:"weekdaysRow"}),R=we(),N=_n({locale:R.getLocale(f),format:D,firstDayOfWeek:R.getFirstDayOfWeek(u)}).map((P,S)=>n.jsx(x,{...E("weekday"),children:P},S));return n.jsxs(me,{component:"tr",ref:t,...E("weekdaysRow"),...j,children:[h&&n.jsx(x,{...E("weekday"),children:"#"}),N]})});qt.classes=Ns;qt.displayName="@mantine/dates/WeekdaysRow";function Sn(e,t=1){let s=b(e);const a=t===0?6:t-1;for(;s.day()!==a;)s=s.add(1,"day");return s.format("YYYY-MM-DD")}function Cn(e,t=1){let s=b(e);for(;s.day()!==t;)s=s.subtract(1,"day");return s.format("YYYY-MM-DD")}function kn({month:e,firstDayOfWeek:t=1,consistentWeeks:s}){const a=b(e).subtract(b(e).date()-1,"day"),r=b(a.format("YYYY-M-D")),o=r.format("YYYY-MM-DD"),i=r.add(+r.daysInMonth()-1,"day").format("YYYY-MM-DD"),l=Sn(i,t),c=[];let f=b(Cn(o,t));for(;b(f).isBefore(l,"day");){const u=[];for(let D=0;D<7;D+=1)u.push(f.format("YYYY-MM-DD")),f=f.add(1,"day");c.push(u)}if(s&&c.length<6){const u=c[c.length-1],D=u[u.length-1];let x=b(D).add(1,"day");for(;c.length<6;){const y=[];for(let h=0;h<7;h+=1)y.push(x.format("YYYY-MM-DD")),x=x.add(1,"day");c.push(y)}}return c}function Ut(e,t){return b(e).format("YYYY-MM")===b(t).format("YYYY-MM")}function Os(e,t){return t?b(e).isAfter(b(t).subtract(1,"day"),"day"):!0}function $s(e,t){return t?b(e).isBefore(b(t).add(1,"day"),"day"):!0}function wn({dates:e,minDate:t,maxDate:s,getDayProps:a,excludeDate:r,hideOutsideDates:o,month:i}){const l=e.flat().filter(u=>{var D;return $s(u,s)&&Os(u,t)&&!(r!=null&&r(u))&&!((D=a==null?void 0:a(u))!=null&&D.disabled)&&(!o||Ut(u,i))}),c=l.find(u=>{var D;return(D=a==null?void 0:a(u))==null?void 0:D.selected});if(c)return c;const f=l.find(u=>b().isSame(u,"date"));return f||l[0]}var ct={exports:{}},Mn=ct.exports,ls;function Ln(){return ls||(ls=1,(function(e,t){(function(s,a){e.exports=a()})(Mn,(function(){var s="day";return function(a,r,o){var i=function(f){return f.add(4-f.isoWeekday(),s)},l=r.prototype;l.isoWeekYear=function(){return i(this).year()},l.isoWeek=function(f){if(!this.$utils().u(f))return this.add(7*(f-this.isoWeek()),s);var u,D,x,y,h=i(this),Y=(u=this.isoWeekYear(),D=this.$u,x=(D?o.utc:o)().year(u).startOf("year"),y=4-x.isoWeekday(),x.isoWeekday()>4&&(y+=7),x.add(y,s));return h.diff(Y,"week")+1},l.isoWeekday=function(f){return this.$utils().u(f)?this.day()||7:this.day(this.day()%7?f:f-7)};var c=l.startOf;l.startOf=function(f,u){var D=this.$utils(),x=!!D.u(u)||u;return D.p(f)==="isoweek"?x?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):c.bind(this)(f,u)}}}))})(ct)),ct.exports}var jn=Ln();const Tn=ys(jn);b.extend(Tn);function Yn(e){const t=e.find(s=>b(s).day()===1);return b(t).isoWeek()}var As={month:"m_cc9820d3",monthCell:"m_8f457cd5",weekNumber:"m_6cff9dea"};const En={withCellSpacing:!0},Nn=ke((e,{size:t})=>({weekNumber:{"--wn-fz":tt(t),"--wn-size":Ce(t,"wn-size")}})),mt=te((e,t)=>{const s=se("Month",En,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,__staticSelector:f,locale:u,firstDayOfWeek:D,weekdayFormat:x,month:y,weekendDays:h,getDayProps:Y,excludeDate:j,minDate:E,maxDate:R,renderDay:N,hideOutsideDates:P,hideWeekdays:S,getDayAriaLabel:$,static:W,__getDayRef:A,__onDayKeyDown:I,__onDayClick:L,__onDayMouseEnter:T,__preventFocus:H,__stopPropagation:G,withCellSpacing:_,size:g,highlightToday:m,withWeekNumbers:v,attributes:p,...k}=s,d=ge({name:f||"Month",classes:As,props:s,className:r,style:o,classNames:a,styles:i,unstyled:l,attributes:p,vars:c,varsResolver:Nn,rootSelector:"month"}),M=we(),w=kn({month:y,firstDayOfWeek:M.getFirstDayOfWeek(D),consistentWeeks:M.consistentWeeks}),C=wn({dates:w,minDate:de(E),maxDate:de(R),getDayProps:Y,excludeDate:j,hideOutsideDates:P,month:y}),{resolvedClassNames:O,resolvedStyles:F}=Xe({classNames:a,styles:i,props:s}),q=w.map((Z,ee)=>{const oe=Z.map((V,ae)=>{const le=!Ut(V,y),X=($==null?void 0:$(V))||b(V).locale(u||M.locale).format("D MMMM YYYY"),K=Y==null?void 0:Y(V),ce=b(V).isSame(C,"date");return n.jsx("td",{...d("monthCell"),"data-with-spacing":_||void 0,children:n.jsx(Kt,{__staticSelector:f||"Month",classNames:O,styles:F,unstyled:l,"data-mantine-stop-propagation":G||void 0,highlightToday:m,renderDay:N,date:V,size:g,weekend:M.getWeekendDays(h).includes(b(V).get("day")),outside:le,hidden:P?le:!1,"aria-label":X,static:W,disabled:(j==null?void 0:j(V))||!$s(V,de(R))||!Os(V,de(E)),ref:U=>{U&&(A==null||A(ee,ae,U))},...K,onKeyDown:U=>{var ne;(ne=K==null?void 0:K.onKeyDown)==null||ne.call(K,U),I==null||I(U,{rowIndex:ee,cellIndex:ae,date:V})},onMouseEnter:U=>{var ne;(ne=K==null?void 0:K.onMouseEnter)==null||ne.call(K,U),T==null||T(U,V)},onClick:U=>{var ne;(ne=K==null?void 0:K.onClick)==null||ne.call(K,U),L==null||L(U,V)},onMouseDown:U=>{var ne;(ne=K==null?void 0:K.onMouseDown)==null||ne.call(K,U),H&&U.preventDefault()},tabIndex:H||!ce?-1:0})},V.toString())});return n.jsxs("tr",{...d("monthRow"),children:[v&&n.jsx("td",{...d("weekNumber"),children:Yn(Z)}),oe]},ee)});return n.jsxs(me,{component:"table",...d("month"),size:g,ref:t,...k,children:[!S&&n.jsx("thead",{...d("monthThead"),children:n.jsx(qt,{__staticSelector:f||"Month",locale:u,firstDayOfWeek:D,weekdayFormat:x,size:g,classNames:O,styles:F,unstyled:l,withWeekNumbers:v})}),n.jsx("tbody",{...d("monthTbody"),children:q})]})});mt.classes=As;mt.displayName="@mantine/dates/Month";var Fs={pickerControl:"m_dc6a3c71"};const On=ke((e,{size:t})=>({pickerControl:{"--dpc-fz":tt(t),"--dpc-size":Ce(t,"dpc-size")}})),pt=te((e,t)=>{const s=se("PickerControl",null,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,firstInRange:f,lastInRange:u,inRange:D,__staticSelector:x,selected:y,disabled:h,attributes:Y,...j}=s,E=ge({name:x||"PickerControl",classes:Fs,props:s,className:r,style:o,classNames:a,styles:i,unstyled:l,attributes:Y,vars:c,varsResolver:On,rootSelector:"pickerControl"});return n.jsx(Ae,{...E("pickerControl"),ref:t,unstyled:l,"data-picker-control":!0,"data-selected":y&&!h||void 0,"data-disabled":h||void 0,"data-in-range":D&&!h&&!y||void 0,"data-first-in-range":f&&!h||void 0,"data-last-in-range":u&&!h||void 0,disabled:h,...j})});pt.classes=Fs;pt.displayName="@mantine/dates/PickerControl";function Rs({year:e,minDate:t,maxDate:s}){return!t&&!s?!1:!!(t&&b(e).isBefore(t,"year")||s&&b(e).isAfter(s,"year"))}function $n({years:e,minDate:t,maxDate:s,getYearControlProps:a}){const r=e.flat().filter(l=>{var c;return!Rs({year:l,minDate:t,maxDate:s})&&!((c=a==null?void 0:a(l))!=null&&c.disabled)}),o=r.find(l=>{var c;return(c=a==null?void 0:a(l))==null?void 0:c.selected});if(o)return o;const i=r.find(l=>b().isSame(l,"year"));return i||r[0]}function Ps(e){const t=b(e).year(),s=t-t%10;let a=0;const r=[[],[],[],[]];for(let o=0;o<4;o+=1){const i=o===3?1:3;for(let l=0;l<i;l+=1)r[o].push(b(new Date(s+a,0)).format("YYYY-MM-DD")),a+=1}return r}var Ws={yearsList:"m_9206547b",yearsListCell:"m_c5a19c7d"};const An={yearsListFormat:"YYYY",withCellSpacing:!0},yt=te((e,t)=>{const s=se("YearsList",An,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,decade:f,yearsListFormat:u,locale:D,minDate:x,maxDate:y,getYearControlProps:h,__staticSelector:Y,__getControlRef:j,__onControlKeyDown:E,__onControlClick:R,__onControlMouseEnter:N,__preventFocus:P,__stopPropagation:S,withCellSpacing:$,size:W,attributes:A,...I}=s,L=ge({name:Y||"YearsList",classes:Ws,props:s,className:r,style:o,classNames:a,styles:i,unstyled:l,attributes:A,vars:c,rootSelector:"yearsList"}),T=we(),H=Ps(f),G=$n({years:H,minDate:x,maxDate:y,getYearControlProps:h}),_=H.map((g,m)=>{const v=g.map((p,k)=>{const d=h==null?void 0:h(p),M=b(p).isSame(G,"year");return n.jsx("td",{...L("yearsListCell"),"data-with-spacing":$||void 0,children:n.jsx(pt,{...L("yearsListControl"),size:W,unstyled:l,"data-mantine-stop-propagation":S||void 0,disabled:Rs({year:p,minDate:x,maxDate:y}),ref:w=>{w&&(j==null||j(m,k,w))},...d,onKeyDown:w=>{var C;(C=d==null?void 0:d.onKeyDown)==null||C.call(d,w),E==null||E(w,{rowIndex:m,cellIndex:k,date:p})},onClick:w=>{var C;(C=d==null?void 0:d.onClick)==null||C.call(d,w),R==null||R(w,p)},onMouseEnter:w=>{var C;(C=d==null?void 0:d.onMouseEnter)==null||C.call(d,w),N==null||N(w,p)},onMouseDown:w=>{var C;(C=d==null?void 0:d.onMouseDown)==null||C.call(d,w),P&&w.preventDefault()},tabIndex:P||!M?-1:0,children:b(p).locale(T.getLocale(D)).format(u)})},k)});return n.jsx("tr",{...L("yearsListRow"),children:v},m)});return n.jsx(me,{component:"table",ref:t,size:W,...L("yearsList"),...I,children:n.jsx("tbody",{children:_})})});yt.classes=Ws;yt.displayName="@mantine/dates/YearsList";function Is({month:e,minDate:t,maxDate:s}){return!t&&!s?!1:!!(t&&b(e).isBefore(t,"month")||s&&b(e).isAfter(s,"month"))}function Fn({months:e,minDate:t,maxDate:s,getMonthControlProps:a}){const r=e.flat().filter(l=>{var c;return!Is({month:l,minDate:t,maxDate:s})&&!((c=a==null?void 0:a(l))!=null&&c.disabled)}),o=r.find(l=>{var c;return(c=a==null?void 0:a(l))==null?void 0:c.selected});if(o)return o;const i=r.find(l=>b().isSame(l,"month"));return i||r[0]}function Rn(e){const t=b(e).startOf("year").toDate(),s=[[],[],[],[]];let a=0;for(let r=0;r<4;r+=1)for(let o=0;o<3;o+=1)s[r].push(b(t).add(a,"months").format("YYYY-MM-DD")),a+=1;return s}var zs={monthsList:"m_2a6c32d",monthsListCell:"m_fe27622f"};const Pn={monthsListFormat:"MMM",withCellSpacing:!0},gt=te((e,t)=>{const s=se("MonthsList",Pn,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,__staticSelector:f,year:u,monthsListFormat:D,locale:x,minDate:y,maxDate:h,getMonthControlProps:Y,__getControlRef:j,__onControlKeyDown:E,__onControlClick:R,__onControlMouseEnter:N,__preventFocus:P,__stopPropagation:S,withCellSpacing:$,size:W,attributes:A,...I}=s,L=ge({name:f||"MonthsList",classes:zs,props:s,className:r,style:o,classNames:a,styles:i,unstyled:l,attributes:A,vars:c,rootSelector:"monthsList"}),T=we(),H=Rn(u),G=Fn({months:H,minDate:de(y),maxDate:de(h),getMonthControlProps:Y}),_=H.map((g,m)=>{const v=g.map((p,k)=>{const d=Y==null?void 0:Y(p),M=b(p).isSame(G,"month");return n.jsx("td",{...L("monthsListCell"),"data-with-spacing":$||void 0,children:n.jsx(pt,{...L("monthsListControl"),size:W,unstyled:l,__staticSelector:f||"MonthsList","data-mantine-stop-propagation":S||void 0,disabled:Is({month:p,minDate:de(y),maxDate:de(h)}),ref:w=>{w&&(j==null||j(m,k,w))},...d,onKeyDown:w=>{var C;(C=d==null?void 0:d.onKeyDown)==null||C.call(d,w),E==null||E(w,{rowIndex:m,cellIndex:k,date:p})},onClick:w=>{var C;(C=d==null?void 0:d.onClick)==null||C.call(d,w),R==null||R(w,p)},onMouseEnter:w=>{var C;(C=d==null?void 0:d.onMouseEnter)==null||C.call(d,w),N==null||N(w,p)},onMouseDown:w=>{var C;(C=d==null?void 0:d.onMouseDown)==null||C.call(d,w),P&&w.preventDefault()},tabIndex:P||!M?-1:0,children:b(p).locale(T.getLocale(x)).format(D)})},k)});return n.jsx("tr",{...L("monthsListRow"),children:v},m)});return n.jsx(me,{component:"table",ref:t,size:W,...L("monthsList"),...I,children:n.jsx("tbody",{children:_})})});gt.classes=zs;gt.displayName="@mantine/dates/MonthsList";var Vs={calendarHeader:"m_730a79ed",calendarHeaderLevel:"m_f6645d97",calendarHeaderControl:"m_2351eeb0",calendarHeaderControlIcon:"m_367dc749"};const Wn={hasNextLevel:!0,withNext:!0,withPrevious:!0,headerControlsOrder:["previous","level","next"]},In=ke((e,{size:t})=>({calendarHeader:{"--dch-control-size":Ce(t,"dch-control-size"),"--dch-fz":tt(t)}})),Me=te((e,t)=>{const s=se("CalendarHeader",Wn,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,nextIcon:f,previousIcon:u,nextLabel:D,previousLabel:x,onNext:y,onPrevious:h,onLevelClick:Y,label:j,nextDisabled:E,previousDisabled:R,hasNextLevel:N,levelControlAriaLabel:P,withNext:S,withPrevious:$,headerControlsOrder:W,__staticSelector:A,__preventFocus:I,__stopPropagation:L,attributes:T,...H}=s,G=ge({name:A||"CalendarHeader",classes:Vs,props:s,className:r,style:o,classNames:a,styles:i,unstyled:l,attributes:T,vars:c,varsResolver:In,rootSelector:"calendarHeader"}),_=I?k=>k.preventDefault():void 0,g=$&&z.createElement(Ae,{...G("calendarHeaderControl"),key:"previous","data-direction":"previous","aria-label":x,onClick:h,unstyled:l,onMouseDown:_,disabled:R,"data-disabled":R||void 0,tabIndex:I||R?-1:0,"data-mantine-stop-propagation":L||void 0},u||n.jsx(ss,{...G("calendarHeaderControlIcon"),"data-direction":"previous",size:"45%"})),m=z.createElement(Ae,{component:N?"button":"div",...G("calendarHeaderLevel"),key:"level",onClick:N?Y:void 0,unstyled:l,onMouseDown:N?_:void 0,disabled:!N,"data-static":!N||void 0,"aria-label":P,tabIndex:I||!N?-1:0,"data-mantine-stop-propagation":L||void 0},j),v=S&&z.createElement(Ae,{...G("calendarHeaderControl"),key:"next","data-direction":"next","aria-label":D,onClick:y,unstyled:l,onMouseDown:_,disabled:E,"data-disabled":E||void 0,tabIndex:I||E?-1:0,"data-mantine-stop-propagation":L||void 0},f||n.jsx(ss,{...G("calendarHeaderControlIcon"),"data-direction":"next",size:"45%"})),p=W.map(k=>k==="previous"?g:k==="level"?m:k==="next"?v:null);return n.jsx(me,{...G("calendarHeader"),ref:t,...H,children:p})});Me.classes=Vs;Me.displayName="@mantine/dates/CalendarHeader";function zn(e){const t=Ps(e);return[t[0][0],t[3][0]]}const Vn={decadeLabelFormat:"YYYY"},Dt=te((e,t)=>{const s=se("DecadeLevel",Vn,e),{decade:a,locale:r,minDate:o,maxDate:i,yearsListFormat:l,getYearControlProps:c,__getControlRef:f,__onControlKeyDown:u,__onControlClick:D,__onControlMouseEnter:x,withCellSpacing:y,__preventFocus:h,nextIcon:Y,previousIcon:j,nextLabel:E,previousLabel:R,onNext:N,onPrevious:P,nextDisabled:S,previousDisabled:$,levelControlAriaLabel:W,withNext:A,withPrevious:I,headerControlsOrder:L,decadeLabelFormat:T,classNames:H,styles:G,unstyled:_,__staticSelector:g,__stopPropagation:m,size:v,attributes:p,...k}=s,d=we(),[M,w]=zn(a),C={__staticSelector:g||"DecadeLevel",classNames:H,styles:G,unstyled:_,size:v,attributes:p},O=typeof S=="boolean"?S:i?!b(w).endOf("year").isBefore(i):!1,F=typeof $=="boolean"?$:o?!b(M).startOf("year").isAfter(o):!1,q=(Z,ee)=>b(Z).locale(r||d.locale).format(ee);return n.jsxs(me,{"data-decade-level":!0,size:v,ref:t,...k,children:[n.jsx(Me,{label:typeof T=="function"?T(M,w):`${q(M,T)} – ${q(w,T)}`,__preventFocus:h,__stopPropagation:m,nextIcon:Y,previousIcon:j,nextLabel:E,previousLabel:R,onNext:N,onPrevious:P,nextDisabled:O,previousDisabled:F,hasNextLevel:!1,levelControlAriaLabel:W,withNext:A,withPrevious:I,headerControlsOrder:L,...C}),n.jsx(yt,{decade:a,locale:r,minDate:o,maxDate:i,yearsListFormat:l,getYearControlProps:c,__getControlRef:f,__onControlKeyDown:u,__onControlClick:D,__onControlMouseEnter:x,__preventFocus:h,__stopPropagation:m,withCellSpacing:y,...C})]})});Dt.classes={...yt.classes,...Me.classes};Dt.displayName="@mantine/dates/DecadeLevel";const Hn={yearLabelFormat:"YYYY"},vt=te((e,t)=>{const s=se("YearLevel",Hn,e),{year:a,locale:r,minDate:o,maxDate:i,monthsListFormat:l,getMonthControlProps:c,__getControlRef:f,__onControlKeyDown:u,__onControlClick:D,__onControlMouseEnter:x,withCellSpacing:y,__preventFocus:h,nextIcon:Y,previousIcon:j,nextLabel:E,previousLabel:R,onNext:N,onPrevious:P,onLevelClick:S,nextDisabled:$,previousDisabled:W,hasNextLevel:A,levelControlAriaLabel:I,withNext:L,withPrevious:T,headerControlsOrder:H,yearLabelFormat:G,__staticSelector:_,__stopPropagation:g,size:m,classNames:v,styles:p,unstyled:k,attributes:d,...M}=s,w=we(),C={__staticSelector:_||"YearLevel",classNames:v,styles:p,unstyled:k,size:m,attributes:d},O=typeof $=="boolean"?$:i?!b(a).endOf("year").isBefore(i):!1,F=typeof W=="boolean"?W:o?!b(a).startOf("year").isAfter(o):!1;return n.jsxs(me,{"data-year-level":!0,size:m,ref:t,...M,children:[n.jsx(Me,{label:typeof G=="function"?G(a):b(a).locale(r||w.locale).format(G),__preventFocus:h,__stopPropagation:g,nextIcon:Y,previousIcon:j,nextLabel:E,previousLabel:R,onNext:N,onPrevious:P,onLevelClick:S,nextDisabled:O,previousDisabled:F,hasNextLevel:A,levelControlAriaLabel:I,withNext:L,withPrevious:T,headerControlsOrder:H,...C}),n.jsx(gt,{year:a,locale:r,minDate:o,maxDate:i,monthsListFormat:l,getMonthControlProps:c,__getControlRef:f,__onControlKeyDown:u,__onControlClick:D,__onControlMouseEnter:x,__preventFocus:h,__stopPropagation:g,withCellSpacing:y,...C})]})});vt.classes={...Me.classes,...gt.classes};vt.displayName="@mantine/dates/YearLevel";const Gn={monthLabelFormat:"MMMM YYYY"},bt=te((e,t)=>{const s=se("MonthLevel",Gn,e),{month:a,locale:r,firstDayOfWeek:o,weekdayFormat:i,weekendDays:l,getDayProps:c,excludeDate:f,minDate:u,maxDate:D,renderDay:x,hideOutsideDates:y,hideWeekdays:h,getDayAriaLabel:Y,__getDayRef:j,__onDayKeyDown:E,__onDayClick:R,__onDayMouseEnter:N,withCellSpacing:P,highlightToday:S,withWeekNumbers:$,__preventFocus:W,__stopPropagation:A,nextIcon:I,previousIcon:L,nextLabel:T,previousLabel:H,onNext:G,onPrevious:_,onLevelClick:g,nextDisabled:m,previousDisabled:v,hasNextLevel:p,levelControlAriaLabel:k,withNext:d,withPrevious:M,headerControlsOrder:w,monthLabelFormat:C,classNames:O,styles:F,unstyled:q,__staticSelector:Z,size:ee,static:oe,attributes:V,...ae}=s,le=we(),X={__staticSelector:Z||"MonthLevel",classNames:O,styles:F,unstyled:q,size:ee,attributes:V},K=typeof m=="boolean"?m:D?!b(a).endOf("month").isBefore(D):!1,ce=typeof v=="boolean"?v:u?!b(a).startOf("month").isAfter(u):!1;return n.jsxs(me,{"data-month-level":!0,size:ee,ref:t,...ae,children:[n.jsx(Me,{label:typeof C=="function"?C(a):b(a).locale(r||le.locale).format(C),__preventFocus:W,__stopPropagation:A,nextIcon:I,previousIcon:L,nextLabel:T,previousLabel:H,onNext:G,onPrevious:_,onLevelClick:g,nextDisabled:K,previousDisabled:ce,hasNextLevel:p,levelControlAriaLabel:k,withNext:d,withPrevious:M,headerControlsOrder:w,...X}),n.jsx(mt,{month:a,locale:r,firstDayOfWeek:o,weekdayFormat:i,weekendDays:l,getDayProps:c,excludeDate:f,minDate:u,maxDate:D,renderDay:x,hideOutsideDates:y,hideWeekdays:h,getDayAriaLabel:Y,__getDayRef:j,__onDayKeyDown:E,__onDayClick:R,__onDayMouseEnter:N,__preventFocus:W,__stopPropagation:A,static:oe,withCellSpacing:P,highlightToday:S,withWeekNumbers:$,...X})]})});bt.classes={...mt.classes,...Me.classes};bt.displayName="@mantine/dates/MonthLevel";var Hs={levelsGroup:"m_30b26e33"};const Le=te((e,t)=>{const s=se("LevelsGroup",null,e),{classNames:a,className:r,style:o,styles:i,unstyled:l,vars:c,__staticSelector:f,attributes:u,...D}=s,x=ge({name:f||"LevelsGroup",classes:Hs,props:s,className:r,style:o,classNames:a,styles:i,unstyled:l,attributes:u,vars:c,rootSelector:"levelsGroup"});return n.jsx(me,{ref:t,...x("levelsGroup"),...D})});Le.classes=Hs;Le.displayName="@mantine/dates/LevelsGroup";const Bn={numberOfColumns:1},_t=te((e,t)=>{const s=se("DecadeLevelGroup",Bn,e),{decade:a,locale:r,minDate:o,maxDate:i,yearsListFormat:l,getYearControlProps:c,__onControlClick:f,__onControlMouseEnter:u,withCellSpacing:D,__preventFocus:x,nextIcon:y,previousIcon:h,nextLabel:Y,previousLabel:j,onNext:E,onPrevious:R,nextDisabled:N,previousDisabled:P,headerControlsOrder:S,classNames:$,styles:W,unstyled:A,__staticSelector:I,__stopPropagation:L,numberOfColumns:T,levelControlAriaLabel:H,decadeLabelFormat:G,size:_,vars:g,attributes:m,...v}=s,p=z.useRef([]),k=Array(T).fill(0).map((d,M)=>{const w=b(a).add(M*10,"years").format("YYYY-MM-DD");return n.jsx(Dt,{size:_,yearsListFormat:l,decade:w,withNext:M===T-1,withPrevious:M===0,decadeLabelFormat:G,__onControlClick:f,__onControlMouseEnter:u,__onControlKeyDown:(C,O)=>Bt({levelIndex:M,rowIndex:O.rowIndex,cellIndex:O.cellIndex,event:C,controlsRef:p}),__getControlRef:(C,O,F)=>{Array.isArray(p.current[M])||(p.current[M]=[]),Array.isArray(p.current[M][C])||(p.current[M][C]=[]),p.current[M][C][O]=F},levelControlAriaLabel:typeof H=="function"?H(w):H,locale:r,minDate:o,maxDate:i,__preventFocus:x,__stopPropagation:L,nextIcon:y,previousIcon:h,nextLabel:Y,previousLabel:j,onNext:E,onPrevious:R,nextDisabled:N,previousDisabled:P,getYearControlProps:c,__staticSelector:I||"DecadeLevelGroup",classNames:$,styles:W,unstyled:A,withCellSpacing:D,headerControlsOrder:S,attributes:m},M)});return n.jsx(Le,{classNames:$,styles:W,__staticSelector:I||"DecadeLevelGroup",ref:t,size:_,unstyled:A,attributes:m,...v,children:k})});_t.classes={...Le.classes,...Dt.classes};_t.displayName="@mantine/dates/DecadeLevelGroup";const Kn={numberOfColumns:1},xt=te((e,t)=>{const s=se("YearLevelGroup",Kn,e),{year:a,locale:r,minDate:o,maxDate:i,monthsListFormat:l,getMonthControlProps:c,__onControlClick:f,__onControlMouseEnter:u,withCellSpacing:D,__preventFocus:x,nextIcon:y,previousIcon:h,nextLabel:Y,previousLabel:j,onNext:E,onPrevious:R,onLevelClick:N,nextDisabled:P,previousDisabled:S,hasNextLevel:$,headerControlsOrder:W,classNames:A,styles:I,unstyled:L,__staticSelector:T,__stopPropagation:H,numberOfColumns:G,levelControlAriaLabel:_,yearLabelFormat:g,size:m,vars:v,attributes:p,...k}=s,d=z.useRef([]),M=Array(G).fill(0).map((w,C)=>{const O=b(a).add(C,"years").format("YYYY-MM-DD");return n.jsx(vt,{size:m,monthsListFormat:l,year:O,withNext:C===G-1,withPrevious:C===0,yearLabelFormat:g,__stopPropagation:H,__onControlClick:f,__onControlMouseEnter:u,__onControlKeyDown:(F,q)=>Bt({levelIndex:C,rowIndex:q.rowIndex,cellIndex:q.cellIndex,event:F,controlsRef:d}),__getControlRef:(F,q,Z)=>{Array.isArray(d.current[C])||(d.current[C]=[]),Array.isArray(d.current[C][F])||(d.current[C][F]=[]),d.current[C][F][q]=Z},levelControlAriaLabel:typeof _=="function"?_(O):_,locale:r,minDate:o,maxDate:i,__preventFocus:x,nextIcon:y,previousIcon:h,nextLabel:Y,previousLabel:j,onNext:E,onPrevious:R,onLevelClick:N,nextDisabled:P,previousDisabled:S,hasNextLevel:$,getMonthControlProps:c,classNames:A,styles:I,unstyled:L,__staticSelector:T||"YearLevelGroup",withCellSpacing:D,headerControlsOrder:W,attributes:p},C)});return n.jsx(Le,{classNames:A,styles:I,__staticSelector:T||"YearLevelGroup",ref:t,size:m,unstyled:L,attributes:p,...k,children:M})});xt.classes={...vt.classes,...Le.classes};xt.displayName="@mantine/dates/YearLevelGroup";const qn={numberOfColumns:1},St=te((e,t)=>{const s=se("MonthLevelGroup",qn,e),{month:a,locale:r,firstDayOfWeek:o,weekdayFormat:i,weekendDays:l,getDayProps:c,excludeDate:f,minDate:u,maxDate:D,renderDay:x,hideOutsideDates:y,hideWeekdays:h,getDayAriaLabel:Y,__onDayClick:j,__onDayMouseEnter:E,withCellSpacing:R,highlightToday:N,withWeekNumbers:P,__preventFocus:S,nextIcon:$,previousIcon:W,nextLabel:A,previousLabel:I,onNext:L,onPrevious:T,onLevelClick:H,nextDisabled:G,previousDisabled:_,hasNextLevel:g,headerControlsOrder:m,classNames:v,styles:p,unstyled:k,numberOfColumns:d,levelControlAriaLabel:M,monthLabelFormat:w,__staticSelector:C,__stopPropagation:O,size:F,static:q,vars:Z,attributes:ee,...oe}=s,V=z.useRef([]),ae=Array(d).fill(0).map((le,X)=>{const K=b(a).add(X,"months").format("YYYY-MM-DD");return n.jsx(bt,{month:K,withNext:X===d-1,withPrevious:X===0,monthLabelFormat:w,__stopPropagation:O,__onDayClick:j,__onDayMouseEnter:E,__onDayKeyDown:(ce,U)=>Bt({levelIndex:X,rowIndex:U.rowIndex,cellIndex:U.cellIndex,event:ce,controlsRef:V}),__getDayRef:(ce,U,ne)=>{Array.isArray(V.current[X])||(V.current[X]=[]),Array.isArray(V.current[X][ce])||(V.current[X][ce]=[]),V.current[X][ce][U]=ne},levelControlAriaLabel:typeof M=="function"?M(K):M,locale:r,firstDayOfWeek:o,weekdayFormat:i,weekendDays:l,getDayProps:c,excludeDate:f,minDate:u,maxDate:D,renderDay:x,hideOutsideDates:y,hideWeekdays:h,getDayAriaLabel:Y,__preventFocus:S,nextIcon:$,previousIcon:W,nextLabel:A,previousLabel:I,onNext:L,onPrevious:T,onLevelClick:H,nextDisabled:G,previousDisabled:_,hasNextLevel:g,classNames:v,styles:p,unstyled:k,__staticSelector:C||"MonthLevelGroup",size:F,static:q,withCellSpacing:R,highlightToday:N,withWeekNumbers:P,headerControlsOrder:m,attributes:ee},X)});return n.jsx(Le,{classNames:v,styles:p,__staticSelector:C||"MonthLevelGroup",ref:t,size:F,attributes:ee,...oe,children:ae})});St.classes={...Le.classes,...bt.classes};St.displayName="@mantine/dates/MonthLevelGroup";var Gs={input:"m_6fa5e2aa"};const Ct=te((e,t)=>{const{inputProps:s,wrapperProps:a,placeholder:r,classNames:o,styles:i,unstyled:l,popoverProps:c,modalProps:f,dropdownType:u,children:D,formattedValue:x,dropdownHandlers:y,dropdownOpened:h,onClick:Y,clearable:j,onClear:E,clearButtonProps:R,rightSection:N,shouldClear:P,readOnly:S,disabled:$,value:W,name:A,form:I,type:L,onDropdownClose:T,withTime:H,...G}=Oa("PickerInputBase",{size:"sm"},e),_=n.jsx(ot.ClearButton,{onClick:E,unstyled:l,...R}),g=()=>{L==="range"&&Array.isArray(W)&&W[0]&&!W[1]&&E(),y.close()};return n.jsxs(n.Fragment,{children:[u==="modal"&&!S&&n.jsx(it,{opened:h,onClose:g,withCloseButton:!1,size:"auto","data-dates-modal":!0,unstyled:l,...f,children:D}),n.jsx(ot.Wrapper,{...a,children:n.jsxs(Ot,{position:"bottom-start",opened:h,trapFocus:!0,returnFocus:!1,unstyled:l,onClose:T,...c,disabled:(c==null?void 0:c.disabled)||u==="modal"||S,onChange:m=>{var v;m||((v=c==null?void 0:c.onClose)==null||v.call(c),g())},children:[n.jsx(Ot.Target,{children:n.jsx(ot,{"data-dates-input":!0,"data-read-only":S||void 0,disabled:$,component:"button",type:"button",multiline:!0,onClick:m=>{Y==null||Y(m),y.toggle()},__clearSection:_,__clearable:j&&P&&!S&&!$,rightSection:N,...s,ref:t,classNames:{...o,input:ia(Gs.input,o==null?void 0:o.input)},...G,children:x||n.jsx(ot.Placeholder,{error:s.error,unstyled:l,className:o==null?void 0:o.placeholder,style:i==null?void 0:i.placeholder,children:r})})}),n.jsx(Ot.Dropdown,{"data-dates-dropdown":!0,children:D})]})}),n.jsx(Ys,{value:W,name:A,form:I,type:L,withTime:H})]})});Ct.classes=Gs;Ct.displayName="@mantine/dates/PickerInputBase";const cs=e=>e==="range"?[null,null]:e==="multiple"?[]:null,us=(e,t)=>{const s=t?Ts:de;return Array.isArray(e)?e.map(s):s(e)};function Qt({type:e,value:t,defaultValue:s,onChange:a,withTime:r=!1}){const o=z.useRef(e),[i,l,c]=ut({value:us(t,r),defaultValue:us(s,r),finalValue:cs(e),onChange:a});let f=i;return o.current!==e&&(o.current=e,t===void 0&&(f=s!==void 0?s:cs(e),l(f))),[f,l,c]}function At(e,t){return e?e==="month"?0:e==="year"?1:2:t||0}function Un(e){return e===0?"month":e===1?"year":"decade"}function Je(e,t,s){return Un(la(At(e,0),At(t,0),At(s,2)))}const Qn={maxLevel:"decade",minLevel:"month",__updateDateOnYearSelect:!0,__updateDateOnMonthSelect:!0,enableKeyboardNavigation:!0},kt=te((e,t)=>{const s=se("Calendar",Qn,e),{vars:a,maxLevel:r,minLevel:o,defaultLevel:i,level:l,onLevelChange:c,date:f,defaultDate:u,onDateChange:D,numberOfColumns:x,columnsToScroll:y,ariaLabels:h,nextLabel:Y,previousLabel:j,onYearSelect:E,onMonthSelect:R,onYearMouseEnter:N,onMonthMouseEnter:P,headerControlsOrder:S,__updateDateOnYearSelect:$,__updateDateOnMonthSelect:W,__setDateRef:A,__setLevelRef:I,firstDayOfWeek:L,weekdayFormat:T,weekendDays:H,getDayProps:G,excludeDate:_,renderDay:g,hideOutsideDates:m,hideWeekdays:v,getDayAriaLabel:p,monthLabelFormat:k,nextIcon:d,previousIcon:M,__onDayClick:w,__onDayMouseEnter:C,withCellSpacing:O,highlightToday:F,withWeekNumbers:q,monthsListFormat:Z,getMonthControlProps:ee,yearLabelFormat:oe,yearsListFormat:V,getYearControlProps:ae,decadeLabelFormat:le,classNames:X,styles:K,unstyled:ce,minDate:U,maxDate:ne,locale:he,__staticSelector:Ne,size:st,__preventFocus:Fe,__stopPropagation:Re,onNextDecade:Pe,onPreviousDecade:We,onNextYear:Ie,onPreviousYear:ze,onNextMonth:Ve,onPreviousMonth:He,static:Ge,enableKeyboardNavigation:Be,attributes:Mt,...Lt}=s,{resolvedClassNames:jt,resolvedStyles:Tt}=Xe({classNames:X,styles:K,props:s}),[fe,_e]=ut({value:l?Je(l,o,r):void 0,defaultValue:i?Je(i,o,r):void 0,finalValue:Je(void 0,o,r),onChange:c}),[Yt,ve]=Qt({type:"default",value:de(f),defaultValue:de(u),onChange:D});z.useImperativeHandle(A,()=>B=>{ve(B)}),z.useImperativeHandle(I,()=>B=>{_e(B)});const xe={__staticSelector:Ne||"Calendar",styles:Tt,classNames:jt,unstyled:ce,size:st,attributes:Mt},Se=y||x||1,Ke=new Date,qe=U&&b(Ke).isAfter(U)?U:b(Ke).format("YYYY-MM-DD"),pe=Yt||qe,be=()=>{const B=b(pe).add(Se,"month").format("YYYY-MM-DD");Ve==null||Ve(B),ve(B)},at=()=>{const B=b(pe).subtract(Se,"month").format("YYYY-MM-DD");He==null||He(B),ve(B)},ue=()=>{const B=b(pe).add(Se,"year").format("YYYY-MM-DD");Ie==null||Ie(B),ve(B)},Ue=()=>{const B=b(pe).subtract(Se,"year").format("YYYY-MM-DD");ze==null||ze(B),ve(B)},nt=()=>{const B=b(pe).add(10*Se,"year").format("YYYY-MM-DD");Pe==null||Pe(B),ve(B)},Qe=()=>{const B=b(pe).subtract(10*Se,"year").format("YYYY-MM-DD");We==null||We(B),ve(B)},rt=z.useRef(null);z.useEffect(()=>{if(!Be||Ge)return;const B=re=>{var $e;if(!(($e=rt.current)!=null&&$e.contains(document.activeElement)))return;const Oe=re.ctrlKey||re.metaKey,je=re.shiftKey;switch(re.key){case"ArrowUp":Oe&&je?(re.preventDefault(),Qe()):Oe&&(re.preventDefault(),Ue());break;case"ArrowDown":Oe&&je?(re.preventDefault(),nt()):Oe&&(re.preventDefault(),ue());break;case"y":case"Y":fe==="month"&&(re.preventDefault(),_e("year"));break}};return document.addEventListener("keydown",B),()=>{document.removeEventListener("keydown",B)}},[Be,Ge,fe,ue,Ue,nt,Qe]);const ie=B=>{rt.current=B,typeof t=="function"?t(B):t&&(t.current=B)};return n.jsxs(me,{ref:ie,size:st,"data-calendar":!0,...Lt,children:[fe==="month"&&n.jsx(St,{month:pe,minDate:U,maxDate:ne,firstDayOfWeek:L,weekdayFormat:T,weekendDays:H,getDayProps:G,excludeDate:_,renderDay:g,hideOutsideDates:m,hideWeekdays:v,getDayAriaLabel:p,onNext:be,onPrevious:at,hasNextLevel:r!=="month",onLevelClick:()=>_e("year"),numberOfColumns:x,locale:he,levelControlAriaLabel:h==null?void 0:h.monthLevelControl,nextLabel:(h==null?void 0:h.nextMonth)??Y,nextIcon:d,previousLabel:(h==null?void 0:h.previousMonth)??j,previousIcon:M,monthLabelFormat:k,__onDayClick:w,__onDayMouseEnter:C,__preventFocus:Fe,__stopPropagation:Re,static:Ge,withCellSpacing:O,highlightToday:F,withWeekNumbers:q,headerControlsOrder:S,...xe}),fe==="year"&&n.jsx(xt,{year:pe,numberOfColumns:x,minDate:U,maxDate:ne,monthsListFormat:Z,getMonthControlProps:ee,locale:he,onNext:ue,onPrevious:Ue,hasNextLevel:r!=="month"&&r!=="year",onLevelClick:()=>_e("decade"),levelControlAriaLabel:h==null?void 0:h.yearLevelControl,nextLabel:(h==null?void 0:h.nextYear)??Y,nextIcon:d,previousLabel:(h==null?void 0:h.previousYear)??j,previousIcon:M,yearLabelFormat:oe,__onControlMouseEnter:P,__onControlClick:(B,re)=>{W&&ve(re),_e(Je("month",o,r)),R==null||R(re)},__preventFocus:Fe,__stopPropagation:Re,withCellSpacing:O,headerControlsOrder:S,...xe}),fe==="decade"&&n.jsx(_t,{decade:pe,minDate:U,maxDate:ne,yearsListFormat:V,getYearControlProps:ae,locale:he,onNext:nt,onPrevious:Qe,numberOfColumns:x,nextLabel:(h==null?void 0:h.nextDecade)??Y,nextIcon:d,previousLabel:(h==null?void 0:h.previousDecade)??j,previousIcon:M,decadeLabelFormat:le,__onControlMouseEnter:N,__onControlClick:(B,re)=>{$&&ve(re),_e(Je("year",o,r)),E==null||E(re)},__preventFocus:Fe,__stopPropagation:Re,withCellSpacing:O,headerControlsOrder:S,...xe})]})});kt.classes={..._t.classes,...xt.classes,...St.classes};kt.displayName="@mantine/dates/Calendar";function Bs(e){const{maxLevel:t,minLevel:s,defaultLevel:a,level:r,onLevelChange:o,nextIcon:i,previousIcon:l,date:c,defaultDate:f,onDateChange:u,numberOfColumns:D,columnsToScroll:x,ariaLabels:y,nextLabel:h,previousLabel:Y,onYearSelect:j,onMonthSelect:E,onYearMouseEnter:R,onMonthMouseEnter:N,onNextMonth:P,onPreviousMonth:S,onNextYear:$,onPreviousYear:W,onNextDecade:A,onPreviousDecade:I,withCellSpacing:L,highlightToday:T,__updateDateOnYearSelect:H,__updateDateOnMonthSelect:G,__setDateRef:_,__setLevelRef:g,withWeekNumbers:m,headerControlsOrder:v,firstDayOfWeek:p,weekdayFormat:k,weekendDays:d,getDayProps:M,excludeDate:w,renderDay:C,hideOutsideDates:O,hideWeekdays:F,getDayAriaLabel:q,monthLabelFormat:Z,monthsListFormat:ee,getMonthControlProps:oe,yearLabelFormat:V,yearsListFormat:ae,getYearControlProps:le,decadeLabelFormat:X,allowSingleDateInRange:K,allowDeselect:ce,minDate:U,maxDate:ne,locale:he,...Ne}=e;return{calendarProps:{maxLevel:t,minLevel:s,defaultLevel:a,level:r,onLevelChange:o,nextIcon:i,previousIcon:l,date:c,defaultDate:f,onDateChange:u,numberOfColumns:D,columnsToScroll:x,ariaLabels:y,nextLabel:h,previousLabel:Y,onYearSelect:j,onMonthSelect:E,onYearMouseEnter:R,onMonthMouseEnter:N,onNextMonth:P,onPreviousMonth:S,onNextYear:$,onPreviousYear:W,onNextDecade:A,onPreviousDecade:I,withCellSpacing:L,highlightToday:T,__updateDateOnYearSelect:H,__updateDateOnMonthSelect:G,__setDateRef:_,withWeekNumbers:m,headerControlsOrder:v,firstDayOfWeek:p,weekdayFormat:k,weekendDays:d,getDayProps:M,excludeDate:w,renderDay:C,hideOutsideDates:O,hideWeekdays:F,getDayAriaLabel:q,monthLabelFormat:Z,monthsListFormat:ee,getMonthControlProps:oe,yearLabelFormat:V,yearsListFormat:ae,getYearControlProps:le,decadeLabelFormat:X,allowSingleDateInRange:K,allowDeselect:ce,minDate:U,maxDate:ne,locale:he},others:Ne}}function ds(e,t){const s=[...t].sort((a,r)=>b(a).isAfter(b(r))?1:-1);return b(s[0]).startOf("day").subtract(1,"ms").isBefore(e)&&b(s[1]).endOf("day").add(1,"ms").isAfter(e)}function Jn({type:e,level:t,value:s,defaultValue:a,onChange:r,allowSingleDateInRange:o,allowDeselect:i,onMouseLeave:l}){const[c,f]=Qt({type:e,value:s,defaultValue:a,onChange:r}),[u,D]=z.useState(e==="range"&&c[0]&&!c[1]?c[0]:null),[x,y]=z.useState(null),h=S=>{if(e==="range"){if(u&&!c[1]){if(b(S).isSame(u,t)&&!o){D(null),y(null),f([null,null]);return}const $=[S,u];$.sort((W,A)=>b(W).isAfter(b(A))?1:-1),f($),y(null),D(null);return}if(c[0]&&!c[1]&&b(S).isSame(c[0],t)&&!o){D(null),y(null),f([null,null]);return}f([S,null]),y(null),D(S);return}if(e==="multiple"){c.some($=>b($).isSame(S,t))?f(c.filter($=>!b($).isSame(S,t))):f([...c,S]);return}c&&i&&b(S).isSame(c,t)?f(null):f(S)},Y=S=>u&&x?ds(S,[x,u]):c[0]&&c[1]?ds(S,c):!1,j=e==="range"?S=>{l==null||l(S),y(null)}:l,E=S=>c[0]&&b(S).isSame(c[0],t)?!(x&&b(x).isBefore(c[0])):!1,R=S=>c[1]?b(S).isSame(c[1],t):!c[0]||!x?!1:b(x).isBefore(c[0])&&b(S).isSame(c[0],t),N=S=>{if(e==="range")return{selected:c.some(W=>W&&b(W).isSame(S,t)),inRange:Y(S),firstInRange:E(S),lastInRange:R(S),"data-autofocus":!!c[0]&&b(c[0]).isSame(S,t)||void 0};if(e==="multiple")return{selected:c.some(W=>W&&b(W).isSame(S,t)),"data-autofocus":!!c[0]&&b(c[0]).isSame(S,t)||void 0};const $=b(c).isSame(S,t);return{selected:$,"data-autofocus":$||void 0}},P=e==="range"&&u?y:()=>{};return z.useEffect(()=>{if(e==="range")if(c[0]&&!c[1])D(c[0]);else{const S=c[0]==null&&c[1]==null,$=c[0]!=null&&c[1]!=null;(S||$)&&(D(null),y(null))}},[c]),{onDateChange:h,onRootMouseLeave:j,onHoveredDateChange:P,getControlProps:N,_value:c,setValue:f}}var Zn={datePickerRoot:"m_765a40cf",presetsList:"m_d6a681e1",presetButton:"m_acd30b22"};const Xn=ke((e,{size:t})=>({datePickerRoot:{"--preset-font-size":tt(t)}})),er={type:"default",defaultLevel:"month",numberOfColumns:1,size:"sm"},wt=te((e,t)=>{const s=se("DatePicker",er,e),{allowDeselect:a,allowSingleDateInRange:r,value:o,defaultValue:i,onChange:l,onMouseLeave:c,classNames:f,styles:u,__staticSelector:D,__onDayClick:x,__onDayMouseEnter:y,__onPresetSelect:h,__stopPropagation:Y,presets:j,className:E,style:R,unstyled:N,size:P,vars:S,attributes:$,...W}=s,{calendarProps:A,others:I}=Bs(W),L=z.useRef(null),T=z.useRef(null),H=ge({name:D||"DatePicker",classes:Zn,props:s,className:E,style:R,classNames:f,styles:u,unstyled:N,attributes:$,rootSelector:j?"datePickerRoot":void 0,varsResolver:Xn,vars:S}),{onDateChange:G,onRootMouseLeave:_,onHoveredDateChange:g,getControlProps:m,_value:v,setValue:p}=Jn({type:I.type,level:"day",allowDeselect:a,allowSingleDateInRange:r,value:o,defaultValue:i,onChange:l,onMouseLeave:c}),{resolvedClassNames:k,resolvedStyles:d}=Xe({classNames:f,styles:u,props:s}),M=n.jsx(kt,{ref:t,classNames:k,styles:d,__staticSelector:D||"DatePicker",onMouseLeave:_,size:P,...A,...j?{}:I,__stopPropagation:Y,__setDateRef:L,__setLevelRef:T,minLevel:A.minLevel||"month",__onDayMouseEnter:(O,F)=>{g(F),y==null||y(O,F)},__onDayClick:(O,F)=>{G(F),x==null||x(O,F)},getDayProps:O=>{var F;return{...m(O),...(F=A.getDayProps)==null?void 0:F.call(A,O)}},getMonthControlProps:O=>{var F;return{selected:typeof v=="string"?Ut(O,v):!1,...(F=A.getMonthControlProps)==null?void 0:F.call(A,O)}},getYearControlProps:O=>{var F;return{selected:typeof v=="string"?b(O).isSame(v,"year"):!1,...(F=A.getYearControlProps)==null?void 0:F.call(A,O)}},hideOutsideDates:A.hideOutsideDates??A.numberOfColumns!==1,...j?{}:{className:E,style:R,attributes:$}});if(!j)return M;const w=O=>{var q,Z;const F=Array.isArray(O)?O[0]:O;F!==void 0&&((q=L.current)==null||q.call(L,F),(Z=T.current)==null||Z.call(T,"month"),h?h(F):p(O))},C=j.map((O,F)=>n.jsx(Ae,{...H("presetButton"),onClick:()=>w(O.value),onMouseDown:q=>q.preventDefault(),"data-mantine-stop-propagation":Y||void 0,children:O.label},F));return n.jsxs(me,{...H("datePickerRoot"),size:P,...I,children:[n.jsx("div",{...H("presetsList"),children:C}),M]})});wt.classes=kt.classes;wt.displayName="@mantine/dates/DatePicker";function tr({type:e,value:t,defaultValue:s,onChange:a,locale:r,format:o,closeOnChange:i,sortDates:l,labelSeparator:c,valueFormatter:f}){const u=we(),[D,x]=ca(!1),[y,h]=Qt({type:e,value:t,defaultValue:s,onChange:a}),Y=hn({type:e,date:y,locale:u.getLocale(r),format:o,labelSeparator:u.getLabelSeparator(c),formatter:f}),j=N=>{i&&(e==="default"&&x.close(),e==="range"&&N[0]&&N[1]&&x.close()),h(l&&e==="multiple"?[...N].sort((P,S)=>b(P).isAfter(b(S))?1:-1):N)},E=()=>j(e==="range"?[null,null]:e==="multiple"?[]:null),R=e==="range"?!!y[0]:e==="multiple"?y.length>0:y!==null;return{_value:y,setValue:j,onClear:E,shouldClear:R,formattedValue:Y,dropdownOpened:D,dropdownHandlers:x}}const sr={type:"default",valueFormat:"MMMM D, YYYY",closeOnChange:!0,sortDates:!0,dropdownType:"popover"},Jt=te((e,t)=>{const s=se("DatePickerInput",sr,e),{type:a,value:r,defaultValue:o,onChange:i,valueFormat:l,labelSeparator:c,locale:f,classNames:u,styles:D,unstyled:x,closeOnChange:y,size:h,variant:Y,dropdownType:j,sortDates:E,minDate:R,maxDate:N,vars:P,defaultDate:S,valueFormatter:$,presets:W,attributes:A,...I}=s,{resolvedClassNames:L,resolvedStyles:T}=Xe({classNames:u,styles:D,props:s}),{calendarProps:H,others:G}=Bs(I),{_value:_,setValue:g,formattedValue:m,dropdownHandlers:v,dropdownOpened:p,onClear:k,shouldClear:d}=tr({type:a,value:r,defaultValue:o,onChange:i,locale:f,format:l,labelSeparator:c,closeOnChange:y,sortDates:E,valueFormatter:$}),M=Array.isArray(_)?_[0]||S:_||S;return n.jsx(Ct,{formattedValue:m,dropdownOpened:p,dropdownHandlers:v,classNames:L,styles:T,unstyled:x,ref:t,onClear:k,shouldClear:d,value:_,size:h,variant:Y,dropdownType:j,...G,type:a,__staticSelector:"DatePickerInput",attributes:A,children:n.jsx(wt,{...H,size:h,variant:Y,type:a,value:_,defaultDate:M||yn({maxDate:N,minDate:R}),onChange:g,locale:f,classNames:L,styles:T,unstyled:x,__staticSelector:"DatePickerInput",__stopPropagation:j==="popover",minDate:R,maxDate:N,presets:W,attributes:A})})});Jt.classes={...Ct.classes,...wt.classes};Jt.displayName="@mantine/dates/DatePickerInput";function ar({form:e,cadence:t}){var o;const{type:s}=t,[a,r]=z.useState(s);return z.useEffect(()=>{if(a===t.type)return;const i=ua[a];i(e)},[t.type,e,a]),n.jsxs(n.Fragment,{children:[n.jsx(Ye,{size:"sm",label:"Cadence",placeholder:"Cadence",data:da.map(i=>({value:i,label:Ls.prettifyKebabCase(i)})),value:a,onChange:i=>{i&&r(i)},error:(o=e.formState.errors.cadence)==null?void 0:o.message,nothingFoundMessage:"Nothing found..."}),n.jsx(De,{h:"sm"}),s==="daily"&&null,s==="monthly-by-day"&&n.jsxs(n.Fragment,{children:[n.jsx(Ye,{size:"sm",label:"Day of the Month",placeholder:"Day of the Month",data:ha.map(i=>({value:i.value,label:i.label})),...e.register("cadence.dayOfTheMonth"),value:String(e.watch("cadence.dayOfTheMonth")),onChange:i=>{const l=Number(i);Number.isNaN(l)||e.setValue("cadence.dayOfTheMonth",l)},nothingFoundMessage:"Nothing found..."}),n.jsx(De,{h:"sm"})]}),s==="monthly-by-weekday"&&n.jsxs(n.Fragment,{children:[n.jsx(Ye,{size:"sm",label:"Week of the Month",placeholder:"Week of the Month",data:fa.map(i=>({value:i.value,label:i.label})),...e.register("cadence.weekOfTheMonth"),value:String(e.watch("cadence.weekOfTheMonth")),onChange:i=>{const l=Number(i);Number.isNaN(l)||e.setValue("cadence.weekOfTheMonth",l)},nothingFoundMessage:"Nothing found..."}),n.jsx(De,{h:"sm"}),n.jsx(Ye,{size:"sm",label:"Day of the Week",placeholder:"Day of the Week",data:as.map(i=>({value:i.value,label:i.label})),...e.register("cadence.dayOfTheWeek"),value:String(e.watch("cadence.dayOfTheWeek")),onChange:i=>{const l=Number(i);Number.isNaN(l)||e.setValue("cadence.dayOfTheWeek",l)},nothingFoundMessage:"Nothing found..."}),n.jsx(De,{h:"sm"})]}),s==="one-time"&&null,s==="time-based-recurrence"&&n.jsxs(n.Fragment,{children:[n.jsx(Ye,{size:"sm",label:"Time Frame",placeholder:"Time Frame",data:ma.map(i=>({value:i,label:i})),...e.register("cadence.timeFrame"),value:e.watch("cadence.timeFrame"),onChange:i=>{i&&e.setValue("cadence.timeFrame",i)},nothingFoundMessage:"Nothing found..."}),n.jsx(De,{h:"sm"}),n.jsx(Ma,{size:"sm",label:"Amount",placeholder:"Amount",...e.register("cadence.amount"),value:e.watch("cadence.amount"),onChange:i=>{const l=Number(i);e.setValue("cadence.amount",Number.isNaN(l)?0:l)},min:1,max:100}),n.jsx(De,{h:"sm"})]}),s==="weekly"&&n.jsxs(n.Fragment,{children:[n.jsx(Ye,{size:"sm",label:"Day of the Week",placeholder:"Day of the Week",data:as.map(i=>({value:i.value,label:i.label})),...e.register("cadence.dayOfTheWeek"),value:String(e.watch("cadence.dayOfTheWeek")),onChange:i=>{const l=Number(i);Number.isNaN(l)||e.setValue("cadence.dayOfTheWeek",l)},nothingFoundMessage:"Nothing found..."}),n.jsx(De,{h:"sm"})]}),s==="yearly-by-day"&&null]})}function Ks({action:e,categories:t,form:s,isPending:a,onSubmit:r,resources:o}){var c,f,u,D,x,y;const i=s.formState.errors,l=(c=i.root)==null?void 0:c.message;return n.jsxs("form",{onSubmit:s.handleSubmit(r),children:[n.jsx(wa,{size:"sm",label:"Name",placeholder:"Name",...s.register("name"),error:(f=i.name)==null?void 0:f.message}),n.jsx(De,{h:"sm"}),n.jsx(ba,{size:"sm",label:"Description",placeholder:"Description",...s.register("description"),error:(u=i.description)==null?void 0:u.message,autosize:!0,minRows:2,maxRows:5}),n.jsx(De,{h:"sm"}),n.jsx(Gt,{size:"sm",label:"Resources",placeholder:"Resources",data:o.map(h=>({value:h.id,label:h.name})),...s.register("resourcesIds"),value:s.watch("resourcesIds")??[],onChange:h=>{s.setValue("resourcesIds",h)},error:(D=i.resourcesIds)==null?void 0:D.message,nothingFoundMessage:"Nothing found..."}),n.jsx(De,{h:"sm"}),n.jsx(Ye,{size:"sm",label:"Category",placeholder:"Category",data:t.map(h=>({value:h.id,label:h.name})),...s.register("categoryId"),value:s.watch("categoryId"),onChange:h=>{s.setValue("categoryId",h)},error:(x=i.categoryId)==null?void 0:x.message,nothingFoundMessage:"Nothing found..."}),n.jsx(Aa,{my:"sm"}),n.jsx(ar,{form:s,cadence:s.watch("cadence")}),n.jsx(Jt,{label:"Starting Date",placeholder:"Pick Starting Date",...s.register("anchorDate"),value:s.watch("anchorDate"),onChange:h=>{h&&s.setValue("anchorDate",h)},error:(y=i.anchorDate)==null?void 0:y.message}),l&&n.jsxs(n.Fragment,{children:[n.jsx(De,{h:"xl"}),n.jsx($a,{color:"pink",title:l})]}),n.jsx(De,{h:"xl"}),n.jsxs(gs,{type:"submit",w:"100%",loading:a,children:[e," Task"]})]})}function nr({onClose:e}){const t=Ds({defaultValues:{name:"",description:"",categoryId:null,resourcesIds:[],anchorDate:on.today(),cadence:{type:"daily"}}}),{mutate:s,isPending:a}=Za(),r=z.useCallback(o=>{s({name:o.name,description:o.description===""?null:o.description,categoryId:o.categoryId,resourcesIds:o.resourcesIds,cadence:o.cadence,anchorDate:o.anchorDate},{onSuccess:()=>{e(),dt.show({color:"green",title:"Created",message:"Task created successfully"})},onError:i=>{if(!vs(i)){t.setError("root",{message:"Something went wrong!"});return}bs({axiosError:i,setError:t.setError})}})},[t,e,s]);return z.useMemo(()=>({form:t,isPending:a,onSubmit:r}),[t,a,r])}function rr(){const e=xs(),t=Cs();return z.useMemo(()=>e.isLoading||t.isLoading?{status:"loading"}:e.isSuccess&&t.isSuccess?{status:"success",categories:e.data,resources:t.data}:{status:"error",retry:{onClick:()=>{e.refetch(),t.refetch()},isPending:e.isFetching||t.isFetching}},[e,t])}function or({categories:e,onClose:t,resources:s}){const{form:a,isPending:r,onSubmit:o}=nr({onClose:t});return n.jsx(Ks,{action:"Create",categories:e,form:a,isPending:r,onSubmit:o,resources:s})}function ir({onClose:e}){const{status:t,categories:s,resources:a,retry:r}=rr();return t==="error"?n.jsx(It,{title:"Couldn't fetch your categories or resources.",retry:r}):t==="success"?n.jsx(or,{categories:s,onClose:e,resources:a}):n.jsx(Ss,{})}function lr({id:e,onClose:t}){const s=Ua(),a=z.useCallback(()=>{t()},[t]),r=z.useCallback(()=>{s.mutate({id:e},{onSuccess:()=>{dt.show({color:"green",title:"Deleted",message:"Task deleted successfully"})},onError:()=>{dt.show({color:"red",title:"Failed",message:"Couldn't delete task. Please try again shortly."})},onSettled:()=>{t()}})},[s,e,t]);return z.useMemo(()=>({isPending:s.isPending,onCancel:a,onDelete:r}),[s.isPending,a,r])}function cr({id:e,onClose:t}){const{isPending:s,onCancel:a,onDelete:r}=lr({id:e,onClose:t});return n.jsx(Ca,{isCancelationPrimary:!0,isPending:s,mainLabel:"Delete",onCancel:a,onClickMain:r,verb:"delete this task"})}function ur({id:e,categories:t,onClose:s,resources:a,task:r}){var f;const o=Ds({defaultValues:{name:r.name,description:r.description,resourcesIds:(r.resources??[]).filter(u=>!!a.find(D=>D.id===u.id)).map(({id:u})=>u),categoryId:(f=r.category)!=null&&f.id&&t.find(u=>{var D;return u.id===((D=r.category)==null?void 0:D.id)})?r.category.id:"",cadence:r.cadence,anchorDate:r.anchorDate}}),{mutate:i,isPending:l}=Xa(),c=z.useCallback(u=>{i({id:e,name:u.name,description:u.description===""?null:u.description,categoryId:u.categoryId,resourcesIds:u.resourcesIds,cadence:u.cadence,anchorDate:u.anchorDate},{onSuccess:()=>{s(),dt.show({color:"green",title:"Edited",message:"Task edited successfully"})},onError:D=>{if(!vs(D)){o.setError("root",{message:"Something went wrong!"});return}bs({axiosError:D,setError:o.setError})}})},[e,o,s,i]);return z.useMemo(()=>({form:o,isPending:l,onSubmit:c}),[o,l,c])}function dr({id:e}){const t=xs(),s=Cs(),a=Ja({id:e});return z.useMemo(()=>a.isLoading||t.isLoading||s.isLoading?{status:"loading"}:a.isSuccess&&t.isSuccess&&s.isSuccess?{status:"success",categories:t.data,resources:s.data,task:a.data}:{status:"error",retry:{onClick:()=>{t.refetch(),s.refetch(),a.refetch()},isPending:t.isFetching||s.isFetching||a.isFetching}},[t,s,a])}function hr({id:e,categories:t,resources:s,task:a,onClose:r}){const{form:o,isPending:i,onSubmit:l}=ur({id:e,categories:t,resources:s,task:a,onClose:r});return n.jsx(Ks,{action:"Edit",categories:t,form:o,isPending:i,onSubmit:l,resources:s})}function fr({id:e,onClose:t}){const{status:s,categories:a,resources:r,retry:o,task:i}=dr({id:e});return s==="error"?n.jsx(It,{title:"Couldn't fetch task, categories and resources.",retry:o}):s==="success"?n.jsx(hr,{id:e,categories:a,resources:r,task:i,onClose:t}):n.jsx(Ss,{})}function mr(){const{mode:e,setMode:t}=Ms(),s=z.useCallback(()=>{t({type:J.BROWSE})},[t]);return n.jsxs(n.Fragment,{children:[n.jsx(it,{centered:!0,opened:e.type===J.CREATE,onClose:s,title:"Create Task",children:e.type===J.CREATE&&n.jsx(ir,{onClose:s})}),n.jsx(it,{centered:!0,opened:e.type===J.DELETE,onClose:s,title:"Delete Task",children:e.type===J.DELETE&&n.jsx(cr,{id:e.id,onClose:s})}),n.jsx(it,{centered:!0,opened:e.type===J.EDIT,onClose:s,title:"Edit Task",children:e.type===J.EDIT&&n.jsx(fr,{id:e.id,onClose:s})})]})}function pr(){const e=new Array(8).fill(null);return n.jsx(_s,{direction:"column",gap:"xs",children:e.map((t,s)=>n.jsxs(ps,{children:[n.jsx($t,{flex:1,height:20}),n.jsx($t,{flex:6,height:20}),n.jsx($t,{flex:2,height:20})]},s))})}function yr(){const{status:e,onCreate:t,onDelete:s,onEdit:a,retry:r,tableEntries:o}=sn();return n.jsxs(n.Fragment,{children:[n.jsxs(_s,{py:"md",align:"start",justify:"space-between",direction:{base:"column",sm:"row"},gap:"sm",children:[n.jsxs(ns,{children:[n.jsx(pa,{size:"h2",order:4,children:"Tasks"}),n.jsx(Wt,{size:"sm",c:"gray",fw:500,children:"Used for planning and managing activities, chores, or maintenance related to your house."})]}),e==="success"&&n.jsx(gs,{leftSection:n.jsx(_a,{style:{width:"1.3rem",height:"1.3rem"}}),size:"sm",onClick:t,children:"Add Task"})]}),n.jsx(ns,{p:"md",withBorder:!0,flex:1,children:e==="loading"?n.jsx(pr,{}):e==="error"?n.jsx(It,{title:"Couldn't fetch tasks.",retry:r}):n.jsx(nn,{tableEntries:o,onDelete:s,onEdit:a})}),e==="success"&&n.jsx(mr,{})]})}function gr(){return n.jsx(tn,{children:n.jsx(yr,{})})}function Er(){return n.jsxs(n.Fragment,{children:[n.jsxs(Fa,{children:[n.jsx(Ra,{component:ga,to:ya({type:Da.DASHBOARD}),children:"Dashboard"}),n.jsx(Wt,{c:"violet",children:"Tasks"})]}),n.jsx(gr,{})]})}export{Er as default};
