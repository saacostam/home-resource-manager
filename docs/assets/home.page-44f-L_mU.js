import{r as C,u as M,j as t,B as _,g as se,a as $e,c as Ze,f as G,b as A,d as U,e as Ce,U as Qe,h as ne,p as be,i as W,k as Se,l as qe,m as We,n as Xe,o as Ie,P as w,q as Je,s as Ye,t as et,T as tt,L as st,O as ge,v as oe,w as re,M as Te,Q as O,x as nt,y as ot,S as z,F as S,z as ve,A as N,R as we,C as K,D as $,E as Z,G as Q,H as q,I as rt,J as at,K as it}from"./index-DuQDkFW6.js";import{Q as ae}from"./query-error-CPoEjsX9.js";import{u as ct,B as lt,a as dt,b as ut,c as mt}from"./use-put-update-board-by-id-Bl7eXNVY.js";import{S as E,u as ht,a as pt}from"./Skeleton-MD4rWetC.js";import{E as xt,T as gt}from"./empty-query-DG-_z45R.js";import{C as _e,S as vt}from"./Select-BFGbC1sJ.js";import{I as X,u as yt,a as Ee}from"./types-B2oBN-sw.js";import{D as ye}from"./Divider-BFNPXH90.js";import{B as jt}from"./Badge-DlQA0Tog.js";import"./TextInput-ooBqQFUB.js";import"./get-base-value-JqT_q0U7.js";import"./clamp-DTmYCdls.js";import"./external-BBFMxzg7.js";function Be(e,s){return typeof e=="boolean"?e:s.autoContrast}var Ae={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const kt=Ae,Le=C.forwardRef(({__staticSelector:e,__stylesApiProps:s,className:n,classNames:o,styles:r,unstyled:i,children:l,label:a,description:c,id:h,disabled:d,error:u,size:m,labelPosition:j="left",bodyElement:g="div",labelElement:v="label",variant:p,style:y,vars:I,mod:k,attributes:B,...f},T)=>{const b=M({name:e,props:s,className:n,style:y,classes:Ae,classNames:o,styles:r,unstyled:i,attributes:B});return t.jsx(_,{...b("root"),ref:T,__vars:{"--label-fz":$e(m),"--label-lh":se(m,"label-lh")},mod:[{"label-position":j},k],variant:p,size:m,...f,children:t.jsxs(_,{component:g,htmlFor:g==="label"?h:void 0,...b("body"),children:[l,t.jsxs("div",{...b("labelWrapper"),"data-disabled":d||void 0,children:[a&&t.jsx(_,{component:v,htmlFor:v==="label"?h:void 0,...b("label"),"data-disabled":d||void 0,children:a}),c&&t.jsx(X.Description,{size:m,__inheritStyles:!1,...b("description"),children:c}),u&&typeof u!="boolean"&&t.jsx(X.Error,{size:m,__inheritStyles:!1,...b("error"),children:u})]})]})})});Le.displayName="@mantine/core/InlineInput";const Pe=C.createContext(null),ft=Pe.Provider,De=()=>C.useContext(Pe),[Ct,bt]=Ze();var Ne={card:"m_26775b0a"};const St={withBorder:!0},It=U((e,{radius:s})=>({card:{"--card-radius":ne(s)}})),ie=G((e,s)=>{const n=A("CheckboxCard",St,e),{classNames:o,className:r,style:i,styles:l,unstyled:a,vars:c,checked:h,mod:d,withBorder:u,value:m,onClick:j,defaultChecked:g,onChange:v,attributes:p,...y}=n,I=M({name:"CheckboxCard",classes:Ne,props:n,className:r,style:i,classNames:o,styles:l,unstyled:a,attributes:p,vars:c,varsResolver:It,rootSelector:"card"}),k=De(),B=typeof h=="boolean"?h:k?k.value.includes(m||""):void 0,[f,T]=Ce({value:B,defaultValue:g,finalValue:!1,onChange:v});return t.jsx(Ct,{value:{checked:f},children:t.jsx(Qe,{ref:s,mod:[{"with-border":u,checked:f},d],...I("card"),...y,role:"checkbox","aria-checked":f,onClick:b=>{j==null||j(b),k==null||k.onChange(m||""),T(!f)}})})});ie.displayName="@mantine/core/CheckboxCard";ie.classes=Ne;function Tt({children:e,role:s}){const n=yt();return n?t.jsx("div",{role:s,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:e}):t.jsx(t.Fragment,{children:e})}const ce=G((e,s)=>{const{value:n,defaultValue:o,onChange:r,size:i,wrapperProps:l,children:a,readOnly:c,...h}=A("CheckboxGroup",null,e),[d,u]=Ce({value:n,defaultValue:o,finalValue:[],onChange:r}),m=j=>{const g=typeof j=="string"?j:j.currentTarget.value;!c&&u(d.includes(g)?d.filter(v=>v!==g):[...d,g])};return t.jsx(ft,{value:{value:d,onChange:m,size:i},children:t.jsx(X.Wrapper,{size:i,ref:s,...l,...h,labelElement:"div",__staticSelector:"CheckboxGroup",children:t.jsx(Tt,{role:"group",children:a})})})});ce.classes=X.Wrapper.classes;ce.displayName="@mantine/core/CheckboxGroup";var Me={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const wt={icon:_e},_t=U((e,{radius:s,color:n,size:o,iconColor:r,variant:i,autoContrast:l})=>{const a=be({color:n||e.primaryColor,theme:e}),c=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--checkbox-size":se(o,"checkbox-size"),"--checkbox-radius":s===void 0?void 0:ne(s),"--checkbox-color":i==="outline"?c:W(n,e),"--checkbox-icon-color":r?W(r,e):Be(l,e)?Se({color:n,theme:e,autoContrast:l}):void 0}}}),le=G((e,s)=>{const n=A("CheckboxIndicator",wt,e),{classNames:o,className:r,style:i,styles:l,unstyled:a,vars:c,icon:h,indeterminate:d,radius:u,color:m,iconColor:j,autoContrast:g,checked:v,mod:p,variant:y,disabled:I,attributes:k,...B}=n,f=M({name:"CheckboxIndicator",classes:Me,props:n,className:r,style:i,classNames:o,styles:l,unstyled:a,attributes:k,vars:c,varsResolver:_t,rootSelector:"indicator"}),T=bt(),b=typeof v=="boolean"||typeof d=="boolean"?v||d:(T==null?void 0:T.checked)||!1;return t.jsx(_,{ref:s,...f("indicator",{variant:y}),variant:y,mod:[{checked:b,disabled:I},p],...B,children:t.jsx(h,{indeterminate:d,...f("icon")})})});le.displayName="@mantine/core/CheckboxIndicator";le.classes=Me;var Re={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const Et={labelPosition:"right",icon:_e},Bt=U((e,{radius:s,color:n,size:o,iconColor:r,variant:i,autoContrast:l})=>{const a=be({color:n||e.primaryColor,theme:e}),c=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--checkbox-size":se(o,"checkbox-size"),"--checkbox-radius":s===void 0?void 0:ne(s),"--checkbox-color":i==="outline"?c:W(n,e),"--checkbox-icon-color":r?W(r,e):Be(l,e)?Se({color:n,theme:e,autoContrast:l}):void 0}}}),R=G((e,s)=>{const n=A("Checkbox",Et,e),{classNames:o,className:r,style:i,styles:l,unstyled:a,vars:c,color:h,label:d,id:u,size:m,radius:j,wrapperProps:g,checked:v,labelPosition:p,description:y,error:I,disabled:k,variant:B,indeterminate:f,icon:T,rootRef:b,iconColor:hs,onChange:V,autoContrast:ps,mod:Oe,attributes:Ge,...Ue}=n,L=De(),Ve=m||(L==null?void 0:L.size),H=M({name:"Checkbox",props:n,classes:Re,className:r,style:i,classNames:o,styles:l,unstyled:a,attributes:Ge,vars:c,varsResolver:Bt}),{styleProps:He,rest:me}=qe(Ue),he=We(u),pe=L?{checked:L.value.includes(me.value),onChange:xe=>{L.onChange(xe),V==null||V(xe)}}:{},Ke=C.useRef(null),P=s||Ke;return C.useEffect(()=>{P&&"current"in P&&P.current&&(P.current.indeterminate=f||!1)},[f,P]),t.jsx(Le,{...H("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:he,size:Ve,labelPosition:p,label:d,description:y,error:I,disabled:k,classNames:o,styles:l,unstyled:a,"data-checked":pe.checked||v||void 0,variant:B,ref:b,mod:Oe,...He,...g,children:t.jsxs(_,{...H("inner"),mod:{"data-label-position":p},children:[t.jsx(_,{component:"input",id:he,ref:P,checked:v,disabled:k,mod:{error:!!I,indeterminate:f},...H("input",{focusable:!0,variant:B}),onChange:V,...me,...pe,type:"checkbox"}),t.jsx(T,{indeterminate:f,...H("icon")})]})})});R.classes={...Re,...kt};R.displayName="@mantine/core/Checkbox";R.Group=ce;R.Indicator=le;R.Card=ie;const[At,Lt]=Xe("Card component was not found in tree");var de={root:"m_e615b15f",section:"m_599a2148"};const J=Ie((e,s)=>{const n=A("CardSection",null,e),{classNames:o,className:r,style:i,styles:l,vars:a,withBorder:c,inheritPadding:h,mod:d,...u}=n,m=Lt();return t.jsx(_,{ref:s,mod:[{"with-border":c,"inherit-padding":h},d],...m.getStyles("section",{className:r,style:i,styles:l,classNames:o}),...u})});J.classes=de;J.displayName="@mantine/core/CardSection";const Pt=U((e,{padding:s})=>({root:{"--card-padding":Je(s)}})),Y=Ie((e,s)=>{const n=A("Card",null,e),{classNames:o,className:r,style:i,styles:l,unstyled:a,vars:c,children:h,padding:d,attributes:u,...m}=n,j=M({name:"Card",props:n,classes:de,className:r,style:i,classNames:o,styles:l,unstyled:a,attributes:u,vars:c,varsResolver:Pt}),g=C.Children.toArray(h),v=g.map((p,y)=>typeof p=="object"&&p&&"type"in p&&p.type===J?C.cloneElement(p,{"data-first-section":y===0||void 0,"data-last-section":y===g.length-1||void 0}):p);return t.jsx(At,{value:{getStyles:j},children:t.jsx(w,{ref:s,unstyled:a,...j("root"),...m,children:v})})});Y.classes=de;Y.displayName="@mantine/core/Card";Y.Section=J;var Fe={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const je={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:Ye("overlay")},Dt=U((e,{zIndex:s})=>({root:{"--lo-z-index":s==null?void 0:s.toString()}})),ue=G((e,s)=>{const n=A("LoadingOverlay",je,e),{classNames:o,className:r,style:i,styles:l,unstyled:a,vars:c,transitionProps:h,loaderProps:d,overlayProps:u,visible:m,zIndex:j,attributes:g,...v}=n,p=et(),y=M({name:"LoadingOverlay",classes:Fe,props:n,className:r,style:i,classNames:o,styles:l,unstyled:a,attributes:g,vars:c,varsResolver:Dt}),I={...je.overlayProps,...u};return t.jsx(tt,{transition:"fade",...h,mounted:!!m,children:k=>t.jsxs(_,{...y("root",{style:k}),ref:s,...v,children:[t.jsx(st,{...y("loader"),unstyled:a,...d}),t.jsx(ge,{...I,...y("overlay"),darkHidden:!0,unstyled:a,color:(u==null?void 0:u.color)||p.white}),t.jsx(ge,{...I,...y("overlay"),lightHidden:!0,unstyled:a,color:(u==null?void 0:u.color)||p.colors.dark[5]})]})})});ue.classes=Fe;ue.displayName="@mantine/core/LoadingOverlay";function Nt({width:e,height:s,style:n}){return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",width:e,height:s,style:n,children:[t.jsx("title",{children:"Bell Alert Icon"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 7.5A8.969 8.969 0 0 1 5.292 3m13.416 0a8.969 8.969 0 0 1 2.168 4.5"})]})}function Mt({height:e,width:s,style:n}){return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",height:e,width:s,style:n,children:[t.jsx("title",{children:"Calendar Days Icon"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"})]})}function ke({width:e,height:s,style:n}){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",width:e,height:s,style:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})}function Rt({width:e,height:s,style:n}){return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",width:e,height:s,style:n,children:[t.jsx("title",{children:"Clock Icon"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})]})}function Ft({board:e,updateBoardContent:s}){const{editor:n}=ct({defaultContent:e.content,onUpdate:({editor:o})=>{s(o.getHTML())}});return t.jsx(t.Fragment,{children:t.jsx(lt,{editor:n})})}function zt(){return t.jsx(E,{h:256})}function Ot(){const e=oe(),{taskInstances:s}=re();return Ee({mutationKey:[Te.POST_CREATE_TASK_COMPLETION],mutationFn:n=>s.createTaskCompletion(n),onSettled:()=>{e.invalidateQueries({queryKey:[O.GET_IMMEDIATE_TASK_INSTANCES]})}})}function Gt(){const e=oe(),{taskInstances:s}=re();return Ee({mutationKey:[Te.DELETE_DELETE_TASK_COMPLETION],mutationFn:n=>s.deleteTaskCompletion(n),onSettled:()=>{e.invalidateQueries({queryKey:[O.GET_IMMEDIATE_TASK_INSTANCES]})}})}function ze(){const{taskInstances:e}=re();return nt({queryKey:[O.GET_IMMEDIATE_TASK_INSTANCES],queryFn:()=>e.getImmediateTaskInstances()})}const Ut=500;function Vt({id:e}){const s=dt({req:{id:e}}),n=ut(),o=ht(r=>{n.mutate({id:e,content:r},{onError:()=>{ot.show({color:"red",title:"Failed",message:"Unable to save board content. Some changes may not have been saved. Please try again shortly."})}})},Ut);return C.useMemo(()=>s.isLoading?{status:"loading"}:s.isSuccess?{status:"success",data:Ht({res:s.data}),updateBoardContent:o}:{status:"error",retry:{isPending:s.isPending,onClick:s.refetch}},[s.data,s.isLoading,s.isPending,s.isSuccess,s.refetch,o])}function Ht(e){return{id:e.res.id,name:e.res.name,content:e.res.content}}function Kt({id:e}){const{status:s,data:n,retry:o,updateBoardContent:r}=Vt({id:e});return s==="success"?t.jsx(Ft,{board:n,updateBoardContent:r}):t.jsx(zt,{})}function $t({boards:e}){const[s,n]=C.useState(null);return t.jsxs(t.Fragment,{children:[t.jsx(vt,{size:"sm",placeholder:"Board",data:e.map(o=>({value:o.id,label:o.name})),value:s,onChange:o=>{n(o)},nothingFoundMessage:"Nothing found...",searchable:!0,clearable:!0}),t.jsx(z,{h:"lg"}),s?t.jsx("div",{children:t.jsx(Kt,{id:s})},s):t.jsx(xt,{title:"Nothing Selected",description:"Please select a Board"})]})}function Zt(){return t.jsxs(S,{direction:"column",gap:"sm",children:[t.jsx(E,{height:36}),t.jsx(E,{height:128})]})}function Qt(){const e=mt();return C.useMemo(()=>e.isLoading?{status:"loading"}:e.isSuccess?{status:"success",data:qt({res:e.data})}:{status:"error",retry:{isPending:e.isPending,onClick:e.refetch}},[e.data,e.isLoading,e.isPending,e.isSuccess,e.refetch])}function qt(e){return e.res.boards.map(s=>({id:s.id,name:s.name}))}function Wt(){const{status:e,data:s,retry:n}=Qt();return e==="error"?t.jsx(ae,{title:"Couldn't fetch boards.",retry:n}):e==="success"?t.jsx($t,{boards:s}):t.jsx(Zt,{})}const x=[];for(let e=0;e<256;++e)x.push((e+256).toString(16).slice(1));function Xt(e,s=0){return(x[e[s+0]]+x[e[s+1]]+x[e[s+2]]+x[e[s+3]]+"-"+x[e[s+4]]+x[e[s+5]]+"-"+x[e[s+6]]+x[e[s+7]]+"-"+x[e[s+8]]+x[e[s+9]]+"-"+x[e[s+10]]+x[e[s+11]]+x[e[s+12]]+x[e[s+13]]+x[e[s+14]]+x[e[s+15]]).toLowerCase()}let ee;const Jt=new Uint8Array(16);function Yt(){if(!ee){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ee=crypto.getRandomValues.bind(crypto)}return ee(Jt)}const es=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),fe={randomUUID:es};function ts(e,s,n){var r;if(fe.randomUUID&&!e)return fe.randomUUID();e=e||{};const o=e.random??((r=e.rng)==null?void 0:r.call(e))??Yt();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,Xt(o)}function ss(){const e=oe(),s=ze(),n=Ot(),o=Gt(),r=C.useCallback(l=>{e.setQueriesData({queryKey:[O.GET_IMMEDIATE_TASK_INSTANCES],type:"active"},a=>a&&new ve({stats:a.stats,taskInstances:a.taskInstances.map(c=>c.status.type==="virtual"&&c.date===l.date&&c.task.id===l.taskId?{...c,status:{type:"mutating"}}:c)})),n.mutate({date:l.date,taskId:l.taskId})},[n,e]),i=C.useCallback(l=>{e.setQueriesData({queryKey:[O.GET_IMMEDIATE_TASK_INSTANCES],type:"active"},a=>a&&new ve({stats:a.stats,taskInstances:a.taskInstances.map(c=>c.status.type==="committed"&&c.status.id===l.id?{...c,status:{type:"mutating"}}:c)})),o.mutate({id:l.id})},[o,e]);return C.useMemo(()=>s.isLoading?{status:"loading"}:s.isSuccess?{status:"success",tableEntries:ns(s.data),onCreateTaskCompletion:r,onDeleteTaskCompletion:i,isFetching:s.isFetching||n.isPending||o.isPending}:{status:"error",retry:{onClick:s.refetch,isPending:s.isFetching}},[n.isPending,o.isPending,r,i,s.data,s.isFetching,s.isLoading,s.isSuccess,s.refetch])}function ns(e){var n;const s=new Map;for(const o of e.taskInstances){const r={id:ts(),name:o.task.name,description:o.task.description,categoryName:((n=o.task.category)==null?void 0:n.name)??null,status:o.status,taskId:o.task.id};s.set(o.date,[...s.has(o.date)?s.get(o.date)??[]:[],r])}return Array.from(s,([o,r])=>({utcDate:new Date(`${o}T00:00:00`),entries:r})).sort((o,r)=>o.utcDate.getTime()-r.utcDate.getTime())}function os({tableEntries:e,onCreateTaskCompletion:s,onDeleteTaskCompletion:n}){return t.jsx(pt,{offsetScrollbars:!0,scrollbarSize:6,children:t.jsx(S,{direction:"column",gap:"lg",children:e.map((o,r)=>t.jsxs(w,{withBorder:!0,children:[t.jsxs(S,{p:"sm",direction:"row",align:"center",gap:"xs",children:[t.jsx(gt,{variant:"light",children:t.jsx(Mt,{width:20,height:20})}),t.jsx(N,{size:"md",fw:"bold",lh:"xs",children:o.utcDate.toDateString()})]}),t.jsx(ye,{}),o.entries.map((i,l,a)=>{const c=i.status.type!=="virtual",h=()=>{},d=i.status.type==="virtual"?()=>{s({date:o.utcDate.toISOString().split("T")[0],taskId:i.taskId})}:i.status.type==="committed"?()=>{i.status.type==="committed"&&n({id:i.status.id})}:h;return t.jsxs(t.Fragment,{children:[t.jsx(w,{p:"sm",children:t.jsxs(S,{gap:"sm",align:"center",children:[t.jsx(R,{checked:c,disabled:i.status.type==="mutating",indeterminate:i.status.type==="mutating",onChange:d}),t.jsx(w,{style:{flex:1},children:t.jsx(N,{size:"sm",children:i.name})}),i.categoryName&&t.jsx(jt,{children:i.categoryName})]})}),l<a.length-1&&t.jsx(ye,{})]})})]},r))})})}function rs(){return t.jsxs(S,{direction:"column",gap:"lg",children:[t.jsx(E,{h:60}),t.jsx(E,{h:80}),t.jsx(E,{h:60})]})}function as(){const{status:e,onCreateTaskCompletion:s,onDeleteTaskCompletion:n,retry:o,tableEntries:r,isFetching:i}=ss();return e==="error"?t.jsx(ae,{title:"Couldn't fetch immediate tasks.",retry:o}):e==="success"?t.jsxs(_,{pos:"relative",children:[t.jsx(ue,{visible:i}),t.jsx(os,{onCreateTaskCompletion:s,onDeleteTaskCompletion:n,tableEntries:r})]}):t.jsx(rs,{})}function is(){const e=ze();return C.useMemo(()=>e.isLoading?{status:"loading"}:e.isSuccess?{status:"success",stats:cs(e.data.stats)}:{status:"error",retry:{onClick:e.refetch,isPending:e.isFetching}},[e.data,e.isFetching,e.isLoading,e.isSuccess,e.refetch])}function cs(e){return{...e}}const D={BASE:100,XS:130};function ls(){return t.jsxs(S,{direction:{base:"column",xs:"row"},gap:"md",justify:"center",children:[t.jsx(E,{h:{base:D.BASE,xs:D.XS},w:"100%"}),t.jsx(E,{h:{base:D.BASE,xs:D.XS},w:"100%"}),t.jsx(E,{h:{base:D.BASE,xs:D.XS},w:"100%"})]})}function te(e){const{bg:s,content:n,icon:o,title:r}=e;return t.jsx(Y,{bg:s,w:"100%",style:{color:"white"},children:t.jsxs(S,{direction:{base:"row",xs:"column"},align:{base:"normal",xs:"end"},children:[t.jsxs("div",{style:{width:"100%"},children:[t.jsx(N,{size:"md",fw:"bold",children:r}),t.jsx(N,{style:{fontSize:"2em"},children:n})]}),o]})})}const F={width:32,height:32};function ds({stats:e}){return t.jsxs(S,{direction:{base:"column",xs:"row"},gap:"md",justify:"center",children:[t.jsx(te,{bg:e.pendingTasks>0?"yellow":"green",content:e.pendingTasks,icon:e.pendingTasks>0?t.jsx(Rt,{...F}):t.jsx(ke,{...F}),title:"Pending Tasks"}),t.jsx(te,{title:"Overdue Tasks",bg:e.overdueTasks>0?"red":"green",content:e.overdueTasks,icon:e.overdueTasks>0?t.jsx(Nt,{...F}):t.jsx(ke,{...F})}),t.jsx(te,{bg:"violet",content:e.totalResources,icon:t.jsx(we,{...F}),title:"Total Resources"})]})}function us(){const{status:e,stats:s,retry:n}=is();return e==="error"?t.jsx(ae,{title:"Couldn't fetch stats.",retry:n}):e==="success"?t.jsx(ds,{stats:s}):t.jsx(ls,{})}function ms(){return t.jsxs(t.Fragment,{children:[t.jsxs(w,{py:"md",children:[t.jsx(K,{size:"h2",order:4,children:"Dashboard"}),t.jsx(N,{size:"sm",c:"gray",fw:500,children:new Date().toDateString()})]}),t.jsxs(S,{direction:{base:"column",md:"row"},gap:"md",children:[t.jsxs(w,{p:"md",withBorder:!0,flex:3,children:[t.jsx(K,{size:"h3",order:4,children:"Overview"}),t.jsx(z,{h:"xs"}),t.jsx(us,{})]}),t.jsx(w,{p:"md",withBorder:!0,flex:2,children:t.jsxs(S,{direction:"column",justify:"center",gap:"sm",h:"100%",children:[t.jsx($,{size:"sm",component:Q,to:Z({type:q.RESOURCES}),leftSection:t.jsx(we,{width:20,height:20}),children:"Resources"}),t.jsx($,{size:"sm",component:Q,to:Z({type:q.TASKS}),leftSection:t.jsx(rt,{width:20,height:20}),children:"Tasks"}),t.jsx($,{size:"sm",component:Q,to:Z({type:q.CATEGORIES}),variant:"outline",leftSection:t.jsx(at,{width:20,height:20}),children:"Categories"}),t.jsx($,{size:"sm",component:Q,to:Z({type:q.BOARDS}),variant:"outline",leftSection:t.jsx(it,{width:20,height:20}),children:"Boards"})]})})]}),t.jsx(z,{h:"md"}),t.jsxs(S,{direction:{base:"column",md:"row"},gap:"md",children:[t.jsxs(w,{p:"md",withBorder:!0,flex:3,children:[t.jsx(K,{size:"h3",order:4,children:"My Tasks"}),t.jsx(N,{size:"sm",c:"gray",children:"Most immediate tasks."}),t.jsx(z,{h:"xs"}),t.jsx(as,{})]}),t.jsxs(w,{p:"md",withBorder:!0,flex:2,children:[t.jsx(K,{size:"h3",order:4,children:"Boards"}),t.jsx(z,{h:"xs"}),t.jsx(Wt,{})]})]})]})}function _s(){return t.jsx(ms,{})}export{_s as default};
