import{r as g,bd as A,j as e,be as i,S as t,D as N,F as f,A as v,y as z,E as w,G as F,H as k}from"./index-Dph-KdTA.js";import{P as D,A as P}from"./auth-layout-irer_g9w.js";import{u as U,a as C}from"./use-query-all-timezones-u65mPcMc.js";import{T as m}from"./TextInput-D4lYxEtG.js";import{S as E}from"./Select-B0HnI243.js";import{A as I}from"./Alert-DxgmFpR2.js";import{S as n}from"./Skeleton-CJ5-Kzcs.js";import{A as M}from"./Anchor-C7SuYMB3.js";const G={guessDefault(){return Intl.DateTimeFormat().resolvedOptions().timeZone}};function O(){const r=g.useMemo(()=>G.guessDefault(),[]),s=U();return g.useMemo(()=>s.isLoading?{status:"loading"}:s.isSuccess?{status:"success",data:s.data,defaultTimezone:r}:{status:"error",defaultTimezone:r},[r,s.data,s.isLoading,s.isSuccess])}function S({defaultTimezone:r,timezones:s}){var u,c,d,x,p,h;const{form:a,isLoading:b,onSubmit:y}=A({defaultTimezone:r}),{handleSubmit:T}=a,{timezonesData:L}=C({countryTimezones:s.type==="available"?s.data:[]}),o=a.formState.errors,l=(u=o.root)==null?void 0:u.message;return e.jsxs("form",{onSubmit:T(y),children:[e.jsxs(i,{gutter:"sm",children:[e.jsx(i.Col,{span:{sm:12,md:6},children:e.jsx(m,{size:"sm",label:"First Name",placeholder:"First Name",...a.register("firstName"),error:(c=o.firstName)==null?void 0:c.message})}),e.jsx(i.Col,{span:{sm:12,md:6},children:e.jsx(m,{size:"sm",label:"Last Name",placeholder:"Last Name",...a.register("lastName"),error:(d=o.lastName)==null?void 0:d.message})})]}),e.jsx(t,{h:"sm"}),e.jsx(m,{size:"sm",label:"Username",placeholder:"Username",...a.register("username"),error:(x=o.username)==null?void 0:x.message}),e.jsx(t,{h:"sm"}),e.jsx(D,{size:"sm",label:"Password",placeholder:"Password",...a.register("password"),error:(p=o.password)==null?void 0:p.message}),e.jsx(t,{h:"sm"}),e.jsx(E,{size:"sm",label:"Timezone",placeholder:"Timezone",data:L,...a.register("timezone"),onChange:j=>{j&&a.setValue("timezone",j)},value:a.watch("timezone"),error:(h=o.timezone)==null?void 0:h.message,disabled:s.type==="unavailable",searchable:!0}),l&&e.jsxs(e.Fragment,{children:[e.jsx(t,{h:"xl"}),e.jsx(I,{color:"pink",title:l})]}),e.jsx(t,{h:"xl"}),e.jsx(N,{type:"submit",w:"100%",loading:b,children:"Sign Up"})]})}function R(){return e.jsxs(f,{gap:"lg",direction:"column",children:[e.jsxs(f,{gap:"sm",children:[e.jsx(n,{h:36}),e.jsx(n,{h:36})]}),e.jsx(n,{h:36}),e.jsx(n,{h:36}),e.jsx(n,{h:36}),e.jsx(t,{my:"xs"}),e.jsx(n,{h:36})]})}function q(){const{status:r,data:s,defaultTimezone:a}=O();return e.jsxs(P,{children:[e.jsx(v,{size:"h3",ta:"center",children:"Sign Up"}),e.jsx(z,{size:"sm",c:"dark",ta:"center",children:"üè° Manage. Streamline. Love your home."}),e.jsx(t,{my:"xl"}),r==="error"&&e.jsx(S,{timezones:{type:"unavailable"},defaultTimezone:a}),r==="success"&&e.jsx(S,{timezones:{type:"available",data:s},defaultTimezone:a}),r==="loading"&&e.jsx(R,{}),e.jsx(t,{h:"xl"}),e.jsxs(z,{size:"sm",c:"dark",ta:"center",children:["Already have an account?"," ",e.jsx(M,{component:F,to:w({type:k.LOGIN}),children:"Login"})]}),e.jsx(t,{h:"md"})]})}function X(){return e.jsx(q,{})}export{X as default};
